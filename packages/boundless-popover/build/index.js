module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"function"==typeof Symbol&&Symbol.iterator;e.exports=n(10)()},function(e,t){e.exports=require("boundless-dialog")},function(e,t){e.exports=require("boundless-portal")},function(e,t){e.exports=require("boundless-utils-omit-keys")},function(e,t){e.exports=require("boundless-utils-transform-property")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,c,s){if(o(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,c,s],h=0;p=new Error(t.replace(/%s/g,function(){return l[h++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(8),o=n(9),i=n(11);e.exports=function(){function e(e,t,n,r,a,c){c!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){switch(e[0]){case"N":return"S";case"S":return"N";case"E":return"W"}return"E"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),s=n.n(c),p=n(6),l=(n.n(p),n(7)),h=(n.n(l),n(5)),u=n.n(h),f=n(1),d=n.n(f),y=n(2),g=n.n(y),m=n(3),v=n.n(m),x=n(4),w=n.n(x),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=/\s?b-popover-(anchor|self)-(start|middle|end)/g,O=n.i(p.createElement)("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},n.i(p.createElement)("g",null,n.i(p.createElement)("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),n.i(p.createElement)("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"}))),N=[{name:"NNW",ax:0,ay:0,dx:0,dy:2},{name:"N",ax:1,ay:0,dx:1,dy:2},{name:"NNE",ax:2,ay:0,dx:2,dy:2},{name:"ENE",ax:2,ay:0,dx:0,dy:0},{name:"E",ax:2,ay:1,dx:0,dy:1},{name:"ESE",ax:2,ay:2,dx:0,dy:2},{name:"SSE",ax:2,ay:2,dx:2,dy:0},{name:"S",ax:1,ay:2,dx:1,dy:0},{name:"SSW",ax:0,ay:2,dx:0,dy:0},{name:"WSW",ax:0,ay:2,dx:2,dy:2},{name:"W",ax:0,ay:1,dx:2,dy:1},{name:"WNW",ax:0,ay:0,dx:2,dy:0}],P=function(e){function t(){var e,i,a,c;r(this,t);for(var s=arguments.length,p=Array(s),h=0;h<s;h++)p[h]=arguments[h];return i=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),a.align=function(){var e=a.props.anchor instanceof HTMLElement?a.props.anchor:n.i(l.findDOMNode)(a.props.anchor),r=a.props.caretAnchor?a.props.caretAnchor instanceof HTMLElement?a.props.caretAnchor:n.i(l.findDOMNode)(a.props.caretAnchor):e;a.cacheViewportCartography(e,r);var o=a.getValidAlignmentPreset(),i=t.getAlignmentClassFragment;a.dialog.$wrapper.className=a.dialog.$wrapper.className.replace(E,"")+" b-popover-anchor-x-"+i(o.ax)+" b-popover-anchor-y-"+i(o.ay)+" b-popover-self-x-"+i(o.dx)+" b-popover-self-y-"+i(o.dy);var c=Math.round(a.getNextDialogXPosition(o)),s=Math.round(a.getNextDialogYPosition(o));a.dialog.$wrapper.style[w.a]="translate("+c+"px, "+s+"px)";var p=o.name[0],h="N"===p||"S"===p;a.$caret.style[h?"left":"top"]=Math.round(a.getNextCaretXPosition(o))+"px",a.$caret.style[h?"top":"left"]="0px"},c=i,o(a,c)}return i(t,e),R(t,[{key:"cacheViewportCartography",value:function(e,t){var n=document.body.getBoundingClientRect();this.anchorRect=e.getBoundingClientRect(),this.caretAnchorRect=t.getBoundingClientRect(),this.bodyLeft=-1*n.left,this.bodyTop=-1*n.top}},{key:"getNextCaretXPosition",value:function(e){var t=e.name,n=(e.ax,e.dx),r=(e.ay,e.dy),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$caret,i=0;return"N"===t[0]||"S"===t[0]?(i=this.caretAnchorRect.left-this.anchorRect.left+this.caretAnchorRect.width/2,1===n?i+=(this.dialog.$wrapper.clientWidth-this.anchorRect.width)/2:2===n&&(i+=this.dialog.$wrapper.clientWidth-this.anchorRect.width)):(i=this.caretAnchorRect.top-this.anchorRect.top+this.caretAnchorRect.height/2,1===r?i+=(this.dialog.$wrapper.clientHeight-this.anchorRect.height)/2:2===r&&(i+=this.dialog.$wrapper.clientHeight-this.anchorRect.height)),i-=o.clientWidth/2}},{key:"getNextDialogXPosition",value:function(e){var t=e.ax,n=e.dx,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.left+this.bodyLeft;switch(t){case 1:o+=this.anchorRect.width/2;break;case 2:o+=this.anchorRect.width}switch(n){case 1:o-=r.clientWidth/2;break;case 2:o-=r.clientWidth}return o}},{key:"getNextDialogYPosition",value:function(e){var t=e.ay,n=e.dy,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.top+this.bodyTop;switch(t){case 1:o+=this.anchorRect.height/2;break;case 2:o+=this.anchorRect.height}switch(n){case 1:o-=r.clientHeight/2;break;case 2:o-=r.clientHeight}return o}},{key:"isPositionValid",value:function(e,t,n){var r=e.name,o=e.ax,i=e.ay,a=(e.dx,e.dy,r[0]);return"N"===a||"S"===a?!("N"===a&&this.anchorRect.top-t<0)&&(!("S"===a&&this.anchorRect.bottom+t>window.innerHeight)&&(0===o?!(this.anchorRect.left+n>window.innerWidth||this.anchorRect.left<0):1===o?!(this.anchorRect.left-n/2<0||this.anchorRect.left+n/2>window.innerWidth):!(this.anchorRect.left-n<0||this.anchorRect.right>window.innerWidth))):"W"!==a&&"E"!==a||!("W"===a&&this.anchorRect.left-n<0)&&(!("E"===a&&this.anchorRect.right+n>window.innerWidth)&&(0===i?!(this.anchorRect.top+t>window.innerHeight||this.anchorRect.top<0):1===i?!(this.anchorRect.top+this.anchorRect.height/2-t/2<0||this.anchorRect.top+this.anchorRect.height/2+t/2>window.innerHeight):!(this.anchorRect.top-t<0||this.anchorRect.bottom>window.innerHeight)))}},{key:"getValidAlignmentPreset",value:function(){var e=this,t=this.dialog.$wrapper.clientWidth,n=this.dialog.$wrapper.clientHeight,r=N.filter(function(r){return e.isPositionValid(r,n,t)});if(-1!==r.indexOf(this.props.preset)||!this.props.autoReposition||!r.length)return this.props.preset;var o=r.filter(function(t){return t.name[0]===e.props.preset.name[0]});if(o.length)return o[0];var i=a(this.props.preset.name),c=r.filter(function(e){return e.name[0]===i});return c.length?c[0]:r[0]}},{key:"componentDidMount",value:function(){this.align(),window.addEventListener("resize",this.align,!0)}},{key:"componentDidUpdate",value:function(){this.align()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.align,!0)}},{key:"render",value:function(){var e=this,r=this.props;return n.i(p.createElement)(g.a,r.portalProps,n.i(p.createElement)(d.a,b({},v()(r,t.internalKeys),{ref:function(t){return e.dialog=t},before:n.i(p.cloneElement)(r.caretComponent,{ref:function(t){return e.$caret=t},className:u()("b-popover-caret",r.caretComponent.props.className)}),className:u()("b-popover",r.className)})))}}],[{key:"getAlignmentClassFragment",value:function(e){switch(e){case 0:return"start";case 1:return"middle";case 2:return"end"}}}]),t}(p.PureComponent);P.preset=N.reduce(function(e,t){return e[t.name]=t,e},{}),P.propTypes=b({},d.a.propTypes,{anchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]).isRequired,autoReposition:s.a.bool,caretAnchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]),caretComponent:s.a.element,portalProps:s.a.shape(g.a.PropTypes),preset:s.a.oneOf([P.preset.NNW,P.preset.N,P.preset.NNE,P.preset.ENE,P.preset.E,P.preset.ESE,P.preset.SSE,P.preset.S,P.preset.SSW,P.preset.WSW,P.preset.W,P.preset.WNW])}),P.defaultProps=b({},d.a.defaultProps,{anchor:void 0,autoReposition:!0,captureFocus:!1,caretAnchor:void 0,caretComponent:O,closeOnEscKey:!0,closeOnOutsideClick:!0,closeOnOutsideScroll:!0,portalProps:{},preset:P.preset.S}),P.internalKeys=function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}(Object.keys(P.defaultProps),d.a.internalKeys),t.default=P}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDg1OGVlMTQ4ZDQ1MTZhM2ViZWI2Iiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtZGlhbG9nXCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1wb3J0YWxcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImNsYXNzbmFtZXNcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3RcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCJ9Iiwid2VicGFjazovLy8uL34vZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvaW5kZXguanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJ2YWx1ZSIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJyZXF1aXJlIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJmb3JtYXQiLCJhIiwiYiIsImUiLCJmIiwidmFsaWRhdGVGb3JtYXQiLCJlcnJvciIsInVuZGVmaW5lZCIsIkVycm9yIiwiYXJncyIsImFyZ0luZGV4IiwicmVwbGFjZSIsImZyYW1lc1RvUG9wIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwicHJvcHMiLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJpc1JlcXVpcmVkIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsImJvb2wiLCJmdW5jIiwibnVtYmVyIiwic3RyaW5nIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJpbnN0YW5jZU9mIiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImNoZWNrUHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImdldE9wcG9zaXRlQ2FyZGluYWwiLCJkaXJlY3Rpb24iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfZG9tX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2NsYXNzbmFtZXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X19fZGVmYXVsdCIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDTEFTU19SRU1PVkFMX1JFR0VYIiwiREVGQVVMVF9DQVJFVF9DT01QT05FTlQiLCJ2aWV3Qm94IiwieG1sbnMiLCJjbGFzc05hbWUiLCJmaWxsIiwicG9pbnRzIiwiY29tYmluYXRpb25zIiwiYXgiLCJheSIsImR4IiwiZHkiLCJQb3BvdmVyIiwiX1B1cmVDb21wb25lbnQiLCJfcmVmIiwiX3RlbXAiLCJfdGhpcyIsIl9yZXQiLCJfbGVuIiwiQXJyYXkiLCJfa2V5IiwiZ2V0UHJvdG90eXBlT2YiLCJhcHBseSIsImNvbmNhdCIsImFsaWduIiwiYW5jaG9yIiwiSFRNTEVsZW1lbnQiLCJjYXJldEFuY2hvciIsImNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeSIsInByZXNldCIsImdldFZhbGlkQWxpZ25tZW50UHJlc2V0IiwiZnJhZyIsImdldEFsaWdubWVudENsYXNzRnJhZ21lbnQiLCJkaWFsb2ciLCIkd3JhcHBlciIsIk1hdGgiLCJyb3VuZCIsImdldE5leHREaWFsb2dYUG9zaXRpb24iLCJnZXROZXh0RGlhbG9nWVBvc2l0aW9uIiwic3R5bGUiLCJjYXJkaW5hbCIsImxvbmdpdHVkaW5hbCIsIiRjYXJldCIsImdldE5leHRDYXJldFhQb3NpdGlvbiIsImJvZHlSZWN0IiwiZG9jdW1lbnQiLCJib2R5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYW5jaG9yUmVjdCIsImNhcmV0QW5jaG9yUmVjdCIsImJvZHlMZWZ0IiwibGVmdCIsImJvZHlUb3AiLCJ0b3AiLCJfcmVmMiIsImNhcmV0IiwibmV4dFgiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiX3JlZjMiLCJfcmVmNCIsIm5leHRZIiwiX3JlZjUiLCJwSGVpZ2h0IiwicFdpZHRoIiwiYm90dG9tIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwicmlnaHQiLCJfdGhpczIiLCJ2YWxpZENvbWJvcyIsImZpbHRlciIsImNvbmZpZyIsImlzUG9zaXRpb25WYWxpZCIsImluZGV4T2YiLCJhdXRvUmVwb3NpdGlvbiIsImJlc3RDb21ib3MiLCJfcmVmNiIsIm9wcG9zaXRlQ2FyZGluYWwiLCJva2F5Q29tYm9zIiwiX3JlZjciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMyIsInBvcnRhbFByb3BzIiwiaW50ZXJuYWxLZXlzIiwicmVmIiwiYmVmb3JlIiwiY2FyZXRDb21wb25lbnQiLCJjb25zdGFudCIsInJlZHVjZSIsIm1hcCIsImRlZiIsInByb3BUeXBlcyIsIk5OVyIsIk4iLCJOTkUiLCJFTkUiLCJFIiwiRVNFIiwiU1NFIiwiUyIsIlNTVyIsIldTVyIsIlciLCJXTlciLCJkZWZhdWx0UHJvcHMiLCJjYXB0dXJlRm9jdXMiLCJjbG9zZU9uRXNjS2V5IiwiY2xvc2VPbk91dHNpZGVDbGljayIsImNsb3NlT25PdXRzaWRlU2Nyb2xsIiwiYXJyMSIsImFycjIiLCJpdGVtIiwia2V5cyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFFBQ0UsU0FBVUMsR0NHbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFILE9BR0EsSUFBQUQsR0FBQUssRUFBQUQsSUFDQUUsRUFBQUYsRUFDQUcsR0FBQSxFQUNBTixXQVVBLE9BTkFDLEdBQUFFLEdBQUFJLEtBQUFSLEVBQUFDLFFBQUFELElBQUFDLFFBQUFFLEdBR0FILEVBQUFPLEdBQUEsRUFHQVAsRUFBQUMsUUF2QkEsR0FBQUksS0ErREEsT0FuQ0FGLEdBQUFNLEVBQUFQLEVBR0FDLEVBQUFPLEVBQUFMLEVBR0FGLEVBQUFHLEVBQUEsU0FBQUssR0FBMkMsTUFBQUEsSUFHM0NSLEVBQUFTLEVBQUEs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LGFBMUlYLFNBQWlCMEIsRUFBTUMsR0FBUSxNQUFPRCxHQUFLeEMsT0FBTyxTQUFDMEMsR0FBRCxPQUFrQyxJQUF4QkQsRUFBS3RDLFFBQVF1QyxNQTBJdkNyTyxPQUFPc08sS0FBS3pHLEVBQVFpRyxjQUFlaEksRUFBQWpFLEVBQU80SyxjZE1reFhwSSxFQUE2QixRQUFJIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX3R5cGVvZj10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT09XCJzeW1ib2xcIj9mdW5jdGlvbihvYmope3JldHVybiB0eXBlb2Ygb2JqO306ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZ0eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqO307aWYoZmFsc2Upe3ZhciBSRUFDVF9FTEVNRU5UX1RZUEU9dHlwZW9mIFN5bWJvbD09PSdmdW5jdGlvbicmJlN5bWJvbC5mb3ImJlN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKXx8MHhlYWM3O3ZhciBpc1ZhbGlkRWxlbWVudD1mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3Qpe3JldHVybih0eXBlb2Ygb2JqZWN0PT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihvYmplY3QpKT09PSdvYmplY3QnJiZvYmplY3QhPT1udWxsJiZvYmplY3QuJCR0eXBlb2Y9PT1SRUFDVF9FTEVNRU5UX1RZUEU7fTt2YXIgdGhyb3dPbkRpcmVjdEFjY2Vzcz10cnVlO21vZHVsZS5leHBvcnRzPXJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCx0aHJvd09uRGlyZWN0QWNjZXNzKTt9ZWxzZXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSgpO31cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1kaWFsb2dcIik7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtcG9ydGFsXCIpO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wiKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIik7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGFyZzt9O312YXIgZW1wdHlGdW5jdGlvbj1mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCl7fTtlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zPW1ha2VFbXB0eUZ1bmN0aW9uO2VtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZT1tYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU9bWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw9bWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9O2VtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudD1mdW5jdGlvbihhcmcpe3JldHVybiBhcmc7fTttb2R1bGUuZXhwb3J0cz1lbXB0eUZ1bmN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdmFsaWRhdGVGb3JtYXQ9ZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KXt9O2lmKGZhbHNlKXt2YWxpZGF0ZUZvcm1hdD1mdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpe2lmKGZvcm1hdD09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO319O31mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLGZvcm1hdCxhLGIsYyxkLGUsZil7dmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtpZighY29uZGl0aW9uKXt2YXIgZXJyb3I7aWYoZm9ybWF0PT09dW5kZWZpbmVkKXtlcnJvcj1uZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcrJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7fWVsc2V7dmFyIGFyZ3M9W2EsYixjLGQsZSxmXTt2YXIgYXJnSW5kZXg9MDtlcnJvcj1uZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gYXJnc1thcmdJbmRleCsrXTt9KSk7ZXJyb3IubmFtZT0nSW52YXJpYW50IFZpb2xhdGlvbic7fWVycm9yLmZyYW1lc1RvUG9wPTE7dGhyb3cgZXJyb3I7fX1tb2R1bGUuZXhwb3J0cz1pbnZhcmlhbnQ7XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZW1wdHlGdW5jdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBpbnZhcmlhbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQ9X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzaGltKHByb3BzLHByb3BOYW1lLGNvbXBvbmVudE5hbWUsbG9jYXRpb24scHJvcEZ1bGxOYW1lLHNlY3JldCl7aWYoc2VjcmV0PT09UmVhY3RQcm9wVHlwZXNTZWNyZXQpe3JldHVybjt9aW52YXJpYW50KGZhbHNlLCdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnKydVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnKydSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJyk7fTtzaGltLmlzUmVxdWlyZWQ9c2hpbTtmdW5jdGlvbiBnZXRTaGltKCl7cmV0dXJuIHNoaW07fTt2YXIgUmVhY3RQcm9wVHlwZXM9e2FycmF5OnNoaW0sYm9vbDpzaGltLGZ1bmM6c2hpbSxudW1iZXI6c2hpbSxvYmplY3Q6c2hpbSxzdHJpbmc6c2hpbSxzeW1ib2w6c2hpbSxhbnk6c2hpbSxhcnJheU9mOmdldFNoaW0sZWxlbWVudDpzaGltLGluc3RhbmNlT2Y6Z2V0U2hpbSxub2RlOnNoaW0sb2JqZWN0T2Y6Z2V0U2hpbSxvbmVPZjpnZXRTaGltLG9uZU9mVHlwZTpnZXRTaGltLHNoYXBlOmdldFNoaW19O1JlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzPWVtcHR5RnVuY3Rpb247UmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzPVJlYWN0UHJvcFR5cGVzO3JldHVybiBSZWFjdFByb3BUeXBlczt9O1xuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0PSdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7bW9kdWxlLmV4cG9ydHM9UmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2NsYXNzbmFtZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2NsYXNzbmFtZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fKTtcbnZhciBfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0YXJnZXQpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBzb3VyY2U9YXJndW1lbnRzW2ldO2Zvcih2YXIga2V5IGluIHNvdXJjZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSxrZXkpKXt0YXJnZXRba2V5XT1zb3VyY2Vba2V5XTt9fX1yZXR1cm4gdGFyZ2V0O307dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7fX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7fXJldHVybiBjYWxsJiYodHlwZW9mIGNhbGw9PT1cIm9iamVjdFwifHx0eXBlb2YgY2FsbD09PVwiZnVuY3Rpb25cIik/Y2FsbDpzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYodHlwZW9mIHN1cGVyQ2xhc3MhPT1cImZ1bmN0aW9uXCImJnN1cGVyQ2xhc3MhPT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7fXN1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTpmYWxzZSx3cml0YWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfX0pO2lmKHN1cGVyQ2xhc3MpT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzczt9ZnVuY3Rpb24gZ2V0T3Bwb3NpdGVDYXJkaW5hbChkaXJlY3Rpb24pe3N3aXRjaChkaXJlY3Rpb25bMF0pe2Nhc2UnTic6cmV0dXJuJ1MnO2Nhc2UnUyc6cmV0dXJuJ04nO2Nhc2UnRSc6cmV0dXJuJ1cnO31yZXR1cm4nRSc7fWZ1bmN0aW9uIHdpdGhvdXQoYXJyMSxhcnIyKXtyZXR1cm4gYXJyMS5maWx0ZXIoZnVuY3Rpb24oaXRlbSl7cmV0dXJuIGFycjIuaW5kZXhPZihpdGVtKT09PS0xO30pO312YXIgQ0xBU1NfUkVNT1ZBTF9SRUdFWD0vXFxzP2ItcG9wb3Zlci0oYW5jaG9yfHNlbGYpLShzdGFydHxtaWRkbGV8ZW5kKS9nO3ZhciBERUZBVUxUX0NBUkVUX0NPTVBPTkVOVD1fX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKSgnc3ZnJyx7dmlld0JveDonMCAwIDE0IDkuNScseG1sbnM6J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ30sX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoJ2cnLG51bGwsX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoJ3BvbHlnb24nLHtjbGFzc05hbWU6J2ItcG9wb3Zlci1jYXJldC1ib3JkZXInLGZpbGw6JyMwMDAnLHBvaW50czonNyAwIDE0IDEwIDAgMTAnfSksX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoJ3BvbHlnb24nLHtjbGFzc05hbWU6J2ItcG9wb3Zlci1jYXJldC1maWxsJyxmaWxsOicjRkZGJyxwb2ludHM6JzYuOTgyMzA0NDQgMS43NSAxMi43NSAxMCAxLjI1IDEwJ30pKSk7dmFyIFNUQVJUPTA7dmFyIE1JRERMRT0xO3ZhciBFTkQ9Mjt2YXIgY29tYmluYXRpb25zPVt7bmFtZTonTk5XJyxheDpTVEFSVCxheTpTVEFSVCxkeDpTVEFSVCxkeTpFTkR9LHtuYW1lOidOJyxheDpNSURETEUsYXk6U1RBUlQsZHg6TUlERExFLGR5OkVORH0se25hbWU6J05ORScsYXg6RU5ELGF5OlNUQVJULGR4OkVORCxkeTpFTkR9LHtuYW1lOidFTkUnLGF4OkVORCxheTpTVEFSVCxkeDpTVEFSVCxkeTpTVEFSVH0se25hbWU6J0UnLGF4OkVORCxheTpNSURETEUsZHg6U1RBUlQsZHk6TUlERExFfSx7bmFtZTonRVNFJyxheDpFTkQsYXk6RU5ELGR4OlNUQVJULGR5OkVORH0se25hbWU6J1NTRScsYXg6RU5ELGF5OkVORCxkeDpFTkQsZHk6U1RBUlR9LHtuYW1lOidTJyxheDpNSURETEUsYXk6RU5ELGR4Ok1JRERMRSxkeTpTVEFSVH0se25hbWU6J1NTVycsYXg6U1RBUlQsYXk6RU5ELGR4OlNUQVJULGR5OlNUQVJUfSx7bmFtZTonV1NXJyxheDpTVEFSVCxheTpFTkQsZHg6RU5ELGR5OkVORH0se25hbWU6J1cnLGF4OlNUQVJULGF5Ok1JRERMRSxkeDpFTkQsZHk6TUlERExFfSx7bmFtZTonV05XJyxheDpTVEFSVCxheTpTVEFSVCxkeDpFTkQsZHk6U1RBUlR9XTt2YXIgUG9wb3Zlcj1mdW5jdGlvbihfUHVyZUNvbXBvbmVudCl7X2luaGVyaXRzKFBvcG92ZXIsX1B1cmVDb21wb25lbnQpO2Z1bmN0aW9uIFBvcG92ZXIoKXt2YXIgX3JlZjt2YXIgX3RlbXAsX3RoaXMsX3JldDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQb3BvdmVyKTtmb3IodmFyIF9sZW49YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW4pLF9rZXk9MDtfa2V5PF9sZW47X2tleSsrKXthcmdzW19rZXldPWFyZ3VtZW50c1tfa2V5XTt9cmV0dXJuIF9yZXQ9KF90ZW1wPShfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChfcmVmPVBvcG92ZXIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoUG9wb3ZlcikpLmNhbGwuYXBwbHkoX3JlZixbdGhpc10uY29uY2F0KGFyZ3MpKSksX3RoaXMpLF90aGlzLmFsaWduPWZ1bmN0aW9uKCl7dmFyIGFuY2hvcj1fdGhpcy5wcm9wcy5hbmNob3IgaW5zdGFuY2VvZiBIVE1MRWxlbWVudD9fdGhpcy5wcm9wcy5hbmNob3I6X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fX1tcImZpbmRET01Ob2RlXCJdKShfdGhpcy5wcm9wcy5hbmNob3IpO3ZhciBjYXJldEFuY2hvcj1fdGhpcy5wcm9wcy5jYXJldEFuY2hvcj9fdGhpcy5wcm9wcy5jYXJldEFuY2hvciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P190aGlzLnByb3BzLmNhcmV0QW5jaG9yOl9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfZG9tX19bXCJmaW5kRE9NTm9kZVwiXSkoX3RoaXMucHJvcHMuY2FyZXRBbmNob3IpOmFuY2hvcjtfdGhpcy5jYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLGNhcmV0QW5jaG9yKTt2YXIgcHJlc2V0PV90aGlzLmdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCk7dmFyIGZyYWc9UG9wb3Zlci5nZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50O190aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWU9X3RoaXMuZGlhbG9nLiR3cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKENMQVNTX1JFTU9WQUxfUkVHRVgsJycpKygnIGItcG9wb3Zlci1hbmNob3IteC0nK2ZyYWcocHJlc2V0LmF4KSkrKCcgYi1wb3BvdmVyLWFuY2hvci15LScrZnJhZyhwcmVzZXQuYXkpKSsoJyBiLXBvcG92ZXItc2VsZi14LScrZnJhZyhwcmVzZXQuZHgpKSsoJyBiLXBvcG92ZXItc2VsZi15LScrZnJhZyhwcmVzZXQuZHkpKTt2YXIgZHg9TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0RGlhbG9nWFBvc2l0aW9uKHByZXNldCkpO3ZhciBkeT1NYXRoLnJvdW5kKF90aGlzLmdldE5leHREaWFsb2dZUG9zaXRpb24ocHJlc2V0KSk7X3RoaXMuZGlhbG9nLiR3cmFwcGVyLnN0eWxlW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X19fZGVmYXVsdC5hXT0ndHJhbnNsYXRlKCcrZHgrJ3B4LCAnK2R5KydweCknO3ZhciBjYXJkaW5hbD1wcmVzZXQubmFtZVswXTt2YXIgbG9uZ2l0dWRpbmFsPWNhcmRpbmFsPT09J04nfHxjYXJkaW5hbD09PSdTJztfdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsPydsZWZ0JzondG9wJ109TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0Q2FyZXRYUG9zaXRpb24ocHJlc2V0KSkrJ3B4JztfdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsPyd0b3AnOidsZWZ0J109JzBweCc7fSxfdGVtcCksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsX3JldCk7fV9jcmVhdGVDbGFzcyhQb3BvdmVyLFt7a2V5OidjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHknLHZhbHVlOmZ1bmN0aW9uIGNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsY2FyZXRBbmNob3Ipe3ZhciBib2R5UmVjdD1kb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuYW5jaG9yUmVjdD1hbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5jYXJldEFuY2hvclJlY3Q9Y2FyZXRBbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5ib2R5TGVmdD1ib2R5UmVjdC5sZWZ0Ki0xO3RoaXMuYm9keVRvcD1ib2R5UmVjdC50b3AqLTE7fX0se2tleTonZ2V0TmV4dENhcmV0WFBvc2l0aW9uJyx2YWx1ZTpmdW5jdGlvbiBnZXROZXh0Q2FyZXRYUG9zaXRpb24oX3JlZjIpe3ZhciBuYW1lPV9yZWYyLm5hbWUsYXg9X3JlZjIuYXgsZHg9X3JlZjIuZHgsYXk9X3JlZjIuYXksZHk9X3JlZjIuZHk7dmFyIGNhcmV0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLiRjYXJldDt2YXIgbmV4dFg9MDtpZihuYW1lWzBdPT09J04nfHxuYW1lWzBdPT09J1MnKXtuZXh0WD10aGlzLmNhcmV0QW5jaG9yUmVjdC5sZWZ0LXRoaXMuYW5jaG9yUmVjdC5sZWZ0K3RoaXMuY2FyZXRBbmNob3JSZWN0LndpZHRoLzI7aWYoZHg9PT1NSURETEUpe25leHRYKz0odGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGgtdGhpcy5hbmNob3JSZWN0LndpZHRoKS8yO31lbHNlIGlmKGR4PT09RU5EKXtuZXh0WCs9dGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGgtdGhpcy5hbmNob3JSZWN0LndpZHRoO319ZWxzZXtuZXh0WD10aGlzLmNhcmV0QW5jaG9yUmVjdC50b3AtdGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmNhcmV0QW5jaG9yUmVjdC5oZWlnaHQvMjtpZihkeT09PU1JRERMRSl7bmV4dFgrPSh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQtdGhpcy5hbmNob3JSZWN0LmhlaWdodCkvMjt9ZWxzZSBpZihkeT09PUVORCl7bmV4dFgrPXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodC10aGlzLmFuY2hvclJlY3QuaGVpZ2h0O319bmV4dFgtPWNhcmV0LmNsaWVudFdpZHRoLzI7cmV0dXJuIG5leHRYO319LHtrZXk6J2dldE5leHREaWFsb2dYUG9zaXRpb24nLHZhbHVlOmZ1bmN0aW9uIGdldE5leHREaWFsb2dYUG9zaXRpb24oX3JlZjMpe3ZhciBheD1fcmVmMy5heCxkeD1fcmVmMy5keDt2YXIgZGlhbG9nPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLmRpYWxvZy4kd3JhcHBlcjt2YXIgbmV4dFg9dGhpcy5hbmNob3JSZWN0LmxlZnQrdGhpcy5ib2R5TGVmdDtzd2l0Y2goYXgpe2Nhc2UgTUlERExFOm5leHRYKz10aGlzLmFuY2hvclJlY3Qud2lkdGgvMjticmVhaztjYXNlIEVORDpuZXh0WCs9dGhpcy5hbmNob3JSZWN0LndpZHRoO2JyZWFrO31zd2l0Y2goZHgpe2Nhc2UgTUlERExFOm5leHRYLT1kaWFsb2cuY2xpZW50V2lkdGgvMjticmVhaztjYXNlIEVORDpuZXh0WC09ZGlhbG9nLmNsaWVudFdpZHRoO2JyZWFrO31yZXR1cm4gbmV4dFg7fX0se2tleTonZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbicsdmFsdWU6ZnVuY3Rpb24gZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihfcmVmNCl7dmFyIGF5PV9yZWY0LmF5LGR5PV9yZWY0LmR5O3ZhciBkaWFsb2c9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOnRoaXMuZGlhbG9nLiR3cmFwcGVyO3ZhciBuZXh0WT10aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuYm9keVRvcDtzd2l0Y2goYXkpe2Nhc2UgTUlERExFOm5leHRZKz10aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFkrPXRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7YnJlYWs7fXN3aXRjaChkeSl7Y2FzZSBNSURETEU6bmV4dFktPWRpYWxvZy5jbGllbnRIZWlnaHQvMjticmVhaztjYXNlIEVORDpuZXh0WS09ZGlhbG9nLmNsaWVudEhlaWdodDticmVhazt9cmV0dXJuIG5leHRZO319LHtrZXk6J2lzUG9zaXRpb25WYWxpZCcsdmFsdWU6ZnVuY3Rpb24gaXNQb3NpdGlvblZhbGlkKF9yZWY1LHBIZWlnaHQscFdpZHRoKXt2YXIgbmFtZT1fcmVmNS5uYW1lLGF4PV9yZWY1LmF4LGF5PV9yZWY1LmF5LGR4PV9yZWY1LmR4LGR5PV9yZWY1LmR5O3ZhciBjYXJkaW5hbD1uYW1lWzBdO2lmKGNhcmRpbmFsPT09J04nfHxjYXJkaW5hbD09PSdTJyl7aWYoY2FyZGluYWw9PT0nTicmJnRoaXMuYW5jaG9yUmVjdC50b3AtcEhlaWdodDwwKXtyZXR1cm4gZmFsc2U7fWVsc2UgaWYoY2FyZGluYWw9PT0nUycmJnRoaXMuYW5jaG9yUmVjdC5ib3R0b20rcEhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHQpe3JldHVybiBmYWxzZTt9aWYoYXg9PT1TVEFSVCl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdCtwV2lkdGg+d2luZG93LmlubmVyV2lkdGh8fHRoaXMuYW5jaG9yUmVjdC5sZWZ0PDApO31lbHNlIGlmKGF4PT09TUlERExFKXtyZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC5sZWZ0LXBXaWR0aC8yPDB8fHRoaXMuYW5jaG9yUmVjdC5sZWZ0K3BXaWR0aC8yPndpbmRvdy5pbm5lcldpZHRoKTt9cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGg8MHx8dGhpcy5hbmNob3JSZWN0LnJpZ2h0PndpbmRvdy5pbm5lcldpZHRoKTt9ZWxzZSBpZihjYXJkaW5hbD09PSdXJ3x8Y2FyZGluYWw9PT0nRScpe2lmKGNhcmRpbmFsPT09J1cnJiZ0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGg8MCl7cmV0dXJuIGZhbHNlO31lbHNlIGlmKGNhcmRpbmFsPT09J0UnJiZ0aGlzLmFuY2hvclJlY3QucmlnaHQrcFdpZHRoPndpbmRvdy5pbm5lcldpZHRoKXtyZXR1cm4gZmFsc2U7fWlmKGF5PT09U1RBUlQpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcCtwSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodHx8dGhpcy5hbmNob3JSZWN0LnRvcDwwKTt9ZWxzZSBpZihheT09PU1JRERMRSl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuYW5jaG9yUmVjdC5oZWlnaHQvMi1wSGVpZ2h0LzI8MHx8dGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzIrcEhlaWdodC8yPndpbmRvdy5pbm5lckhlaWdodCk7fXJldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcC1wSGVpZ2h0PDB8fHRoaXMuYW5jaG9yUmVjdC5ib3R0b20+d2luZG93LmlubmVySGVpZ2h0KTt9cmV0dXJuIHRydWU7fX0se2tleTonZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQnLHZhbHVlOmZ1bmN0aW9uIGdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCl7dmFyIF90aGlzMj10aGlzO3ZhciB3aWR0aD10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aDt2YXIgaGVpZ2h0PXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDt2YXIgdmFsaWRDb21ib3M9Y29tYmluYXRpb25zLmZpbHRlcihmdW5jdGlvbihjb25maWcpe3JldHVybiBfdGhpczIuaXNQb3NpdGlvblZhbGlkKGNvbmZpZyxoZWlnaHQsd2lkdGgpO30pO2lmKHZhbGlkQ29tYm9zLmluZGV4T2YodGhpcy5wcm9wcy5wcmVzZXQpIT09LTF8fCF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9ufHwhdmFsaWRDb21ib3MubGVuZ3RoKXtyZXR1cm4gdGhpcy5wcm9wcy5wcmVzZXQ7fXZhciBiZXN0Q29tYm9zPXZhbGlkQ29tYm9zLmZpbHRlcihmdW5jdGlvbihfcmVmNil7dmFyIG5hbWU9X3JlZjYubmFtZTtyZXR1cm4gbmFtZVswXT09PV90aGlzMi5wcm9wcy5wcmVzZXQubmFtZVswXTt9KTtpZihiZXN0Q29tYm9zLmxlbmd0aCl7cmV0dXJuIGJlc3RDb21ib3NbMF07fXZhciBvcHBvc2l0ZUNhcmRpbmFsPWdldE9wcG9zaXRlQ2FyZGluYWwodGhpcy5wcm9wcy5wcmVzZXQubmFtZSk7dmFyIG9rYXlDb21ib3M9dmFsaWRDb21ib3MuZmlsdGVyKGZ1bmN0aW9uKF9yZWY3KXt2YXIgbmFtZT1fcmVmNy5uYW1lO3JldHVybiBuYW1lWzBdPT09b3Bwb3NpdGVDYXJkaW5hbDt9KTtpZihva2F5Q29tYm9zLmxlbmd0aCl7cmV0dXJuIG9rYXlDb21ib3NbMF07fXJldHVybiB2YWxpZENvbWJvc1swXTt9fSx7a2V5Oidjb21wb25lbnREaWRNb3VudCcsdmFsdWU6ZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKXt0aGlzLmFsaWduKCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsdGhpcy5hbGlnbix0cnVlKTt9fSx7a2V5Oidjb21wb25lbnREaWRVcGRhdGUnLHZhbHVlOmZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpe3RoaXMuYWxpZ24oKTt9fSx7a2V5Oidjb21wb25lbnRXaWxsVW5tb3VudCcsdmFsdWU6ZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJyx0aGlzLmFsaWduLHRydWUpO319LHtrZXk6J3JlbmRlcicsdmFsdWU6ZnVuY3Rpb24gcmVuZGVyKCl7dmFyIF90aGlzMz10aGlzO3ZhciBwcm9wcz10aGlzLnByb3BzO3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQuYSxwcm9wcy5wb3J0YWxQcm9wcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYSxfZXh0ZW5kcyh7fSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQoKShwcm9wcyxQb3BvdmVyLmludGVybmFsS2V5cykse3JlZjpmdW5jdGlvbiByZWYoaW5zdGFuY2Upe3JldHVybiBfdGhpczMuZGlhbG9nPWluc3RhbmNlO30sYmVmb3JlOl9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNsb25lRWxlbWVudFwiXSkocHJvcHMuY2FyZXRDb21wb25lbnQse3JlZjpmdW5jdGlvbiByZWYobm9kZSl7cmV0dXJuIF90aGlzMy4kY2FyZXQ9bm9kZTt9LGNsYXNzTmFtZTpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKSgnYi1wb3BvdmVyLWNhcmV0Jyxwcm9wcy5jYXJldENvbXBvbmVudC5wcm9wcy5jbGFzc05hbWUpfSksY2xhc3NOYW1lOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKCdiLXBvcG92ZXInLHByb3BzLmNsYXNzTmFtZSl9KSkpO319XSxbe2tleTonZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudCcsdmFsdWU6ZnVuY3Rpb24gZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudChjb25zdGFudCl7c3dpdGNoKGNvbnN0YW50KXtjYXNlIFNUQVJUOnJldHVybidzdGFydCc7Y2FzZSBNSURETEU6cmV0dXJuJ21pZGRsZSc7Y2FzZSBFTkQ6cmV0dXJuJ2VuZCc7fX19XSk7cmV0dXJuIFBvcG92ZXI7fShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1BvcG92ZXIucHJlc2V0PWNvbWJpbmF0aW9ucy5yZWR1Y2UoZnVuY3Rpb24obWFwLGRlZil7cmV0dXJuIG1hcFtkZWYubmFtZV09ZGVmLG1hcDt9LHt9KTtQb3BvdmVyLnByb3BUeXBlcz1fZXh0ZW5kcyh7fSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYS5wcm9wVHlwZXMse2FuY2hvcjpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vbmVPZlR5cGUoW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLnNoYXBlKHtwcm9wczpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vYmplY3R9KV0pLmlzUmVxdWlyZWQsYXV0b1JlcG9zaXRpb246X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuYm9vbCxjYXJldEFuY2hvcjpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vbmVPZlR5cGUoW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLnNoYXBlKHtwcm9wczpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vYmplY3R9KV0pLGNhcmV0Q29tcG9uZW50Ol9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmVsZW1lbnQscG9ydGFsUHJvcHM6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuc2hhcGUoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfX19kZWZhdWx0LmEuUHJvcFR5cGVzKSxwcmVzZXQ6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEub25lT2YoW1BvcG92ZXIucHJlc2V0Lk5OVyxQb3BvdmVyLnByZXNldC5OLFBvcG92ZXIucHJlc2V0Lk5ORSxQb3BvdmVyLnByZXNldC5FTkUsUG9wb3Zlci5wcmVzZXQuRSxQb3BvdmVyLnByZXNldC5FU0UsUG9wb3Zlci5wcmVzZXQuU1NFLFBvcG92ZXIucHJlc2V0LlMsUG9wb3Zlci5wcmVzZXQuU1NXLFBvcG92ZXIucHJlc2V0LldTVyxQb3BvdmVyLnByZXNldC5XLFBvcG92ZXIucHJlc2V0LldOV10pfSk7UG9wb3Zlci5kZWZhdWx0UHJvcHM9X2V4dGVuZHMoe30sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEuZGVmYXVsdFByb3BzLHthbmNob3I6dW5kZWZpbmVkLGF1dG9SZXBvc2l0aW9uOnRydWUsY2FwdHVyZUZvY3VzOmZhbHNlLGNhcmV0QW5jaG9yOnVuZGVmaW5lZCxjYXJldENvbXBvbmVudDpERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCxjbG9zZU9uRXNjS2V5OnRydWUsY2xvc2VPbk91dHNpZGVDbGljazp0cnVlLGNsb3NlT25PdXRzaWRlU2Nyb2xsOnRydWUscG9ydGFsUHJvcHM6e30scHJlc2V0OlBvcG92ZXIucHJlc2V0LlN9KTtQb3BvdmVyLmludGVybmFsS2V5cz13aXRob3V0KE9iamVjdC5rZXlzKFBvcG92ZXIuZGVmYXVsdFByb3BzKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYS5pbnRlcm5hbEtleXMpOy8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoUG9wb3Zlcik7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaW5kZXguanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA4NThlZTE0OGQ0NTE2YTNlYmViNiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3Byb3AtdHlwZXMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtZGlhbG9nXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLWRpYWxvZ1wifVxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtcG9ydGFsXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXBvcnRhbFwifVxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wifVxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eVwifVxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiY2xhc3NuYW1lc1wifVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcInJlYWN0XCJ9XG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcInJlYWN0LWRvbVwifVxuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIFxuICovXG5cbmZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhcmc7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIGFuZCBkaXNjYXJkcyBpbnB1dHM7IGl0IGhhcyBubyBzaWRlIGVmZmVjdHMuIFRoaXMgaXNcbiAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG4gKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuICovXG52YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblxuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucyA9IG1ha2VFbXB0eUZ1bmN0aW9uO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsID0gbWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gYXJnO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCk7XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZmJqcy9saWIvaW52YXJpYW50LmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZmluZERPTU5vZGUgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgRGlhbG9nIGZyb20gJ2JvdW5kbGVzcy1kaWFsb2cnO1xuaW1wb3J0IFBvcnRhbCBmcm9tICdib3VuZGxlc3MtcG9ydGFsJztcbmltcG9ydCBvbWl0IGZyb20gJ2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMnO1xuaW1wb3J0IHRyYW5zZm9ybVByb3AgZnJvbSAnYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eSc7XG5cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQ2FyZGluYWwoZGlyZWN0aW9uKSB7XG4gICAgc3dpdGNoIChkaXJlY3Rpb25bMF0pIHtcbiAgICBjYXNlICdOJzpcbiAgICAgICAgcmV0dXJuICdTJztcbiAgICBjYXNlICdTJzpcbiAgICAgICAgcmV0dXJuICdOJztcbiAgICBjYXNlICdFJzpcbiAgICAgICAgcmV0dXJuICdXJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ0UnO1xufVxuXG5mdW5jdGlvbiB3aXRob3V0KGFycjEsIGFycjIpIHsgcmV0dXJuIGFycjEuZmlsdGVyKChpdGVtKSA9PiBhcnIyLmluZGV4T2YoaXRlbSkgPT09IC0xKTsgfVxuXG5jb25zdCBDTEFTU19SRU1PVkFMX1JFR0VYID0gL1xccz9iLXBvcG92ZXItKGFuY2hvcnxzZWxmKS0oc3RhcnR8bWlkZGxlfGVuZCkvZztcblxuY29uc3QgREVGQVVMVF9DQVJFVF9DT01QT05FTlQgPSAoXG4gICAgPHN2ZyB2aWV3Qm94PScwIDAgMTQgOS41JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPlxuICAgICAgICA8Zz5cbiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzTmFtZT0nYi1wb3BvdmVyLWNhcmV0LWJvcmRlcicgZmlsbD0nIzAwMCcgcG9pbnRzPSc3IDAgMTQgMTAgMCAxMCcgLz5cbiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzTmFtZT0nYi1wb3BvdmVyLWNhcmV0LWZpbGwnIGZpbGw9JyNGRkYnIHBvaW50cz0nNi45ODIzMDQ0NCAxLjc1IDEyLjc1IDEwIDEuMjUgMTAnIC8+XG4gICAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbik7XG5cbmNvbnN0IFNUQVJUID0gMDtcbmNvbnN0IE1JRERMRSA9IDE7XG5jb25zdCBFTkQgPSAyO1xuXG5jb25zdCBjb21iaW5hdGlvbnMgPSBbXG4gICAgeyBuYW1lOiAnTk5XJywgICBheDogU1RBUlQsICAgICBheTogU1RBUlQsICAgICAgZHg6IFNUQVJULCAgIGR5OiBFTkQgfSxcbiAgICB7IG5hbWU6ICdOJywgICAgIGF4OiBNSURETEUsICAgIGF5OiBTVEFSVCwgICAgICBkeDogTUlERExFLCAgZHk6IEVORCB9LFxuICAgIHsgbmFtZTogJ05ORScsICAgYXg6IEVORCwgICAgICAgYXk6IFNUQVJULCAgICAgIGR4OiBFTkQsICAgICBkeTogRU5EIH0sXG4gICAgeyBuYW1lOiAnRU5FJywgICBheDogRU5ELCAgICAgICBheTogU1RBUlQsICAgICAgZHg6IFNUQVJULCAgIGR5OiBTVEFSVCB9LFxuICAgIHsgbmFtZTogJ0UnLCAgICAgYXg6IEVORCwgICAgICAgYXk6IE1JRERMRSwgICAgIGR4OiBTVEFSVCwgICBkeTogTUlERExFIH0sXG4gICAgeyBuYW1lOiAnRVNFJywgICBheDogRU5ELCAgICAgICBheTogRU5ELCAgICAgICAgZHg6IFNUQVJULCAgIGR5OiBFTkQgfSxcbiAgICB7IG5hbWU6ICdTU0UnLCAgIGF4OiBFTkQsICAgICAgIGF5OiBFTkQsICAgICAgICBkeDogRU5ELCAgICAgZHk6IFNUQVJUIH0sXG4gICAgeyBuYW1lOiAnUycsICAgICBheDogTUlERExFLCAgICBheTogRU5ELCAgICAgICAgZHg6IE1JRERMRSwgIGR5OiBTVEFSVCB9LFxuICAgIHsgbmFtZTogJ1NTVycsICAgYXg6IFNUQVJULCAgICAgYXk6IEVORCwgICAgICAgIGR4OiBTVEFSVCwgICBkeTogU1RBUlQgfSxcbiAgICB7IG5hbWU6ICdXU1cnLCAgIGF4OiBTVEFSVCwgICAgIGF5OiBFTkQsICAgICAgICBkeDogRU5ELCAgICAgZHk6IEVORCB9LFxuICAgIHsgbmFtZTogJ1cnLCAgICAgYXg6IFNUQVJULCAgICAgYXk6IE1JRERMRSwgICAgIGR4OiBFTkQsICAgICBkeTogTUlERExFIH0sXG4gICAgeyBuYW1lOiAnV05XJywgICBheDogU1RBUlQsICAgICBheTogU1RBUlQsICAgICAgZHg6IEVORCwgICAgIGR5OiBTVEFSVCB9LFxuXTtcblxuLyoqXG5BIHBvcG92ZXIgaXMgYSB0eXBlIG9mIFtEaWFsb2ddKGh0dHBzOi8vZ2l0aHViLmNvbS9lbmlnbWEtaW8vYm91bmRsZXNzL3RyZWUvbWFzdGVyL3BhY2thZ2VzL2JvdW5kbGVzcy1kaWFsb2cpIHRoYXQgaXMgbWVhbnQgdG8gcHJvdmlkZSBhZGRpdGlvbmFsIGNvbnRleHQgdG8gY29udGVudCAoYW4gXCJhbmNob3JcIikgY3VycmVudGx5IG9uLXNjcmVlbi4gVHlwaWNhbGx5LCBhIHBvcG92ZXIgaXMgc3Bhd25lZCBieSBpbnRlcmFjdGluZyB3aXRoIHRoZSBjb250ZW50IGl0IGVucmljaGVzIGFuZCBpcyBkaXNtaXNzZWQgYnkgY2xpY2tpbmcgb3Igc2hpZnRpbmcgZm9jdXMgdG8gYW4gYWx0ZXJuYXRlIGxvY2F0aW9uLlxuXG5BbGlnbm1lbnQgb3B0aW9ucyBmb3IgdGhlIHBvcG92ZXIgYXJlIGRlc2lnbmVkIHRvIG1pcnJvciBjb21wYXNzIGRpcmVjdGlvbnM6XG5cbmBgYFxuICAgICAgIOKGkiAgICAgICDihpBcbiAgICAgIE5OVyAgTiAgTk5FXG7ihpMgV05XICAgICAgICAgICAgIEVORSDihpNcbiAgICBXICAgQU5DSE9SICAgIEVcbuKGkSBXU1cgICAgICAgICAgICAgRVNFIOKGkVxuICAgICAgU1NXICBTICBTU0VcbiAgICAgICDihpIgICAgICAg4oaQXG5gYGBcblxuVGhlIGFycm93cyBpbmRpY2F0ZSB3aGljaCB3YXkgdGhlIHBvcG92ZXIgd2lsbCBleHRlbmQsIGUuZy4g4oaSIG1lYW5zIHRoZSBwb3BvdmVyIGlzIGFsaWduZWQgdG8gdGhlIGxlZnQgZWRnZSBhbmQgZXh0ZW5kcyBpbiB0aGF0IGRpcmVjdGlvbi4gRGlhZ29uYWwgY29ybmVycyAoTlcsIE5FLCBTRSwgU1cpIGFyZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC5cblxuYGBganN4XG48UG9wb3ZlclxuICAgIGFuY2hvcj17ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbWUtYW5jaG9yLWVsZW1lbnQnKX1cbiAgICBwcmVzZXQ9e1BvcG92ZXIucHJlc2V0Lk59PlxuICAgIE15IHBvcG92ZXIgY29udGVudCFcbjwvUG9wb3Zlcj5cbmBgYFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BvdmVyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlcXVlbmNlc1xuICAgIHN0YXRpYyBwcmVzZXQgPSBjb21iaW5hdGlvbnMucmVkdWNlKChtYXAsIGRlZikgPT4gKChtYXBbZGVmLm5hbWVdID0gZGVmKSwgbWFwKSwge30pXG5cbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAuLi5EaWFsb2cucHJvcFR5cGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIERPTSBlbGVtZW50IG9yIFJlYWN0IHJlZmVyZW5jZSAocmVmKSB0byBvbmUgZm9yIHBvc2l0aW9uaW5nIHB1cnBvc2VzXG4gICAgICAgICAqL1xuICAgICAgICBhbmNob3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgUHJvcFR5cGVzLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICBwcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKS5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiB0aGUgZ2l2ZW4gYWxpZ25tZW50IHNldHRpbmdzIHdvdWxkIHRha2UgdGhlIHBvcG92ZXIgb3V0IG9mIGJvdW5kcywgY2hhbmdlIHRoZSBhbGlnbm1lbnQgYXMgbmVjZXNzYXJ5IHRvIHJlbWFpbiBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICovXG4gICAgICAgIGF1dG9SZXBvc2l0aW9uOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBET00gZWxlbWVudCBvciBSZWFjdCByZWZlcmVuY2UgKHJlZikgdG8gb25lIGZvciBwb3NpdGlvbmluZyBwdXJwb3NlcywgdGhlIGNhcmV0IGNvbXBvbmVudCB3aWxsXG4gICAgICAgICAqIGJlIGF1dG9tYXRpY2FsbHkgcG9zaXRpb25lZCB0byBjZW50ZXIgb24gdGhpcyBwcm92aWRlZCBhbmNob3I7IGJ5IGRlZmF1bHQgaXQgd2lsbCBjZW50ZXJcbiAgICAgICAgICogb24gYHByb3BzLmFuY2hvcmBcbiAgICAgICAgICovXG4gICAgICAgIGNhcmV0QW5jaG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgcHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBKU1ggdGhhdCBpcyByZW5kZXJlZCBhbmQgdXNlZCB0byBwb2ludCBhdCB0aGUgbWlkZGxlIG9mIHRoZSBhbmNob3IgZWxlbWVudCBhbmQgaW5kaWNhdGUgdGhlIGNvbnRleHQgb2YgdGhlIHBvcG92ZXJcbiAgICAgICAgICovXG4gICAgICAgIGNhcmV0Q29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudCxcblxuICAgICAgICBwb3J0YWxQcm9wczogUHJvcFR5cGVzLnNoYXBlKFBvcnRhbC5Qcm9wVHlwZXMpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeGFtcGxlOlxuICAgICAgICAgKiBgYGBqc3hcbiAgICAgICAgICogPFBvcG92ZXJcbiAgICAgICAgICogICAgIGFuY2hvcj17ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbWUtYW5jaG9yLWVsZW1lbnQnKX1cbiAgICAgICAgICogICAgIHByZXNldD17UG9wb3Zlci5wcmVzZXQuTk5FfT5cbiAgICAgICAgICogICAgIE15IHBvcG92ZXIgY29udGVudCFcbiAgICAgICAgICogPC9Qb3BvdmVyPlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICovXG4gICAgICAgIHByZXNldDogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0Lk5OVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0Lk4sXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5OTkUsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5FTkUsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5FLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuRVNFLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuU1NFLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuUyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlNTVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LldTVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlcsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5XTlcsXG4gICAgICAgIF0pLFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIC4uLkRpYWxvZy5kZWZhdWx0UHJvcHMsXG4gICAgICAgIGFuY2hvcjogdW5kZWZpbmVkLFxuICAgICAgICBhdXRvUmVwb3NpdGlvbjogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZUZvY3VzOiBmYWxzZSxcbiAgICAgICAgY2FyZXRBbmNob3I6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5ULFxuICAgICAgICBjbG9zZU9uRXNjS2V5OiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZUNsaWNrOiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZVNjcm9sbDogdHJ1ZSxcbiAgICAgICAgcG9ydGFsUHJvcHM6IHt9LFxuICAgICAgICBwcmVzZXQ6IFBvcG92ZXIucHJlc2V0LlMsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IHdpdGhvdXQoT2JqZWN0LmtleXMoUG9wb3Zlci5kZWZhdWx0UHJvcHMpLCBEaWFsb2cuaW50ZXJuYWxLZXlzKVxuXG4gICAgc3RhdGljIGdldEFsaWdubWVudENsYXNzRnJhZ21lbnQoY29uc3RhbnQpIHtcbiAgICAgICAgc3dpdGNoIChjb25zdGFudCkge1xuICAgICAgICBjYXNlIFNUQVJUOlxuICAgICAgICAgICAgcmV0dXJuICdzdGFydCc7XG5cbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICByZXR1cm4gJ21pZGRsZSc7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLCBjYXJldEFuY2hvcikge1xuICAgICAgICBjb25zdCBib2R5UmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdGhpcy5hbmNob3JSZWN0ID0gYW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmNhcmV0QW5jaG9yUmVjdCA9IGNhcmV0QW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIG5vcm1hbGx5IHdlJ2QgdXNlIHNjcm9sbFRvcC9zY3JvbGxMZWZ0LCBidXQgc2Nyb2xsIGJlaGF2aW9yIGNoYW5nZXMgd2hlbiBwb3NpdGlvbjogc3RpY2t5XG4gICAgICAgIC8vIGlzIGVuYWJsZWQgaW4gQ2hyb21lIGFuZCBpbnZlcnRpbmcgdGhlIG5lZ2F0aXZlIHZpZXdwb3J0IHJlY3QgdmFsdWUgc2VlbXMgdG8gd29yayBtb3JlXG4gICAgICAgIC8vIGNvbnNpc3RlbnRseVxuICAgICAgICB0aGlzLmJvZHlMZWZ0ID0gYm9keVJlY3QubGVmdCAqIC0xO1xuICAgICAgICB0aGlzLmJvZHlUb3AgPSBib2R5UmVjdC50b3AgKiAtMTtcbiAgICB9XG5cbiAgICBnZXROZXh0Q2FyZXRYUG9zaXRpb24oeyBuYW1lLCBheCwgZHgsIGF5LCBkeSB9LCBjYXJldCA9IHRoaXMuJGNhcmV0KSB7XG4gICAgICAgIGxldCBuZXh0WCA9IDA7XG5cbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdOJyB8fCBuYW1lWzBdID09PSAnUycpIHtcbiAgICAgICAgICAgIC8vIHBvcG92ZXIgaXMgYWJvdmUvYmVsb3csIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBYIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3JcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QubGVmdCAtIHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgdGhpcy5jYXJldEFuY2hvclJlY3Qud2lkdGggLyAyO1xuXG4gICAgICAgICAgICBpZiAoZHggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9ICh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aCAtIHRoaXMuYW5jaG9yUmVjdC53aWR0aCkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkeCA9PT0gRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGggLSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwb3BvdmVyIGlzIGxlZnQvcmlnaHQsIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBZIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3IgKGNhcmV0IGlzIHJvdGF0ZWQgdmlhIENTUylcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QudG9wIC0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuY2FyZXRBbmNob3JSZWN0LmhlaWdodCAvIDI7XG5cbiAgICAgICAgICAgIGlmIChkeSA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gKHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZHkgPT09IEVORCkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0WCAtPSBjYXJldC5jbGllbnRXaWR0aCAvIDI7XG5cbiAgICAgICAgcmV0dXJuIG5leHRYO1xuICAgIH1cblxuICAgIGdldE5leHREaWFsb2dYUG9zaXRpb24oeyBheCwgZHggfSwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgbGV0IG5leHRYID0gdGhpcy5hbmNob3JSZWN0LmxlZnQgKyB0aGlzLmJvZHlMZWZ0O1xuXG4gICAgICAgIHN3aXRjaCAoYXgpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WCArPSB0aGlzLmFuY2hvclJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WCArPSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZHgpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WDtcbiAgICB9XG5cbiAgICBnZXROZXh0RGlhbG9nWVBvc2l0aW9uKHsgYXksIGR5IH0sIGRpYWxvZyA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyKSB7XG4gICAgICAgIGxldCBuZXh0WSA9IHRoaXMuYW5jaG9yUmVjdC50b3AgKyB0aGlzLmJvZHlUb3A7XG5cbiAgICAgICAgc3dpdGNoIChheSkge1xuICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgIG5leHRZICs9IHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WSArPSB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGR5KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFkgLT0gZGlhbG9nLmNsaWVudEhlaWdodCAvIDI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgIG5leHRZIC09IGRpYWxvZy5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvc2l0aW9uIGNvbWJpbmF0aW9uLCB3aWxsIHRoZSBwb3BvdmVyIGZpdCBpbnRvIHRoZSBzcGFjZSB3aXRob3V0IG9jY2x1c2lvbj9cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGNvbmZpZ1xuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5heFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5heVxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5keFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5keVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIHBIZWlnaHRcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwV2lkdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNQb3NpdGlvblZhbGlkKHsgbmFtZSwgYXgsIGF5LCBkeCwgZHkgfSwgcEhlaWdodCwgcFdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gbmFtZVswXTtcblxuICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyB8fCBjYXJkaW5hbCA9PT0gJ1MnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyAmJiB0aGlzLmFuY2hvclJlY3QudG9wIC0gcEhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1MnICYmIHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF4ID09PSBTVEFSVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgcmlnaHQgKi8gfHwgdGhpcy5hbmNob3JSZWN0LmxlZnQgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiB0byB0aGUgbGVmdCAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF4ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIC8gMiA8IDAgICAgICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi8gfHwgdGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggLyAyID4gd2luZG93LmlubmVyV2lkdGgpICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIDwgMCAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgbGVmdCAqLyB8fCB0aGlzLmFuY2hvclJlY3QucmlnaHQgPiB3aW5kb3cuaW5uZXJXaWR0aCkgICAgICAgICAgLyogYW5jaG9yIGlzIHBhcnRpYWxseSBvZmZzY3JlZW4gdG8gdGhlIHJpZ2h0ICovXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY2FyZGluYWwgPT09ICdXJyB8fCBjYXJkaW5hbCA9PT0gJ0UnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdXJyAmJiB0aGlzLmFuY2hvclJlY3QubGVmdCAtIHBXaWR0aCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBsZWZ0ICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhcmRpbmFsID09PSAnRScgJiYgdGhpcy5hbmNob3JSZWN0LnJpZ2h0ICsgcFdpZHRoID4gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSByaWdodCAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXkgPT09IFNUQVJUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QudG9wICsgcEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAgICAvKiB3b3VsZCBvY2NsdWRlIGJlbG93ICovIHx8IHRoaXMuYW5jaG9yUmVjdC50b3AgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF5ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC50b3AgKyB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0IC8gMiAtIHBIZWlnaHQgLyAyIDwgMCAgICAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgYWJvdmUgKi8gfHwgdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyICsgcEhlaWdodCAvIDIgPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LnRvcCAtIHBIZWlnaHQgPCAwICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGFib3ZlICovIHx8IHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIGJlbG93ICovXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBnaXZlbiB0aGUgY3VycmVudCB2aWV3cG9ydCBjYXJ0b2dyYXBoeSwgd2hlcmUgY2FuIHdlIHN0aWNrIHRoZSBwb3BvdmVyXG4gICAgICAgIC8vIHNvIGl0IHdvbid0IGJlIHBhcnRpYWxseSBvY2NsdWRlZD9cbiAgICAgICAgY29uc3QgdmFsaWRDb21ib3MgPSBjb21iaW5hdGlvbnMuZmlsdGVyKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUG9zaXRpb25WYWxpZChjb25maWcsIGhlaWdodCwgd2lkdGgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAxLiBpcyB0aGUgcmVxdWVzdGVkIHByZXNldCBpbiB0aGUgbGlzdD9cbiAgICAgICAgLy8gMi4gZG9lcyB0aGUgY29uc3VtZXIgbm90IHdhbnQgdXMgYXV0by1yZXBvc2l0aW9uaW5nP1xuICAgICAgICAvLyAzLiBhcmUgbm8gY29tYm9zIHZhbGlkP1xuICAgICAgICBpZiAodmFsaWRDb21ib3MuaW5kZXhPZih0aGlzLnByb3BzLnByZXNldCkgIT09IC0xIHx8ICF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9uIHx8ICF2YWxpZENvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNldDsgLy8ganVzdCBnbyB3aXRoIHRoZSByZXF1ZXN0ZWQgcHJlc2V0XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdGhlcndpc2UuLi4gd2UgdHJ5IHRvIGZpbmQgdGhlIGJlc3QgcG9zc2libGUgZmFsbGJhY2sgb3B0aW9uXG5cbiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSByZXF1ZXN0ZWQgcHJlc2V0IGhlbWlzcGhlcmVcbiAgICAgICAgY29uc3QgYmVzdENvbWJvcyA9IHZhbGlkQ29tYm9zLmZpbHRlcigoeyBuYW1lIH0pID0+IG5hbWVbMF0gPT09IHRoaXMucHJvcHMucHJlc2V0Lm5hbWVbMF0pO1xuXG4gICAgICAgIGlmIChiZXN0Q29tYm9zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGJlc3RDb21ib3NbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGVuIHRoZSBvcHBvc2l0ZSAoZS5nLiB0aGUgZWxlbWVudCBpcyB0b28gbG93IGluIHRoZSB2aWV3cG9ydCBzbyBmbGlwIHVwIGluc3RlYWQgb2YgZG93bilcbiAgICAgICAgY29uc3Qgb3Bwb3NpdGVDYXJkaW5hbCA9IGdldE9wcG9zaXRlQ2FyZGluYWwodGhpcy5wcm9wcy5wcmVzZXQubmFtZSk7XG4gICAgICAgIGNvbnN0IG9rYXlDb21ib3MgPSB2YWxpZENvbWJvcy5maWx0ZXIoKHsgbmFtZSB9KSA9PiBuYW1lWzBdID09PSBvcHBvc2l0ZUNhcmRpbmFsKTtcblxuICAgICAgICBpZiAob2theUNvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBva2F5Q29tYm9zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hhdGV2ZXIncyBsZWZ0IHdpbGwgaGF2ZSB0byBkb1xuICAgICAgICByZXR1cm4gdmFsaWRDb21ib3NbMF07XG4gICAgfVxuXG4gICAgYWxpZ24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMucHJvcHMuYW5jaG9yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmFuY2hvclxuICAgICAgICAgICAgICAgICAgICAgICA6IGZpbmRET01Ob2RlKHRoaXMucHJvcHMuYW5jaG9yKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgY29uc3QgY2FyZXRBbmNob3IgPSB0aGlzLnByb3BzLmNhcmV0QW5jaG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmNhcmV0QW5jaG9yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5jYXJldEFuY2hvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmaW5kRE9NTm9kZSh0aGlzLnByb3BzLmNhcmV0QW5jaG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYW5jaG9yO1xuXG4gICAgICAgIHRoaXMuY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvciwgY2FyZXRBbmNob3IpO1xuXG4gICAgICAgIGNvbnN0IHByZXNldCA9IHRoaXMuZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKTtcbiAgICAgICAgY29uc3QgZnJhZyA9IFBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUgPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1hbmNob3IteC0ke2ZyYWcocHJlc2V0LmF4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItYW5jaG9yLXktJHtmcmFnKHByZXNldC5heSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGAgYi1wb3BvdmVyLXNlbGYteC0ke2ZyYWcocHJlc2V0LmR4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItc2VsZi15LSR7ZnJhZyhwcmVzZXQuZHkpfWA7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihwcmVzZXQpKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihwcmVzZXQpKTtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZVt0cmFuc2Zvcm1Qcm9wXSA9IGB0cmFuc2xhdGUoJHtkeH1weCwgJHtkeX1weClgO1xuXG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gcHJlc2V0Lm5hbWVbMF07XG4gICAgICAgIGNvbnN0IGxvbmdpdHVkaW5hbCA9IGNhcmRpbmFsID09PSAnTicgfHwgY2FyZGluYWwgPT09ICdTJztcblxuICAgICAgICAvLyB0aGUgY2FyZXQgaXMgaW5pdGlhbGx5IHBvc2l0aW9uZWQgYXQgMCwwIGluc2lkZSB0aGUgZGlhbG9nXG4gICAgICAgIC8vIHdoaWNoIGlzIGFscmVhZHkgcG9zaXRpb25lZCBhdCB0aGUgYW5jaG9yLCBzbyB3ZSBqdXN0IG5lZWQgdG9cbiAgICAgICAgLy8gbWFrZSBzbWFsbCBhZGp1c3RtZW50cyBhcyBuZWNlc3NhcnkgdG8gbGluZSB1cCB0aGUgY2FyZXRcbiAgICAgICAgLy8gd2l0aCB0aGUgdmlzdWFsIGNlbnRlciBvZiB0aGUgYW5jaG9yXG4gICAgICAgIHRoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbCA/ICdsZWZ0JyA6ICd0b3AnXSA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0Q2FyZXRYUG9zaXRpb24ocHJlc2V0KSkgKyAncHgnO1xuICAgICAgICB0aGlzLiRjYXJldC5zdHlsZVtsb25naXR1ZGluYWwgPyAndG9wJyA6ICdsZWZ0J10gPSAnMHB4JztcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5hbGlnbigpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5hbGlnbiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFsaWduKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTsgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UG9ydGFsIHsuLi5wcm9wcy5wb3J0YWxQcm9wc30+XG4gICAgICAgICAgICAgICAgPERpYWxvZ1xuICAgICAgICAgICAgICAgICAgICB7Li4ub21pdChwcm9wcywgUG9wb3Zlci5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhpbnN0YW5jZSkgPT4gKHRoaXMuZGlhbG9nID0gaW5zdGFuY2UpfVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVFbGVtZW50KHByb3BzLmNhcmV0Q29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAobm9kZSkgPT4gKHRoaXMuJGNhcmV0ID0gbm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi1wb3BvdmVyLWNhcmV0JywgcHJvcHMuY2FyZXRDb21wb25lbnQucHJvcHMuY2xhc3NOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wb3BvdmVyJywgcHJvcHMuY2xhc3NOYW1lKX0gLz5cbiAgICAgICAgICAgIDwvUG9ydGFsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3BvdmVyL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==