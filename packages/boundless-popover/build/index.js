module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"function"==typeof Symbol&&Symbol.iterator;e.exports=n(10)()},function(e,t){e.exports=require("boundless-dialog")},function(e,t){e.exports=require("boundless-portal")},function(e,t){e.exports=require("boundless-utils-omit-keys")},function(e,t){e.exports=require("boundless-utils-transform-property")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,c,s){if(o(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,r,i,a,c,s],l=0;p=new Error(t.replace(/%s/g,function(){return h[l++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(8),o=n(9),i=n(11);e.exports=function(){function e(e,t,n,r,a,c){c!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){switch(e[0]){case"N":return"S";case"S":return"N";case"E":return"W"}return"E"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),s=n.n(c),p=n(6),h=(n.n(p),n(7)),l=(n.n(h),n(5)),u=n.n(l),d=n(1),f=n.n(d),y=n(2),g=n.n(y),m=n(3),x=n.n(m),v=n(4),w=n.n(v),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=/\s?b-popover-(anchor|self)-(start|middle|end)/g,O=n.i(p.createElement)("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},n.i(p.createElement)("g",null,n.i(p.createElement)("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),n.i(p.createElement)("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"}))),N=[{name:"NNW",ax:0,ay:0,dx:0,dy:2},{name:"N",ax:1,ay:0,dx:1,dy:2},{name:"NNE",ax:2,ay:0,dx:2,dy:2},{name:"ENE",ax:2,ay:0,dx:0,dy:0},{name:"E",ax:2,ay:1,dx:0,dy:1},{name:"ESE",ax:2,ay:2,dx:0,dy:2},{name:"SSE",ax:2,ay:2,dx:2,dy:0},{name:"S",ax:1,ay:2,dx:1,dy:0},{name:"SSW",ax:0,ay:2,dx:0,dy:0},{name:"WSW",ax:0,ay:2,dx:2,dy:2},{name:"W",ax:0,ay:1,dx:2,dy:1},{name:"WNW",ax:0,ay:0,dx:2,dy:0}],W=function(e){function t(){var e,i,a,c;r(this,t);for(var s=arguments.length,p=Array(s),l=0;l<s;l++)p[l]=arguments[l];return i=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),a.align=function(){var e=n.i(h.findDOMNode)(a.props.anchor),r=a.props.caretAnchor?n.i(h.findDOMNode)(a.props.caretAnchor):e;a.cacheViewportCartography(e,r),a.props.matchAnchorWidth&&a.matchAnchorWidth();var o=a.getValidAlignmentPreset(),i=t.getAlignmentClassFragment;a.dialog.$wrapper.className=a.dialog.$wrapper.className.replace(E,"")+" b-popover-anchor-x-"+i(o.ax)+" b-popover-anchor-y-"+i(o.ay)+" b-popover-self-x-"+i(o.dx)+" b-popover-self-y-"+i(o.dy);var c=Math.round(a.getNextDialogXPosition(o)),s=Math.round(a.getNextDialogYPosition(o));console.log(a.dialog.$wrapper.style,a.dialog.$wrapper,a.dialog.$wrapper.style),a.dialog.$wrapper.style[w.a]="translate("+c+"px, "+s+"px)";var p=o.name[0],l="N"===p||"S"===p;a.$caret.style[l?"left":"top"]=Math.round(a.getNextCaretXPosition(o))+"px",a.$caret.style[l?"top":"left"]="0px"},a.matchAnchorWidth=function(){a.dialog.$dialog.style.width=a.anchorRect.width+"px"},c=i,o(a,c)}return i(t,e),R(t,[{key:"cacheViewportCartography",value:function(e,t){var n=document.body.getBoundingClientRect();this.anchorRect=e.getBoundingClientRect(),this.caretAnchorRect=t.getBoundingClientRect(),this.bodyLeft=-1*n.left,this.bodyTop=-1*n.top}},{key:"getNextCaretXPosition",value:function(e){var t=e.name,n=(e.ax,e.dx),r=(e.ay,e.dy),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$caret,i=0;return"N"===t[0]||"S"===t[0]?(i=this.caretAnchorRect.left-this.anchorRect.left+this.caretAnchorRect.width/2,1===n?i+=(this.dialog.$wrapper.clientWidth-this.anchorRect.width)/2:2===n&&(i+=this.dialog.$wrapper.clientWidth-this.anchorRect.width)):(i=this.caretAnchorRect.top-this.anchorRect.top+this.caretAnchorRect.height/2,1===r?i+=(this.dialog.$wrapper.clientHeight-this.anchorRect.height)/2:2===r&&(i+=this.dialog.$wrapper.clientHeight-this.anchorRect.height)),i-=o.clientWidth/2}},{key:"getNextDialogXPosition",value:function(e){var t=e.ax,n=e.dx,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.left+this.bodyLeft;switch(t){case 1:o+=this.anchorRect.width/2;break;case 2:o+=this.anchorRect.width}switch(n){case 1:o-=r.clientWidth/2;break;case 2:o-=r.clientWidth}return o}},{key:"getNextDialogYPosition",value:function(e){var t=e.ay,n=e.dy,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.top+this.bodyTop;switch(t){case 1:o+=this.anchorRect.height/2;break;case 2:o+=this.anchorRect.height}switch(n){case 1:o-=r.clientHeight/2;break;case 2:o-=r.clientHeight}return o}},{key:"isPositionValid",value:function(e,t,n){var r=e.name,o=e.ax,i=e.ay,a=(e.dx,e.dy,r[0]);return"N"===a||"S"===a?!("N"===a&&this.anchorRect.top-t<0)&&(!("S"===a&&this.anchorRect.bottom+t>window.innerHeight)&&(0===o?!(this.anchorRect.left+n>window.innerWidth||this.anchorRect.left<0):1===o?!(this.anchorRect.left-n/2<0||this.anchorRect.left+n/2>window.innerWidth):!(this.anchorRect.left-n<0||this.anchorRect.right>window.innerWidth))):"W"!==a&&"E"!==a||!("W"===a&&this.anchorRect.left-n<0)&&(!("E"===a&&this.anchorRect.right+n>window.innerWidth)&&(0===i?!(this.anchorRect.top+t>window.innerHeight||this.anchorRect.top<0):1===i?!(this.anchorRect.top+this.anchorRect.height/2-t/2<0||this.anchorRect.top+this.anchorRect.height/2+t/2>window.innerHeight):!(this.anchorRect.top-t<0||this.anchorRect.bottom>window.innerHeight)))}},{key:"getValidAlignmentPreset",value:function(){var e=this,t=this.dialog.$wrapper.clientWidth,n=this.dialog.$wrapper.clientHeight,r=N.filter(function(r){return e.isPositionValid(r,n,t)});if(-1!==r.indexOf(this.props.preset)||!this.props.autoReposition||!r.length)return this.props.preset;var o=r.filter(function(t){return t.name[0]===e.props.preset.name[0]});if(o.length)return o[0];var i=a(this.props.preset.name),c=r.filter(function(e){return e.name[0]===i});return c.length?c[0]:r[0]}},{key:"componentDidMount",value:function(){this.align(),window.addEventListener("resize",this.align,!0)}},{key:"componentDidUpdate",value:function(){this.align()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.align,!0)}},{key:"render",value:function(){var e=this,r=this.props;return n.i(p.createElement)(g.a,r.portalProps,n.i(p.createElement)(f.a,b({},x()(r,t.internalKeys),{ref:function(t){return e.dialog=t},before:n.i(p.cloneElement)(r.caretComponent,{ref:function(t){return e.$caret=t},className:u()("b-popover-caret",r.caretComponent.props.className)}),className:u()("b-popover",r.className)})))}}],[{key:"getAlignmentClassFragment",value:function(e){switch(e){case 0:return"start";case 1:return"middle";case 2:return"end"}}}]),t}(p.PureComponent);W.preset=N.reduce(function(e,t){return e[t.name]=t,e},{}),W.propTypes=b({},f.a.propTypes,{anchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]).isRequired,autoReposition:s.a.bool,matchAnchorWidth:s.a.bool,caretAnchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]),caretComponent:s.a.element,portalProps:s.a.shape(g.a.PropTypes),preset:s.a.oneOf([W.preset.NNW,W.preset.N,W.preset.NNE,W.preset.ENE,W.preset.E,W.preset.ESE,W.preset.SSE,W.preset.S,W.preset.SSW,W.preset.WSW,W.preset.W,W.preset.WNW])}),W.defaultProps=b({},f.a.defaultProps,{anchor:void 0,autoReposition:!0,matchAnchorWidth:!1,captureFocus:!1,caretAnchor:void 0,caretComponent:O,closeOnEscKey:!0,closeOnOutsideClick:!0,closeOnOutsideScroll:!0,portalProps:{},preset:W.preset.S}),W.internalKeys=function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}(Object.keys(W.defaultProps),f.a.internalKeys),t.default=W}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDc3OGJhNjlmYzlhNGIxZGZlMDUyIiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtZGlhbG9nXCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1wb3J0YWxcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImNsYXNzbmFtZXNcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3RcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCJ9Iiwid2VicGFjazovLy8uL34vZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvaW5kZXguanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJ2YWx1ZSIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJyZXF1aXJlIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJmb3JtYXQiLCJhIiwiYiIsImUiLCJmIiwidmFsaWRhdGVGb3JtYXQiLCJlcnJvciIsInVuZGVmaW5lZCIsIkVycm9yIiwiYXJncyIsImFyZ0luZGV4IiwicmVwbGFjZSIsImZyYW1lc1RvUG9wIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwicHJvcHMiLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJpc1JlcXVpcmVkIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsImJvb2wiLCJmdW5jIiwibnVtYmVyIiwic3RyaW5nIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJpbnN0YW5jZU9mIiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0T3Bwb3NpdGVDYXJkaW5hbCIsImRpcmVjdGlvbiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfX19kZWZhdWx0IiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNMQVNTX1JFTU9WQUxfUkVHRVgiLCJERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCIsInZpZXdCb3giLCJ4bWxucyIsImNsYXNzTmFtZSIsImZpbGwiLCJwb2ludHMiLCJjb21iaW5hdGlvbnMiLCJheCIsImF5IiwiZHgiLCJkeSIsIlBvcG92ZXIiLCJfUHVyZUNvbXBvbmVudCIsIl9yZWYiLCJfdGVtcCIsIl90aGlzIiwiX3JldCIsIl9sZW4iLCJBcnJheSIsIl9rZXkiLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiY29uY2F0IiwiYWxpZ24iLCJhbmNob3IiLCJjYXJldEFuY2hvciIsImNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeSIsIm1hdGNoQW5jaG9yV2lkdGgiLCJwcmVzZXQiLCJnZXRWYWxpZEFsaWdubWVudFByZXNldCIsImZyYWciLCJnZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50IiwiZGlhbG9nIiwiJHdyYXBwZXIiLCJNYXRoIiwicm91bmQiLCJnZXROZXh0RGlhbG9nWFBvc2l0aW9uIiwiZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJzdHlsZSIsImNhcmRpbmFsIiwibG9uZ2l0dWRpbmFsIiwiJGNhcmV0IiwiZ2V0TmV4dENhcmV0WFBvc2l0aW9uIiwiJGRpYWxvZyIsIndpZHRoIiwiYW5jaG9yUmVjdCIsImJvZHlSZWN0IiwiZG9jdW1lbnQiLCJib2R5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2FyZXRBbmNob3JSZWN0IiwiYm9keUxlZnQiLCJsZWZ0IiwiYm9keVRvcCIsInRvcCIsIl9yZWYyIiwiY2FyZXQiLCJuZXh0WCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiX3JlZjMiLCJfcmVmNCIsIm5leHRZIiwiX3JlZjUiLCJwSGVpZ2h0IiwicFdpZHRoIiwiYm90dG9tIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwicmlnaHQiLCJfdGhpczIiLCJ2YWxpZENvbWJvcyIsImZpbHRlciIsImNvbmZpZyIsImlzUG9zaXRpb25WYWxpZCIsImluZGV4T2YiLCJhdXRvUmVwb3NpdGlvbiIsImJlc3RDb21ib3MiLCJfcmVmNiIsIm9wcG9zaXRlQ2FyZGluYWwiLCJva2F5Q29tYm9zIiwiX3JlZjciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMyIsInBvcnRhbFByb3BzIiwiaW50ZXJuYWxLZXlzIiwicmVmIiwiYmVmb3JlIiwiY2FyZXRDb21wb25lbnQiLCJjb25zdGFudCIsInJlZHVjZSIsIm1hcCIsImRlZiIsInByb3BUeXBlcyIsIkhUTUxFbGVtZW50IiwiTk5XIiwiTiIsIk5ORSIsIkVORSIsIkUiLCJFU0UiLCJTU0UiLCJTIiwiU1NXIiwiV1NXIiwiVyIsIldOVyIsImRlZmF1bHRQcm9wcyIsImNhcHR1cmVGb2N1cyIsImNsb3NlT25Fc2NLZXkiLCJjbG9zZU9uT3V0c2lkZUNsaWNrIiwiY2xvc2VPbk91dHNpZGVTY3JvbGwiLCJhcnIxIiwiYXJyMiIsIml0ZW0iLCJrZXlzIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBT0MsUUFDRSxTQUFVQyxHQ0duQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUgsT0FHQSxJQUFBRCxHQUFBSyxFQUFBRCxJQUNBRSxFQUFBRixFQUNBRyxHQUFBLEVBQ0FOLFdBVUEsT0FOQUMsR0FBQUUsR0FBQUksS0FBQVIsRUFBQUMsUUFBQUQsSUFBQUMsUUFBQUUsR0FHQUgsRUFBQU8sR0FBQSxFQUdBUCxFQUFBQyxRQXZCQSxHQUFBSSxLQStEQSxPQW5DQUYsR0FBQU0sRUFBQVAsRUFHQUMsRUFBQU8sRUFBQUws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RU5wRyxFQXdFVnFHLGFkZXVrWDdILEtjZHZrWFAsRUFBQWxFLEVBQU9zTSxjQUNWeEYsV0FBUXhHLEdBQ1JnSyxnQkFBZ0IsRUFDaEJyRCxrQkFBa0IsRUFDbEJzRixjQUFjLEVBQ2R4RixnQkFBYXpHLEdBQ2I2SyxlQUFnQjdGLEVBQ2hCa0gsZUFBZSxFQUNmQyxxQkFBcUIsRUFDckJDLHNCQUFzQixFQUN0QjNCLGVBQ0E3RCxPQUFRakIsRUFBUWlCLE9BQU8rRSxJQXBGVmhHLEVBdUZWK0UsYUFoSlgsU0FBaUIyQixFQUFNQyxHQUFRLE1BQU9ELEdBQUt6QyxPQUFPLFNBQUMyQyxHQUFELE9BQWtDLElBQXhCRCxFQUFLdkMsUUFBUXdDLE1BZ0p2QzFPLE9BQU8yTyxLQUFLN0csRUFBUXFHLGNBQWVwSSxFQUFBbEUsRUFBT2dMLGNkQXUvWHZJLEVBQTZCLFFBQUkiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9XG4vKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMik7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfdHlwZW9mPXR5cGVvZiBTeW1ib2w9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PT1cInN5bWJvbFwiP2Z1bmN0aW9uKG9iail7cmV0dXJuIHR5cGVvZiBvYmo7fTpmdW5jdGlvbihvYmope3JldHVybiBvYmomJnR5cGVvZiBTeW1ib2w9PT1cImZ1bmN0aW9uXCImJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmo7fTtpZihmYWxzZSl7dmFyIFJFQUNUX0VMRU1FTlRfVFlQRT10eXBlb2YgU3ltYm9sPT09J2Z1bmN0aW9uJyYmU3ltYm9sLmZvciYmU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpfHwweGVhYzc7dmFyIGlzVmFsaWRFbGVtZW50PWZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCl7cmV0dXJuKHR5cGVvZiBvYmplY3Q9PT0ndW5kZWZpbmVkJz8ndW5kZWZpbmVkJzpfdHlwZW9mKG9iamVjdCkpPT09J29iamVjdCcmJm9iamVjdCE9PW51bGwmJm9iamVjdC4kJHR5cGVvZj09PVJFQUNUX0VMRU1FTlRfVFlQRTt9O3ZhciB0aHJvd09uRGlyZWN0QWNjZXNzPXRydWU7bW9kdWxlLmV4cG9ydHM9cmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LHRocm93T25EaXJlY3RBY2Nlc3MpO31lbHNle21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oMTApKCk7fVxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLWRpYWxvZ1wiKTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1wb3J0YWxcIik7XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCIpO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eVwiKTtcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNsYXNzbmFtZXNcIik7XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYXJnO307fXZhciBlbXB0eUZ1bmN0aW9uPWZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKXt9O2VtcHR5RnVuY3Rpb24udGhhdFJldHVybnM9bWFrZUVtcHR5RnVuY3Rpb247ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlPW1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZT1tYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbD1tYWtlRW1wdHlGdW5jdGlvbihudWxsKTtlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzO307ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50PWZ1bmN0aW9uKGFyZyl7cmV0dXJuIGFyZzt9O21vZHVsZS5leHBvcnRzPWVtcHR5RnVuY3Rpb247XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciB2YWxpZGF0ZUZvcm1hdD1mdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpe307aWYoZmFsc2Upe3ZhbGlkYXRlRm9ybWF0PWZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCl7aWYoZm9ybWF0PT09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7fX07fWZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sZm9ybWF0LGEsYixjLGQsZSxmKXt2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO2lmKCFjb25kaXRpb24pe3ZhciBlcnJvcjtpZihmb3JtYXQ9PT11bmRlZmluZWQpe2Vycm9yPW5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJysnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTt9ZWxzZXt2YXIgYXJncz1bYSxiLGMsZCxlLGZdO3ZhciBhcmdJbmRleD0wO2Vycm9yPW5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiBhcmdzW2FyZ0luZGV4KytdO30pKTtlcnJvci5uYW1lPSdJbnZhcmlhbnQgVmlvbGF0aW9uJzt9ZXJyb3IuZnJhbWVzVG9Qb3A9MTt0aHJvdyBlcnJvcjt9fW1vZHVsZS5leHBvcnRzPWludmFyaWFudDtcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBlbXB0eUZ1bmN0aW9uPV9fd2VicGFja19yZXF1aXJlX18oOCk7dmFyIGludmFyaWFudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO3ZhciBSZWFjdFByb3BUeXBlc1NlY3JldD1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHNoaW0ocHJvcHMscHJvcE5hbWUsY29tcG9uZW50TmFtZSxsb2NhdGlvbixwcm9wRnVsbE5hbWUsc2VjcmV0KXtpZihzZWNyZXQ9PT1SZWFjdFByb3BUeXBlc1NlY3JldCl7cmV0dXJuO31pbnZhcmlhbnQoZmFsc2UsJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcrJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcrJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnKTt9O3NoaW0uaXNSZXF1aXJlZD1zaGltO2Z1bmN0aW9uIGdldFNoaW0oKXtyZXR1cm4gc2hpbTt9O3ZhciBSZWFjdFByb3BUeXBlcz17YXJyYXk6c2hpbSxib29sOnNoaW0sZnVuYzpzaGltLG51bWJlcjpzaGltLG9iamVjdDpzaGltLHN0cmluZzpzaGltLHN5bWJvbDpzaGltLGFueTpzaGltLGFycmF5T2Y6Z2V0U2hpbSxlbGVtZW50OnNoaW0saW5zdGFuY2VPZjpnZXRTaGltLG5vZGU6c2hpbSxvYmplY3RPZjpnZXRTaGltLG9uZU9mOmdldFNoaW0sb25lT2ZUeXBlOmdldFNoaW0sc2hhcGU6Z2V0U2hpbSxleGFjdDpnZXRTaGltfTtSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcz1lbXB0eUZ1bmN0aW9uO1JlYWN0UHJvcFR5cGVzLlByb3BUeXBlcz1SZWFjdFByb3BUeXBlcztyZXR1cm4gUmVhY3RQcm9wVHlwZXM7fTtcblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldD0nU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO21vZHVsZS5leHBvcnRzPVJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfZG9tX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfZG9tX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfXyk7XG52YXIgX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odGFyZ2V0KXtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgc291cmNlPWFyZ3VtZW50c1tpXTtmb3IodmFyIGtleSBpbiBzb3VyY2Upe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2Usa2V5KSl7dGFyZ2V0W2tleV09c291cmNlW2tleV07fX19cmV0dXJuIHRhcmdldDt9O3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKFwidmFsdWVcImluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO319ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09XCJvYmplY3RcInx8dHlwZW9mIGNhbGw9PT1cImZ1bmN0aW9uXCIpP2NhbGw6c2VsZjt9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09XCJmdW5jdGlvblwiJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTtpZihzdXBlckNsYXNzKU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3M7fWZ1bmN0aW9uIGdldE9wcG9zaXRlQ2FyZGluYWwoZGlyZWN0aW9uKXtzd2l0Y2goZGlyZWN0aW9uWzBdKXtjYXNlJ04nOnJldHVybidTJztjYXNlJ1MnOnJldHVybidOJztjYXNlJ0UnOnJldHVybidXJzt9cmV0dXJuJ0UnO31mdW5jdGlvbiB3aXRob3V0KGFycjEsYXJyMil7cmV0dXJuIGFycjEuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pe3JldHVybiBhcnIyLmluZGV4T2YoaXRlbSk9PT0tMTt9KTt9dmFyIENMQVNTX1JFTU9WQUxfUkVHRVg9L1xccz9iLXBvcG92ZXItKGFuY2hvcnxzZWxmKS0oc3RhcnR8bWlkZGxlfGVuZCkvZzt2YXIgREVGQVVMVF9DQVJFVF9DT01QT05FTlQ9X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoJ3N2Zycse3ZpZXdCb3g6JzAgMCAxNCA5LjUnLHhtbG5zOidodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyd9LF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdnJyxudWxsLF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdwb2x5Z29uJyx7Y2xhc3NOYW1lOidiLXBvcG92ZXItY2FyZXQtYm9yZGVyJyxmaWxsOicjMDAwJyxwb2ludHM6JzcgMCAxNCAxMCAwIDEwJ30pLF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdwb2x5Z29uJyx7Y2xhc3NOYW1lOidiLXBvcG92ZXItY2FyZXQtZmlsbCcsZmlsbDonI0ZGRicscG9pbnRzOic2Ljk4MjMwNDQ0IDEuNzUgMTIuNzUgMTAgMS4yNSAxMCd9KSkpO3ZhciBTVEFSVD0wO3ZhciBNSURETEU9MTt2YXIgRU5EPTI7dmFyIGNvbWJpbmF0aW9ucz1be25hbWU6J05OVycsYXg6U1RBUlQsYXk6U1RBUlQsZHg6U1RBUlQsZHk6RU5EfSx7bmFtZTonTicsYXg6TUlERExFLGF5OlNUQVJULGR4Ok1JRERMRSxkeTpFTkR9LHtuYW1lOidOTkUnLGF4OkVORCxheTpTVEFSVCxkeDpFTkQsZHk6RU5EfSx7bmFtZTonRU5FJyxheDpFTkQsYXk6U1RBUlQsZHg6U1RBUlQsZHk6U1RBUlR9LHtuYW1lOidFJyxheDpFTkQsYXk6TUlERExFLGR4OlNUQVJULGR5Ok1JRERMRX0se25hbWU6J0VTRScsYXg6RU5ELGF5OkVORCxkeDpTVEFSVCxkeTpFTkR9LHtuYW1lOidTU0UnLGF4OkVORCxheTpFTkQsZHg6RU5ELGR5OlNUQVJUfSx7bmFtZTonUycsYXg6TUlERExFLGF5OkVORCxkeDpNSURETEUsZHk6U1RBUlR9LHtuYW1lOidTU1cnLGF4OlNUQVJULGF5OkVORCxkeDpTVEFSVCxkeTpTVEFSVH0se25hbWU6J1dTVycsYXg6U1RBUlQsYXk6RU5ELGR4OkVORCxkeTpFTkR9LHtuYW1lOidXJyxheDpTVEFSVCxheTpNSURETEUsZHg6RU5ELGR5Ok1JRERMRX0se25hbWU6J1dOVycsYXg6U1RBUlQsYXk6U1RBUlQsZHg6RU5ELGR5OlNUQVJUfV07dmFyIFBvcG92ZXI9ZnVuY3Rpb24oX1B1cmVDb21wb25lbnQpe19pbmhlcml0cyhQb3BvdmVyLF9QdXJlQ29tcG9uZW50KTtmdW5jdGlvbiBQb3BvdmVyKCl7dmFyIF9yZWY7dmFyIF90ZW1wLF90aGlzLF9yZXQ7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUG9wb3Zlcik7Zm9yKHZhciBfbGVuPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShfbGVuKSxfa2V5PTA7X2tleTxfbGVuO19rZXkrKyl7YXJnc1tfa2V5XT1hcmd1bWVudHNbX2tleV07fXJldHVybiBfcmV0PShfdGVtcD0oX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoX3JlZj1Qb3BvdmVyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcG92ZXIpKS5jYWxsLmFwcGx5KF9yZWYsW3RoaXNdLmNvbmNhdChhcmdzKSkpLF90aGlzKSxfdGhpcy5hbGlnbj1mdW5jdGlvbigpe3ZhciBhbmNob3I9X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fX1tcImZpbmRET01Ob2RlXCJdKShfdGhpcy5wcm9wcy5hbmNob3IpO3ZhciBjYXJldEFuY2hvcj1fdGhpcy5wcm9wcy5jYXJldEFuY2hvcj9fX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X2RvbV9fW1wiZmluZERPTU5vZGVcIl0pKF90aGlzLnByb3BzLmNhcmV0QW5jaG9yKTphbmNob3I7X3RoaXMuY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvcixjYXJldEFuY2hvcik7aWYoX3RoaXMucHJvcHMubWF0Y2hBbmNob3JXaWR0aCl7X3RoaXMubWF0Y2hBbmNob3JXaWR0aCgpO312YXIgcHJlc2V0PV90aGlzLmdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCk7dmFyIGZyYWc9UG9wb3Zlci5nZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50O190aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWU9X3RoaXMuZGlhbG9nLiR3cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKENMQVNTX1JFTU9WQUxfUkVHRVgsJycpKygnIGItcG9wb3Zlci1hbmNob3IteC0nK2ZyYWcocHJlc2V0LmF4KSkrKCcgYi1wb3BvdmVyLWFuY2hvci15LScrZnJhZyhwcmVzZXQuYXkpKSsoJyBiLXBvcG92ZXItc2VsZi14LScrZnJhZyhwcmVzZXQuZHgpKSsoJyBiLXBvcG92ZXItc2VsZi15LScrZnJhZyhwcmVzZXQuZHkpKTt2YXIgZHg9TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0RGlhbG9nWFBvc2l0aW9uKHByZXNldCkpO3ZhciBkeT1NYXRoLnJvdW5kKF90aGlzLmdldE5leHREaWFsb2dZUG9zaXRpb24ocHJlc2V0KSk7Y29uc29sZS5sb2coX3RoaXMuZGlhbG9nLiR3cmFwcGVyLnN0eWxlLF90aGlzLmRpYWxvZy4kd3JhcHBlcixfdGhpcy5kaWFsb2cuJHdyYXBwZXIuc3R5bGUpO190aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZVtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fX2RlZmF1bHQuYV09J3RyYW5zbGF0ZSgnK2R4KydweCwgJytkeSsncHgpJzt2YXIgY2FyZGluYWw9cHJlc2V0Lm5hbWVbMF07dmFyIGxvbmdpdHVkaW5hbD1jYXJkaW5hbD09PSdOJ3x8Y2FyZGluYWw9PT0nUyc7X3RoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbD8nbGVmdCc6J3RvcCddPU1hdGgucm91bmQoX3RoaXMuZ2V0TmV4dENhcmV0WFBvc2l0aW9uKHByZXNldCkpKydweCc7X3RoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbD8ndG9wJzonbGVmdCddPScwcHgnO30sX3RoaXMubWF0Y2hBbmNob3JXaWR0aD1mdW5jdGlvbigpe3ZhciBkaWFsb2c9X3RoaXMuZGlhbG9nLiRkaWFsb2c7ZGlhbG9nLnN0eWxlLndpZHRoPV90aGlzLmFuY2hvclJlY3Qud2lkdGgrJ3B4Jzt9LF90ZW1wKSxfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyxfcmV0KTt9X2NyZWF0ZUNsYXNzKFBvcG92ZXIsW3trZXk6J2NhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeScsdmFsdWU6ZnVuY3Rpb24gY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvcixjYXJldEFuY2hvcil7dmFyIGJvZHlSZWN0PWRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5hbmNob3JSZWN0PWFuY2hvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmNhcmV0QW5jaG9yUmVjdD1jYXJldEFuY2hvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmJvZHlMZWZ0PWJvZHlSZWN0LmxlZnQqLTE7dGhpcy5ib2R5VG9wPWJvZHlSZWN0LnRvcCotMTt9fSx7a2V5OidnZXROZXh0Q2FyZXRYUG9zaXRpb24nLHZhbHVlOmZ1bmN0aW9uIGdldE5leHRDYXJldFhQb3NpdGlvbihfcmVmMil7dmFyIG5hbWU9X3JlZjIubmFtZSxheD1fcmVmMi5heCxkeD1fcmVmMi5keCxheT1fcmVmMi5heSxkeT1fcmVmMi5keTt2YXIgY2FyZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOnRoaXMuJGNhcmV0O3ZhciBuZXh0WD0wO2lmKG5hbWVbMF09PT0nTid8fG5hbWVbMF09PT0nUycpe25leHRYPXRoaXMuY2FyZXRBbmNob3JSZWN0LmxlZnQtdGhpcy5hbmNob3JSZWN0LmxlZnQrdGhpcy5jYXJldEFuY2hvclJlY3Qud2lkdGgvMjtpZihkeD09PU1JRERMRSl7bmV4dFgrPSh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aC10aGlzLmFuY2hvclJlY3Qud2lkdGgpLzI7fWVsc2UgaWYoZHg9PT1FTkQpe25leHRYKz10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aC10aGlzLmFuY2hvclJlY3Qud2lkdGg7fX1lbHNle25leHRYPXRoaXMuY2FyZXRBbmNob3JSZWN0LnRvcC10aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuY2FyZXRBbmNob3JSZWN0LmhlaWdodC8yO2lmKGR5PT09TUlERExFKXtuZXh0WCs9KHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodC10aGlzLmFuY2hvclJlY3QuaGVpZ2h0KS8yO31lbHNlIGlmKGR5PT09RU5EKXtuZXh0WCs9dGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0LXRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7fX1uZXh0WC09Y2FyZXQuY2xpZW50V2lkdGgvMjtyZXR1cm4gbmV4dFg7fX0se2tleTonZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbicsdmFsdWU6ZnVuY3Rpb24gZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihfcmVmMyl7dmFyIGF4PV9yZWYzLmF4LGR4PV9yZWYzLmR4O3ZhciBkaWFsb2c9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOnRoaXMuZGlhbG9nLiR3cmFwcGVyO3ZhciBuZXh0WD10aGlzLmFuY2hvclJlY3QubGVmdCt0aGlzLmJvZHlMZWZ0O3N3aXRjaChheCl7Y2FzZSBNSURETEU6bmV4dFgrPXRoaXMuYW5jaG9yUmVjdC53aWR0aC8yO2JyZWFrO2Nhc2UgRU5EOm5leHRYKz10aGlzLmFuY2hvclJlY3Qud2lkdGg7YnJlYWs7fXN3aXRjaChkeCl7Y2FzZSBNSURETEU6bmV4dFgtPWRpYWxvZy5jbGllbnRXaWR0aC8yO2JyZWFrO2Nhc2UgRU5EOm5leHRYLT1kaWFsb2cuY2xpZW50V2lkdGg7YnJlYWs7fXJldHVybiBuZXh0WDt9fSx7a2V5OidnZXROZXh0RGlhbG9nWVBvc2l0aW9uJyx2YWx1ZTpmdW5jdGlvbiBnZXROZXh0RGlhbG9nWVBvc2l0aW9uKF9yZWY0KXt2YXIgYXk9X3JlZjQuYXksZHk9X3JlZjQuZHk7dmFyIGRpYWxvZz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06dGhpcy5kaWFsb2cuJHdyYXBwZXI7dmFyIG5leHRZPXRoaXMuYW5jaG9yUmVjdC50b3ArdGhpcy5ib2R5VG9wO3N3aXRjaChheSl7Y2FzZSBNSURETEU6bmV4dFkrPXRoaXMuYW5jaG9yUmVjdC5oZWlnaHQvMjticmVhaztjYXNlIEVORDpuZXh0WSs9dGhpcy5hbmNob3JSZWN0LmhlaWdodDticmVhazt9c3dpdGNoKGR5KXtjYXNlIE1JRERMRTpuZXh0WS09ZGlhbG9nLmNsaWVudEhlaWdodC8yO2JyZWFrO2Nhc2UgRU5EOm5leHRZLT1kaWFsb2cuY2xpZW50SGVpZ2h0O2JyZWFrO31yZXR1cm4gbmV4dFk7fX0se2tleTonaXNQb3NpdGlvblZhbGlkJyx2YWx1ZTpmdW5jdGlvbiBpc1Bvc2l0aW9uVmFsaWQoX3JlZjUscEhlaWdodCxwV2lkdGgpe3ZhciBuYW1lPV9yZWY1Lm5hbWUsYXg9X3JlZjUuYXgsYXk9X3JlZjUuYXksZHg9X3JlZjUuZHgsZHk9X3JlZjUuZHk7dmFyIGNhcmRpbmFsPW5hbWVbMF07aWYoY2FyZGluYWw9PT0nTid8fGNhcmRpbmFsPT09J1MnKXtpZihjYXJkaW5hbD09PSdOJyYmdGhpcy5hbmNob3JSZWN0LnRvcC1wSGVpZ2h0PDApe3JldHVybiBmYWxzZTt9ZWxzZSBpZihjYXJkaW5hbD09PSdTJyYmdGhpcy5hbmNob3JSZWN0LmJvdHRvbStwSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodCl7cmV0dXJuIGZhbHNlO31pZihheD09PVNUQVJUKXtyZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC5sZWZ0K3BXaWR0aD53aW5kb3cuaW5uZXJXaWR0aHx8dGhpcy5hbmNob3JSZWN0LmxlZnQ8MCk7fWVsc2UgaWYoYXg9PT1NSURETEUpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LmxlZnQtcFdpZHRoLzI8MHx8dGhpcy5hbmNob3JSZWN0LmxlZnQrcFdpZHRoLzI+d2luZG93LmlubmVyV2lkdGgpO31yZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC5sZWZ0LXBXaWR0aDwwfHx0aGlzLmFuY2hvclJlY3QucmlnaHQ+d2luZG93LmlubmVyV2lkdGgpO31lbHNlIGlmKGNhcmRpbmFsPT09J1cnfHxjYXJkaW5hbD09PSdFJyl7aWYoY2FyZGluYWw9PT0nVycmJnRoaXMuYW5jaG9yUmVjdC5sZWZ0LXBXaWR0aDwwKXtyZXR1cm4gZmFsc2U7fWVsc2UgaWYoY2FyZGluYWw9PT0nRScmJnRoaXMuYW5jaG9yUmVjdC5yaWdodCtwV2lkdGg+d2luZG93LmlubmVyV2lkdGgpe3JldHVybiBmYWxzZTt9aWYoYXk9PT1TVEFSVCl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QudG9wK3BIZWlnaHQ+d2luZG93LmlubmVySGVpZ2h0fHx0aGlzLmFuY2hvclJlY3QudG9wPDApO31lbHNlIGlmKGF5PT09TUlERExFKXtyZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC50b3ArdGhpcy5hbmNob3JSZWN0LmhlaWdodC8yLXBIZWlnaHQvMjwwfHx0aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuYW5jaG9yUmVjdC5oZWlnaHQvMitwSGVpZ2h0LzI+d2luZG93LmlubmVySGVpZ2h0KTt9cmV0dXJuISh0aGlzLmFuY2hvclJlY3QudG9wLXBIZWlnaHQ8MHx8dGhpcy5hbmNob3JSZWN0LmJvdHRvbT53aW5kb3cuaW5uZXJIZWlnaHQpO31yZXR1cm4gdHJ1ZTt9fSx7a2V5OidnZXRWYWxpZEFsaWdubWVudFByZXNldCcsdmFsdWU6ZnVuY3Rpb24gZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKXt2YXIgX3RoaXMyPXRoaXM7dmFyIHdpZHRoPXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoO3ZhciBoZWlnaHQ9dGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0O3ZhciB2YWxpZENvbWJvcz1jb21iaW5hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGNvbmZpZyl7cmV0dXJuIF90aGlzMi5pc1Bvc2l0aW9uVmFsaWQoY29uZmlnLGhlaWdodCx3aWR0aCk7fSk7aWYodmFsaWRDb21ib3MuaW5kZXhPZih0aGlzLnByb3BzLnByZXNldCkhPT0tMXx8IXRoaXMucHJvcHMuYXV0b1JlcG9zaXRpb258fCF2YWxpZENvbWJvcy5sZW5ndGgpe3JldHVybiB0aGlzLnByb3BzLnByZXNldDt9dmFyIGJlc3RDb21ib3M9dmFsaWRDb21ib3MuZmlsdGVyKGZ1bmN0aW9uKF9yZWY2KXt2YXIgbmFtZT1fcmVmNi5uYW1lO3JldHVybiBuYW1lWzBdPT09X3RoaXMyLnByb3BzLnByZXNldC5uYW1lWzBdO30pO2lmKGJlc3RDb21ib3MubGVuZ3RoKXtyZXR1cm4gYmVzdENvbWJvc1swXTt9dmFyIG9wcG9zaXRlQ2FyZGluYWw9Z2V0T3Bwb3NpdGVDYXJkaW5hbCh0aGlzLnByb3BzLnByZXNldC5uYW1lKTt2YXIgb2theUNvbWJvcz12YWxpZENvbWJvcy5maWx0ZXIoZnVuY3Rpb24oX3JlZjcpe3ZhciBuYW1lPV9yZWY3Lm5hbWU7cmV0dXJuIG5hbWVbMF09PT1vcHBvc2l0ZUNhcmRpbmFsO30pO2lmKG9rYXlDb21ib3MubGVuZ3RoKXtyZXR1cm4gb2theUNvbWJvc1swXTt9cmV0dXJuIHZhbGlkQ29tYm9zWzBdO319LHtrZXk6J2NvbXBvbmVudERpZE1vdW50Jyx2YWx1ZTpmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpe3RoaXMuYWxpZ24oKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJyx0aGlzLmFsaWduLHRydWUpO319LHtrZXk6J2NvbXBvbmVudERpZFVwZGF0ZScsdmFsdWU6ZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCl7dGhpcy5hbGlnbigpO319LHtrZXk6J2NvbXBvbmVudFdpbGxVbm1vdW50Jyx2YWx1ZTpmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLHRoaXMuYWxpZ24sdHJ1ZSk7fX0se2tleToncmVuZGVyJyx2YWx1ZTpmdW5jdGlvbiByZW5kZXIoKXt2YXIgX3RoaXMzPXRoaXM7dmFyIHByb3BzPXRoaXMucHJvcHM7cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdC5hLHByb3BzLnBvcnRhbFByb3BzLF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdC5hLF9leHRlbmRzKHt9LF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX19fZGVmYXVsdCgpKHByb3BzLFBvcG92ZXIuaW50ZXJuYWxLZXlzKSx7cmVmOmZ1bmN0aW9uIHJlZihpbnN0YW5jZSl7cmV0dXJuIF90aGlzMy5kaWFsb2c9aW5zdGFuY2U7fSxiZWZvcmU6X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiY2xvbmVFbGVtZW50XCJdKShwcm9wcy5jYXJldENvbXBvbmVudCx7cmVmOmZ1bmN0aW9uIHJlZihub2RlKXtyZXR1cm4gX3RoaXMzLiRjYXJldD1ub2RlO30sY2xhc3NOYW1lOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKCdiLXBvcG92ZXItY2FyZXQnLHByb3BzLmNhcmV0Q29tcG9uZW50LnByb3BzLmNsYXNzTmFtZSl9KSxjbGFzc05hbWU6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoJ2ItcG9wb3ZlcicscHJvcHMuY2xhc3NOYW1lKX0pKSk7fX1dLFt7a2V5OidnZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50Jyx2YWx1ZTpmdW5jdGlvbiBnZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50KGNvbnN0YW50KXtzd2l0Y2goY29uc3RhbnQpe2Nhc2UgU1RBUlQ6cmV0dXJuJ3N0YXJ0JztjYXNlIE1JRERMRTpyZXR1cm4nbWlkZGxlJztjYXNlIEVORDpyZXR1cm4nZW5kJzt9fX1dKTtyZXR1cm4gUG9wb3Zlcjt9KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7UG9wb3Zlci5wcmVzZXQ9Y29tYmluYXRpb25zLnJlZHVjZShmdW5jdGlvbihtYXAsZGVmKXtyZXR1cm4gbWFwW2RlZi5uYW1lXT1kZWYsbWFwO30se30pO1BvcG92ZXIucHJvcFR5cGVzPV9leHRlbmRzKHt9LF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdC5hLnByb3BUeXBlcyx7YW5jaG9yOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLm9uZU9mVHlwZShbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuaW5zdGFuY2VPZihIVE1MRWxlbWVudCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuc2hhcGUoe3Byb3BzOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLm9iamVjdH0pXSkuaXNSZXF1aXJlZCxhdXRvUmVwb3NpdGlvbjpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5ib29sLG1hdGNoQW5jaG9yV2lkdGg6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuYm9vbCxjYXJldEFuY2hvcjpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vbmVPZlR5cGUoW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLnNoYXBlKHtwcm9wczpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vYmplY3R9KV0pLGNhcmV0Q29tcG9uZW50Ol9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmVsZW1lbnQscG9ydGFsUHJvcHM6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuc2hhcGUoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfX19kZWZhdWx0LmEuUHJvcFR5cGVzKSxwcmVzZXQ6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEub25lT2YoW1BvcG92ZXIucHJlc2V0Lk5OVyxQb3BvdmVyLnByZXNldC5OLFBvcG92ZXIucHJlc2V0Lk5ORSxQb3BvdmVyLnByZXNldC5FTkUsUG9wb3Zlci5wcmVzZXQuRSxQb3BvdmVyLnByZXNldC5FU0UsUG9wb3Zlci5wcmVzZXQuU1NFLFBvcG92ZXIucHJlc2V0LlMsUG9wb3Zlci5wcmVzZXQuU1NXLFBvcG92ZXIucHJlc2V0LldTVyxQb3BvdmVyLnByZXNldC5XLFBvcG92ZXIucHJlc2V0LldOV10pfSk7UG9wb3Zlci5kZWZhdWx0UHJvcHM9X2V4dGVuZHMoe30sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEuZGVmYXVsdFByb3BzLHthbmNob3I6dW5kZWZpbmVkLGF1dG9SZXBvc2l0aW9uOnRydWUsbWF0Y2hBbmNob3JXaWR0aDpmYWxzZSxjYXB0dXJlRm9jdXM6ZmFsc2UsY2FyZXRBbmNob3I6dW5kZWZpbmVkLGNhcmV0Q29tcG9uZW50OkRFRkFVTFRfQ0FSRVRfQ09NUE9ORU5ULGNsb3NlT25Fc2NLZXk6dHJ1ZSxjbG9zZU9uT3V0c2lkZUNsaWNrOnRydWUsY2xvc2VPbk91dHNpZGVTY3JvbGw6dHJ1ZSxwb3J0YWxQcm9wczp7fSxwcmVzZXQ6UG9wb3Zlci5wcmVzZXQuU30pO1BvcG92ZXIuaW50ZXJuYWxLZXlzPXdpdGhvdXQoT2JqZWN0LmtleXMoUG9wb3Zlci5kZWZhdWx0UHJvcHMpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdC5hLmludGVybmFsS2V5cyk7LyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChQb3BvdmVyKTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBpbmRleC5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDc3OGJhNjlmYzlhNGIxZGZlMDUyIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9wcm9wLXR5cGVzL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLWRpYWxvZ1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1kaWFsb2dcIn1cbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXBvcnRhbFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1wb3J0YWxcIn1cbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy11dGlscy1vbWl0LWtleXNcIn1cbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIn1cbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2xhc3NuYW1lc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImNsYXNzbmFtZXNcIn1cbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdFwifVxuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIn1cbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9mYmpzL2xpYi9lbXB0eUZ1bmN0aW9uLmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCk7XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZmJqcy9saWIvaW52YXJpYW50LmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGZhbHNlLFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGNsb25lRWxlbWVudCwgY3JlYXRlRWxlbWVudCwgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGZpbmRET01Ob2RlIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IERpYWxvZyBmcm9tICdib3VuZGxlc3MtZGlhbG9nJztcbmltcG9ydCBQb3J0YWwgZnJvbSAnYm91bmRsZXNzLXBvcnRhbCc7XG5pbXBvcnQgb21pdCBmcm9tICdib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzJztcbmltcG9ydCB0cmFuc2Zvcm1Qcm9wIGZyb20gJ2JvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHknO1xuXG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUNhcmRpbmFsKGRpcmVjdGlvbikge1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uWzBdKSB7XG4gICAgY2FzZSAnTic6XG4gICAgICAgIHJldHVybiAnUyc7XG4gICAgY2FzZSAnUyc6XG4gICAgICAgIHJldHVybiAnTic7XG4gICAgY2FzZSAnRSc6XG4gICAgICAgIHJldHVybiAnVyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdFJztcbn1cblxuZnVuY3Rpb24gd2l0aG91dChhcnIxLCBhcnIyKSB7IHJldHVybiBhcnIxLmZpbHRlcigoaXRlbSkgPT4gYXJyMi5pbmRleE9mKGl0ZW0pID09PSAtMSk7IH1cblxuY29uc3QgQ0xBU1NfUkVNT1ZBTF9SRUdFWCA9IC9cXHM/Yi1wb3BvdmVyLShhbmNob3J8c2VsZiktKHN0YXJ0fG1pZGRsZXxlbmQpL2c7XG5cbmNvbnN0IERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5UID0gKFxuICAgIDxzdmcgdmlld0JveD0nMCAwIDE0IDkuNScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz5cbiAgICAgICAgPGc+XG4gICAgICAgICAgICA8cG9seWdvbiBjbGFzc05hbWU9J2ItcG9wb3Zlci1jYXJldC1ib3JkZXInIGZpbGw9JyMwMDAnIHBvaW50cz0nNyAwIDE0IDEwIDAgMTAnIC8+XG4gICAgICAgICAgICA8cG9seWdvbiBjbGFzc05hbWU9J2ItcG9wb3Zlci1jYXJldC1maWxsJyBmaWxsPScjRkZGJyBwb2ludHM9JzYuOTgyMzA0NDQgMS43NSAxMi43NSAxMCAxLjI1IDEwJyAvPlxuICAgICAgICA8L2c+XG4gICAgPC9zdmc+XG4pO1xuXG5jb25zdCBTVEFSVCA9IDA7XG5jb25zdCBNSURETEUgPSAxO1xuY29uc3QgRU5EID0gMjtcblxuY29uc3QgY29tYmluYXRpb25zID0gW1xuICAgIHsgbmFtZTogJ05OVycsICAgYXg6IFNUQVJULCAgICAgYXk6IFNUQVJULCAgICAgIGR4OiBTVEFSVCwgICBkeTogRU5EIH0sXG4gICAgeyBuYW1lOiAnTicsICAgICBheDogTUlERExFLCAgICBheTogU1RBUlQsICAgICAgZHg6IE1JRERMRSwgIGR5OiBFTkQgfSxcbiAgICB7IG5hbWU6ICdOTkUnLCAgIGF4OiBFTkQsICAgICAgIGF5OiBTVEFSVCwgICAgICBkeDogRU5ELCAgICAgZHk6IEVORCB9LFxuICAgIHsgbmFtZTogJ0VORScsICAgYXg6IEVORCwgICAgICAgYXk6IFNUQVJULCAgICAgIGR4OiBTVEFSVCwgICBkeTogU1RBUlQgfSxcbiAgICB7IG5hbWU6ICdFJywgICAgIGF4OiBFTkQsICAgICAgIGF5OiBNSURETEUsICAgICBkeDogU1RBUlQsICAgZHk6IE1JRERMRSB9LFxuICAgIHsgbmFtZTogJ0VTRScsICAgYXg6IEVORCwgICAgICAgYXk6IEVORCwgICAgICAgIGR4OiBTVEFSVCwgICBkeTogRU5EIH0sXG4gICAgeyBuYW1lOiAnU1NFJywgICBheDogRU5ELCAgICAgICBheTogRU5ELCAgICAgICAgZHg6IEVORCwgICAgIGR5OiBTVEFSVCB9LFxuICAgIHsgbmFtZTogJ1MnLCAgICAgYXg6IE1JRERMRSwgICAgYXk6IEVORCwgICAgICAgIGR4OiBNSURETEUsICBkeTogU1RBUlQgfSxcbiAgICB7IG5hbWU6ICdTU1cnLCAgIGF4OiBTVEFSVCwgICAgIGF5OiBFTkQsICAgICAgICBkeDogU1RBUlQsICAgZHk6IFNUQVJUIH0sXG4gICAgeyBuYW1lOiAnV1NXJywgICBheDogU1RBUlQsICAgICBheTogRU5ELCAgICAgICAgZHg6IEVORCwgICAgIGR5OiBFTkQgfSxcbiAgICB7IG5hbWU6ICdXJywgICAgIGF4OiBTVEFSVCwgICAgIGF5OiBNSURETEUsICAgICBkeDogRU5ELCAgICAgZHk6IE1JRERMRSB9LFxuICAgIHsgbmFtZTogJ1dOVycsICAgYXg6IFNUQVJULCAgICAgYXk6IFNUQVJULCAgICAgIGR4OiBFTkQsICAgICBkeTogU1RBUlQgfSxcbl07XG5cbi8qKlxuQSBwb3BvdmVyIGlzIGEgdHlwZSBvZiBbRGlhbG9nXShodHRwczovL2dpdGh1Yi5jb20vZW5pZ21hLWlvL2JvdW5kbGVzcy90cmVlL21hc3Rlci9wYWNrYWdlcy9ib3VuZGxlc3MtZGlhbG9nKSB0aGF0IGlzIG1lYW50IHRvIHByb3ZpZGUgYWRkaXRpb25hbCBjb250ZXh0IHRvIGNvbnRlbnQgKGFuIFwiYW5jaG9yXCIpIGN1cnJlbnRseSBvbi1zY3JlZW4uIFR5cGljYWxseSwgYSBwb3BvdmVyIGlzIHNwYXduZWQgYnkgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgY29udGVudCBpdCBlbnJpY2hlcyBhbmQgaXMgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIG9yIHNoaWZ0aW5nIGZvY3VzIHRvIGFuIGFsdGVybmF0ZSBsb2NhdGlvbi5cblxuQWxpZ25tZW50IG9wdGlvbnMgZm9yIHRoZSBwb3BvdmVyIGFyZSBkZXNpZ25lZCB0byBtaXJyb3IgY29tcGFzcyBkaXJlY3Rpb25zOlxuXG5gYGBcbiAgICAgICDihpIgICAgICAg4oaQXG4gICAgICBOTlcgIE4gIE5ORVxu4oaTIFdOVyAgICAgICAgICAgICBFTkUg4oaTXG4gICAgVyAgIEFOQ0hPUiAgICBFXG7ihpEgV1NXICAgICAgICAgICAgIEVTRSDihpFcbiAgICAgIFNTVyAgUyAgU1NFXG4gICAgICAg4oaSICAgICAgIOKGkFxuYGBgXG5cblRoZSBhcnJvd3MgaW5kaWNhdGUgd2hpY2ggd2F5IHRoZSBwb3BvdmVyIHdpbGwgZXh0ZW5kLCBlLmcuIOKGkiBtZWFucyB0aGUgcG9wb3ZlciBpcyBhbGlnbmVkIHRvIHRoZSBsZWZ0IGVkZ2UgYW5kIGV4dGVuZHMgaW4gdGhhdCBkaXJlY3Rpb24uIERpYWdvbmFsIGNvcm5lcnMgKE5XLCBORSwgU0UsIFNXKSBhcmUgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuXG5cbmBgYGpzeFxuPFBvcG92ZXJcbiAgICBhbmNob3I9e2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb21lLWFuY2hvci1lbGVtZW50Jyl9XG4gICAgcHJlc2V0PXtQb3BvdmVyLnByZXNldC5OfT5cbiAgICBNeSBwb3BvdmVyIGNvbnRlbnQhXG48L1BvcG92ZXI+XG5gYGBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wb3ZlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZXF1ZW5jZXNcbiAgICBzdGF0aWMgcHJlc2V0ID0gY29tYmluYXRpb25zLnJlZHVjZSgobWFwLCBkZWYpID0+ICgobWFwW2RlZi5uYW1lXSA9IGRlZiksIG1hcCksIHt9KVxuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLi4uRGlhbG9nLnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBET00gZWxlbWVudCBvciBSZWFjdCByZWZlcmVuY2UgKHJlZikgdG8gb25lIGZvciBwb3NpdGlvbmluZyBwdXJwb3Nlc1xuICAgICAgICAgKi9cbiAgICAgICAgYW5jaG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgcHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXSkuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogaWYgdGhlIGdpdmVuIGFsaWdubWVudCBzZXR0aW5ncyB3b3VsZCB0YWtlIHRoZSBwb3BvdmVyIG91dCBvZiBib3VuZHMsIGNoYW5nZSB0aGUgYWxpZ25tZW50IGFzIG5lY2Vzc2FyeSB0byByZW1haW4gaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAqL1xuICAgICAgICBhdXRvUmVwb3NpdGlvbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICBpZiBwb3BvdmVyIGVsZW1lbnQgc2hvdWxkIG1hdGNoIHRoZSBhbmNob3JcbiAgICAgICAgICovXG4gICAgICAgIG1hdGNoQW5jaG9yV2lkdGg6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIERPTSBlbGVtZW50IG9yIFJlYWN0IHJlZmVyZW5jZSAocmVmKSB0byBvbmUgZm9yIHBvc2l0aW9uaW5nIHB1cnBvc2VzLCB0aGUgY2FyZXQgY29tcG9uZW50IHdpbGxcbiAgICAgICAgICogYmUgYXV0b21hdGljYWxseSBwb3NpdGlvbmVkIHRvIGNlbnRlciBvbiB0aGlzIHByb3ZpZGVkIGFuY2hvcjsgYnkgZGVmYXVsdCBpdCB3aWxsIGNlbnRlclxuICAgICAgICAgKiBvbiBgcHJvcHMuYW5jaG9yYFxuICAgICAgICAgKi9cbiAgICAgICAgY2FyZXRBbmNob3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgUHJvcFR5cGVzLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICBwcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIEpTWCB0aGF0IGlzIHJlbmRlcmVkIGFuZCB1c2VkIHRvIHBvaW50IGF0IHRoZSBtaWRkbGUgb2YgdGhlIGFuY2hvciBlbGVtZW50IGFuZCBpbmRpY2F0ZSB0aGUgY29udGV4dCBvZiB0aGUgcG9wb3ZlclxuICAgICAgICAgKi9cbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50LFxuXG4gICAgICAgIHBvcnRhbFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoUG9ydGFsLlByb3BUeXBlcyksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4YW1wbGU6XG4gICAgICAgICAqIGBgYGpzeFxuICAgICAgICAgKiA8UG9wb3ZlclxuICAgICAgICAgKiAgICAgYW5jaG9yPXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc29tZS1hbmNob3ItZWxlbWVudCcpfVxuICAgICAgICAgKiAgICAgcHJlc2V0PXtQb3BvdmVyLnByZXNldC5OTkV9PlxuICAgICAgICAgKiAgICAgTXkgcG9wb3ZlciBjb250ZW50IVxuICAgICAgICAgKiA8L1BvcG92ZXI+XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgcHJlc2V0OiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTk5XLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTixcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0Lk5ORSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkVORSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkUsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5FU0UsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TU0UsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuU1NXLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuV1NXLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LldOVyxcbiAgICAgICAgXSksXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgLi4uRGlhbG9nLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgYW5jaG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGF1dG9SZXBvc2l0aW9uOiB0cnVlLFxuICAgICAgICBtYXRjaEFuY2hvcldpZHRoOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZUZvY3VzOiBmYWxzZSxcbiAgICAgICAgY2FyZXRBbmNob3I6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5ULFxuICAgICAgICBjbG9zZU9uRXNjS2V5OiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZUNsaWNrOiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZVNjcm9sbDogdHJ1ZSxcbiAgICAgICAgcG9ydGFsUHJvcHM6IHt9LFxuICAgICAgICBwcmVzZXQ6IFBvcG92ZXIucHJlc2V0LlMsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IHdpdGhvdXQoT2JqZWN0LmtleXMoUG9wb3Zlci5kZWZhdWx0UHJvcHMpLCBEaWFsb2cuaW50ZXJuYWxLZXlzKVxuXG4gICAgc3RhdGljIGdldEFsaWdubWVudENsYXNzRnJhZ21lbnQoY29uc3RhbnQpIHtcbiAgICAgICAgc3dpdGNoIChjb25zdGFudCkge1xuICAgICAgICBjYXNlIFNUQVJUOlxuICAgICAgICAgICAgcmV0dXJuICdzdGFydCc7XG5cbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICByZXR1cm4gJ21pZGRsZSc7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLCBjYXJldEFuY2hvcikge1xuICAgICAgICBjb25zdCBib2R5UmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdGhpcy5hbmNob3JSZWN0ID0gYW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmNhcmV0QW5jaG9yUmVjdCA9IGNhcmV0QW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIG5vcm1hbGx5IHdlJ2QgdXNlIHNjcm9sbFRvcC9zY3JvbGxMZWZ0LCBidXQgc2Nyb2xsIGJlaGF2aW9yIGNoYW5nZXMgd2hlbiBwb3NpdGlvbjogc3RpY2t5XG4gICAgICAgIC8vIGlzIGVuYWJsZWQgaW4gQ2hyb21lIGFuZCBpbnZlcnRpbmcgdGhlIG5lZ2F0aXZlIHZpZXdwb3J0IHJlY3QgdmFsdWUgc2VlbXMgdG8gd29yayBtb3JlXG4gICAgICAgIC8vIGNvbnNpc3RlbnRseVxuICAgICAgICB0aGlzLmJvZHlMZWZ0ID0gYm9keVJlY3QubGVmdCAqIC0xO1xuICAgICAgICB0aGlzLmJvZHlUb3AgPSBib2R5UmVjdC50b3AgKiAtMTtcbiAgICB9XG5cbiAgICBnZXROZXh0Q2FyZXRYUG9zaXRpb24oeyBuYW1lLCBheCwgZHgsIGF5LCBkeSB9LCBjYXJldCA9IHRoaXMuJGNhcmV0KSB7XG4gICAgICAgIGxldCBuZXh0WCA9IDA7XG5cbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdOJyB8fCBuYW1lWzBdID09PSAnUycpIHtcbiAgICAgICAgICAgIC8vIHBvcG92ZXIgaXMgYWJvdmUvYmVsb3csIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBYIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3JcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QubGVmdCAtIHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgdGhpcy5jYXJldEFuY2hvclJlY3Qud2lkdGggLyAyO1xuXG4gICAgICAgICAgICBpZiAoZHggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9ICh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aCAtIHRoaXMuYW5jaG9yUmVjdC53aWR0aCkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkeCA9PT0gRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGggLSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwb3BvdmVyIGlzIGxlZnQvcmlnaHQsIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBZIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3IgKGNhcmV0IGlzIHJvdGF0ZWQgdmlhIENTUylcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QudG9wIC0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuY2FyZXRBbmNob3JSZWN0LmhlaWdodCAvIDI7XG5cbiAgICAgICAgICAgIGlmIChkeSA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gKHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZHkgPT09IEVORCkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0WCAtPSBjYXJldC5jbGllbnRXaWR0aCAvIDI7XG5cbiAgICAgICAgcmV0dXJuIG5leHRYO1xuICAgIH1cblxuICAgIGdldE5leHREaWFsb2dYUG9zaXRpb24oeyBheCwgZHggfSwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgbGV0IG5leHRYID0gdGhpcy5hbmNob3JSZWN0LmxlZnQgKyB0aGlzLmJvZHlMZWZ0O1xuXG4gICAgICAgIHN3aXRjaCAoYXgpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WCArPSB0aGlzLmFuY2hvclJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WCArPSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZHgpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WDtcbiAgICB9XG5cbiAgICBnZXROZXh0RGlhbG9nWVBvc2l0aW9uKHsgYXksIGR5IH0sIGRpYWxvZyA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyKSB7XG4gICAgICAgIGxldCBuZXh0WSA9IHRoaXMuYW5jaG9yUmVjdC50b3AgKyB0aGlzLmJvZHlUb3A7XG5cbiAgICAgICAgc3dpdGNoIChheSkge1xuICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgIG5leHRZICs9IHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WSArPSB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGR5KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFkgLT0gZGlhbG9nLmNsaWVudEhlaWdodCAvIDI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgIG5leHRZIC09IGRpYWxvZy5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvc2l0aW9uIGNvbWJpbmF0aW9uLCB3aWxsIHRoZSBwb3BvdmVyIGZpdCBpbnRvIHRoZSBzcGFjZSB3aXRob3V0IG9jY2x1c2lvbj9cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGNvbmZpZ1xuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5heFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5heVxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5keFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5keVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIHBIZWlnaHRcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwV2lkdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNQb3NpdGlvblZhbGlkKHsgbmFtZSwgYXgsIGF5LCBkeCwgZHkgfSwgcEhlaWdodCwgcFdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gbmFtZVswXTtcblxuICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyB8fCBjYXJkaW5hbCA9PT0gJ1MnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyAmJiB0aGlzLmFuY2hvclJlY3QudG9wIC0gcEhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1MnICYmIHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF4ID09PSBTVEFSVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgcmlnaHQgKi8gfHwgdGhpcy5hbmNob3JSZWN0LmxlZnQgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiB0byB0aGUgbGVmdCAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF4ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIC8gMiA8IDAgICAgICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi8gfHwgdGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggLyAyID4gd2luZG93LmlubmVyV2lkdGgpICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIDwgMCAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgbGVmdCAqLyB8fCB0aGlzLmFuY2hvclJlY3QucmlnaHQgPiB3aW5kb3cuaW5uZXJXaWR0aCkgICAgICAgICAgLyogYW5jaG9yIGlzIHBhcnRpYWxseSBvZmZzY3JlZW4gdG8gdGhlIHJpZ2h0ICovXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY2FyZGluYWwgPT09ICdXJyB8fCBjYXJkaW5hbCA9PT0gJ0UnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdXJyAmJiB0aGlzLmFuY2hvclJlY3QubGVmdCAtIHBXaWR0aCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBsZWZ0ICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhcmRpbmFsID09PSAnRScgJiYgdGhpcy5hbmNob3JSZWN0LnJpZ2h0ICsgcFdpZHRoID4gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSByaWdodCAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXkgPT09IFNUQVJUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QudG9wICsgcEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAgICAvKiB3b3VsZCBvY2NsdWRlIGJlbG93ICovIHx8IHRoaXMuYW5jaG9yUmVjdC50b3AgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF5ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC50b3AgKyB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0IC8gMiAtIHBIZWlnaHQgLyAyIDwgMCAgICAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgYWJvdmUgKi8gfHwgdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyICsgcEhlaWdodCAvIDIgPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LnRvcCAtIHBIZWlnaHQgPCAwICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGFib3ZlICovIHx8IHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIGJlbG93ICovXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBnaXZlbiB0aGUgY3VycmVudCB2aWV3cG9ydCBjYXJ0b2dyYXBoeSwgd2hlcmUgY2FuIHdlIHN0aWNrIHRoZSBwb3BvdmVyXG4gICAgICAgIC8vIHNvIGl0IHdvbid0IGJlIHBhcnRpYWxseSBvY2NsdWRlZD9cbiAgICAgICAgY29uc3QgdmFsaWRDb21ib3MgPSBjb21iaW5hdGlvbnMuZmlsdGVyKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUG9zaXRpb25WYWxpZChjb25maWcsIGhlaWdodCwgd2lkdGgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAxLiBpcyB0aGUgcmVxdWVzdGVkIHByZXNldCBpbiB0aGUgbGlzdD9cbiAgICAgICAgLy8gMi4gZG9lcyB0aGUgY29uc3VtZXIgbm90IHdhbnQgdXMgYXV0by1yZXBvc2l0aW9uaW5nP1xuICAgICAgICAvLyAzLiBhcmUgbm8gY29tYm9zIHZhbGlkP1xuICAgICAgICBpZiAodmFsaWRDb21ib3MuaW5kZXhPZih0aGlzLnByb3BzLnByZXNldCkgIT09IC0xIHx8ICF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9uIHx8ICF2YWxpZENvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNldDsgLy8ganVzdCBnbyB3aXRoIHRoZSByZXF1ZXN0ZWQgcHJlc2V0XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdGhlcndpc2UuLi4gd2UgdHJ5IHRvIGZpbmQgdGhlIGJlc3QgcG9zc2libGUgZmFsbGJhY2sgb3B0aW9uXG5cbiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSByZXF1ZXN0ZWQgcHJlc2V0IGhlbWlzcGhlcmVcbiAgICAgICAgY29uc3QgYmVzdENvbWJvcyA9IHZhbGlkQ29tYm9zLmZpbHRlcigoeyBuYW1lIH0pID0+IG5hbWVbMF0gPT09IHRoaXMucHJvcHMucHJlc2V0Lm5hbWVbMF0pO1xuXG4gICAgICAgIGlmIChiZXN0Q29tYm9zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGJlc3RDb21ib3NbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGVuIHRoZSBvcHBvc2l0ZSAoZS5nLiB0aGUgZWxlbWVudCBpcyB0b28gbG93IGluIHRoZSB2aWV3cG9ydCBzbyBmbGlwIHVwIGluc3RlYWQgb2YgZG93bilcbiAgICAgICAgY29uc3Qgb3Bwb3NpdGVDYXJkaW5hbCA9IGdldE9wcG9zaXRlQ2FyZGluYWwodGhpcy5wcm9wcy5wcmVzZXQubmFtZSk7XG4gICAgICAgIGNvbnN0IG9rYXlDb21ib3MgPSB2YWxpZENvbWJvcy5maWx0ZXIoKHsgbmFtZSB9KSA9PiBuYW1lWzBdID09PSBvcHBvc2l0ZUNhcmRpbmFsKTtcblxuICAgICAgICBpZiAob2theUNvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBva2F5Q29tYm9zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hhdGV2ZXIncyBsZWZ0IHdpbGwgaGF2ZSB0byBkb1xuICAgICAgICByZXR1cm4gdmFsaWRDb21ib3NbMF07XG4gICAgfVxuXG4gICAgYWxpZ24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGZpbmRET01Ob2RlKHRoaXMucHJvcHMuYW5jaG9yKTtcblxuICAgICAgICBjb25zdCBjYXJldEFuY2hvciA9IHRoaXMucHJvcHMuY2FyZXRBbmNob3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZpbmRET01Ob2RlKHRoaXMucHJvcHMuY2FyZXRBbmNob3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhbmNob3I7XG5cbiAgICAgICAgdGhpcy5jYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLCBjYXJldEFuY2hvcik7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWF0Y2hBbmNob3JXaWR0aCkgeyB0aGlzLm1hdGNoQW5jaG9yV2lkdGgoKTsgfVxuXG4gICAgICAgIGNvbnN0IHByZXNldCA9IHRoaXMuZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKTtcbiAgICAgICAgY29uc3QgZnJhZyA9IFBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUgPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1hbmNob3IteC0ke2ZyYWcocHJlc2V0LmF4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItYW5jaG9yLXktJHtmcmFnKHByZXNldC5heSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGAgYi1wb3BvdmVyLXNlbGYteC0ke2ZyYWcocHJlc2V0LmR4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItc2VsZi15LSR7ZnJhZyhwcmVzZXQuZHkpfWA7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihwcmVzZXQpKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihwcmVzZXQpKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5kaWFsb2cuJHdyYXBwZXIuc3R5bGUsIHRoaXMuZGlhbG9nLiR3cmFwcGVyLCB0aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZSk7XG4gICAgICAgIHRoaXMuZGlhbG9nLiR3cmFwcGVyLnN0eWxlW3RyYW5zZm9ybVByb3BdID0gYHRyYW5zbGF0ZSgke2R4fXB4LCAke2R5fXB4KWA7XG5cbiAgICAgICAgY29uc3QgY2FyZGluYWwgPSBwcmVzZXQubmFtZVswXTtcbiAgICAgICAgY29uc3QgbG9uZ2l0dWRpbmFsID0gY2FyZGluYWwgPT09ICdOJyB8fCBjYXJkaW5hbCA9PT0gJ1MnO1xuXG4gICAgICAgIC8vIHRoZSBjYXJldCBpcyBpbml0aWFsbHkgcG9zaXRpb25lZCBhdCAwLDAgaW5zaWRlIHRoZSBkaWFsb2dcbiAgICAgICAgLy8gd2hpY2ggaXMgYWxyZWFkeSBwb3NpdGlvbmVkIGF0IHRoZSBhbmNob3IsIHNvIHdlIGp1c3QgbmVlZCB0b1xuICAgICAgICAvLyBtYWtlIHNtYWxsIGFkanVzdG1lbnRzIGFzIG5lY2Vzc2FyeSB0byBsaW5lIHVwIHRoZSBjYXJldFxuICAgICAgICAvLyB3aXRoIHRoZSB2aXN1YWwgY2VudGVyIG9mIHRoZSBhbmNob3JcbiAgICAgICAgdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsID8gJ2xlZnQnIDogJ3RvcCddID0gTWF0aC5yb3VuZCh0aGlzLmdldE5leHRDYXJldFhQb3NpdGlvbihwcmVzZXQpKSArICdweCc7XG4gICAgICAgIHRoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbCA/ICd0b3AnIDogJ2xlZnQnXSA9ICcwcHgnO1xuICAgIH1cblxuICAgIG1hdGNoQW5jaG9yV2lkdGggPSAoKSA9PiB7XG4gICAgICBjb25zdCBkaWFsb2cgPSB0aGlzLmRpYWxvZy4kZGlhbG9nO1xuICAgICAgZGlhbG9nLnN0eWxlLndpZHRoID0gYCR7dGhpcy5hbmNob3JSZWN0LndpZHRofXB4YDtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5hbGlnbigpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5hbGlnbiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFsaWduKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTsgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UG9ydGFsIHsuLi5wcm9wcy5wb3J0YWxQcm9wc30+XG4gICAgICAgICAgICAgICAgPERpYWxvZ1xuICAgICAgICAgICAgICAgICAgICB7Li4ub21pdChwcm9wcywgUG9wb3Zlci5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhpbnN0YW5jZSkgPT4gKHRoaXMuZGlhbG9nID0gaW5zdGFuY2UpfVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVFbGVtZW50KHByb3BzLmNhcmV0Q29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAobm9kZSkgPT4gKHRoaXMuJGNhcmV0ID0gbm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi1wb3BvdmVyLWNhcmV0JywgcHJvcHMuY2FyZXRDb21wb25lbnQucHJvcHMuY2xhc3NOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wb3BvdmVyJywgcHJvcHMuY2xhc3NOYW1lKX0gLz5cbiAgICAgICAgICAgIDwvUG9ydGFsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3BvdmVyL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==