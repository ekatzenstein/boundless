module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"function"==typeof Symbol&&Symbol.iterator;e.exports=n(10)()},function(e,t){e.exports=require("boundless-dialog")},function(e,t){e.exports=require("boundless-portal")},function(e,t){e.exports=require("boundless-utils-omit-keys")},function(e,t){e.exports=require("boundless-utils-transform-property")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,c,s){if(o(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,r,i,a,c,s],l=0;p=new Error(t.replace(/%s/g,function(){return h[l++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(8),o=n(9),i=n(11);e.exports=function(){function e(e,t,n,r,a,c){c!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){switch(e[0]){case"N":return"S";case"S":return"N";case"E":return"W"}return"E"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),s=n.n(c),p=n(6),h=(n.n(p),n(7)),l=(n.n(h),n(5)),u=n.n(l),d=n(1),f=n.n(d),y=n(2),g=n.n(y),m=n(3),x=n.n(m),v=n(4),w=n.n(v),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=/\s?b-popover-(anchor|self)-(start|middle|end)/g,O=n.i(p.createElement)("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},n.i(p.createElement)("g",null,n.i(p.createElement)("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),n.i(p.createElement)("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"}))),N=[{name:"NNW",ax:0,ay:0,dx:0,dy:2},{name:"N",ax:1,ay:0,dx:1,dy:2},{name:"NNE",ax:2,ay:0,dx:2,dy:2},{name:"ENE",ax:2,ay:0,dx:0,dy:0},{name:"E",ax:2,ay:1,dx:0,dy:1},{name:"ESE",ax:2,ay:2,dx:0,dy:2},{name:"SSE",ax:2,ay:2,dx:2,dy:0},{name:"S",ax:1,ay:2,dx:1,dy:0},{name:"SSW",ax:0,ay:2,dx:0,dy:0},{name:"WSW",ax:0,ay:2,dx:2,dy:2},{name:"W",ax:0,ay:1,dx:2,dy:1},{name:"WNW",ax:0,ay:0,dx:2,dy:0}],P=function(e){function t(){var e,i,a,c;r(this,t);for(var s=arguments.length,p=Array(s),l=0;l<s;l++)p[l]=arguments[l];return i=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),a.align=function(){var e=n.i(h.findDOMNode)(a.props.anchor),r=a.props.caretAnchor?n.i(h.findDOMNode)(a.props.caretAnchor):e;a.cacheViewportCartography(e,r),a.props.matchAnchorWidth&&a.matchAnchorWidth();var o=a.getValidAlignmentPreset(),i=t.getAlignmentClassFragment;a.dialog.$wrapper.className=a.dialog.$wrapper.className.replace(E,"")+" b-popover-anchor-x-"+i(o.ax)+" b-popover-anchor-y-"+i(o.ay)+" b-popover-self-x-"+i(o.dx)+" b-popover-self-y-"+i(o.dy);var c=Math.round(a.getNextDialogXPosition(o)),s=Math.round(a.getNextDialogYPosition(o)),p=a.props.portalProps;a.transformParent=p&&p.style&&(p.style.transform||""),a.dialog.$wrapper.style["transform-origin"]=c+"px, "+s+"px",a.dialog.$wrapper.style[w.a]=a.transformParent+" translate("+c+"px, "+s+"px)";var l=o.name[0],u="N"===l||"S"===l;a.$caret.style[u?"left":"top"]=Math.round(a.getNextCaretXPosition(o))+"px",a.$caret.style[u?"top":"left"]="0px"},a.matchAnchorWidth=function(){a.dialog.$dialog.style.width=a.anchorRect.width+"px"},c=i,o(a,c)}return i(t,e),R(t,[{key:"cacheViewportCartography",value:function(e,t){var n=document.body.getBoundingClientRect();this.anchorRect=e.getBoundingClientRect(),this.caretAnchorRect=t.getBoundingClientRect(),this.bodyLeft=-1*n.left,this.bodyTop=-1*n.top}},{key:"getNextCaretXPosition",value:function(e){var t=e.name,n=(e.ax,e.dx),r=(e.ay,e.dy),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$caret,i=0;return"N"===t[0]||"S"===t[0]?(i=this.caretAnchorRect.left-this.anchorRect.left+this.caretAnchorRect.width/2,1===n?i+=(this.dialog.$wrapper.clientWidth-this.anchorRect.width)/2:2===n&&(i+=this.dialog.$wrapper.clientWidth-this.anchorRect.width)):(i=this.caretAnchorRect.top-this.anchorRect.top+this.caretAnchorRect.height/2,1===r?i+=(this.dialog.$wrapper.clientHeight-this.anchorRect.height)/2:2===r&&(i+=this.dialog.$wrapper.clientHeight-this.anchorRect.height)),i-=o.clientWidth/2}},{key:"getNextDialogXPosition",value:function(e){var t=e.ax,n=e.dx,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.left+this.bodyLeft;switch(t){case 1:o+=this.anchorRect.width/2;break;case 2:o+=this.anchorRect.width}switch(n){case 1:o-=r.clientWidth/2;break;case 2:o-=r.clientWidth}return o}},{key:"getNextDialogYPosition",value:function(e){var t=e.ay,n=e.dy,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.top+this.bodyTop;switch(t){case 1:o+=this.anchorRect.height/2;break;case 2:o+=this.anchorRect.height}switch(n){case 1:o-=r.clientHeight/2;break;case 2:o-=r.clientHeight}return o}},{key:"isPositionValid",value:function(e,t,n){var r=e.name,o=e.ax,i=e.ay,a=(e.dx,e.dy,r[0]);return"N"===a||"S"===a?!("N"===a&&this.anchorRect.top-t<0)&&(!("S"===a&&this.anchorRect.bottom+t>window.innerHeight)&&(0===o?!(this.anchorRect.left+n>window.innerWidth||this.anchorRect.left<0):1===o?!(this.anchorRect.left-n/2<0||this.anchorRect.left+n/2>window.innerWidth):!(this.anchorRect.left-n<0||this.anchorRect.right>window.innerWidth))):"W"!==a&&"E"!==a||!("W"===a&&this.anchorRect.left-n<0)&&(!("E"===a&&this.anchorRect.right+n>window.innerWidth)&&(0===i?!(this.anchorRect.top+t>window.innerHeight||this.anchorRect.top<0):1===i?!(this.anchorRect.top+this.anchorRect.height/2-t/2<0||this.anchorRect.top+this.anchorRect.height/2+t/2>window.innerHeight):!(this.anchorRect.top-t<0||this.anchorRect.bottom>window.innerHeight)))}},{key:"getValidAlignmentPreset",value:function(){var e=this,t=this.dialog.$wrapper.clientWidth,n=this.dialog.$wrapper.clientHeight,r=N.filter(function(r){return e.isPositionValid(r,n,t)});if(-1!==r.indexOf(this.props.preset)||!this.props.autoReposition||!r.length)return this.props.preset;var o=r.filter(function(t){return t.name[0]===e.props.preset.name[0]});if(o.length)return o[0];var i=a(this.props.preset.name),c=r.filter(function(e){return e.name[0]===i});return c.length?c[0]:r[0]}},{key:"componentDidMount",value:function(){this.align(),window.addEventListener("resize",this.align,!0)}},{key:"componentDidUpdate",value:function(){this.align()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.align,!0)}},{key:"render",value:function(){var e=this,r=this.props;return n.i(p.createElement)(g.a,r.portalProps,n.i(p.createElement)(f.a,b({},x()(r,t.internalKeys),{ref:function(t){return e.dialog=t},before:n.i(p.cloneElement)(r.caretComponent,{ref:function(t){return e.$caret=t},className:u()("b-popover-caret",r.caretComponent.props.className)}),className:u()("b-popover",r.className)})))}}],[{key:"getAlignmentClassFragment",value:function(e){switch(e){case 0:return"start";case 1:return"middle";case 2:return"end"}}}]),t}(p.PureComponent);P.preset=N.reduce(function(e,t){return e[t.name]=t,e},{}),P.propTypes=b({},f.a.propTypes,{anchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]).isRequired,autoReposition:s.a.bool,matchAnchorWidth:s.a.bool,caretAnchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]),caretComponent:s.a.element,portalProps:s.a.shape(g.a.PropTypes),preset:s.a.oneOf([P.preset.NNW,P.preset.N,P.preset.NNE,P.preset.ENE,P.preset.E,P.preset.ESE,P.preset.SSE,P.preset.S,P.preset.SSW,P.preset.WSW,P.preset.W,P.preset.WNW])}),P.defaultProps=b({},f.a.defaultProps,{anchor:void 0,autoReposition:!0,matchAnchorWidth:!1,captureFocus:!1,caretAnchor:void 0,caretComponent:O,closeOnEscKey:!0,closeOnOutsideClick:!0,closeOnOutsideScroll:!0,portalProps:{},preset:P.preset.S}),P.internalKeys=function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}(Object.keys(P.defaultProps),f.a.internalKeys),t.default=P}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGNiMjM2MWEwNWRjOTMzODg1YWQxIiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtZGlhbG9nXCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1wb3J0YWxcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImNsYXNzbmFtZXNcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3RcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCJ9Iiwid2VicGFjazovLy8uL34vZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvaW5kZXguanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJ2YWx1ZSIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJyZXF1aXJlIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJmb3JtYXQiLCJhIiwiYiIsImUiLCJmIiwidmFsaWRhdGVGb3JtYXQiLCJlcnJvciIsInVuZGVmaW5lZCIsIkVycm9yIiwiYXJncyIsImFyZ0luZGV4IiwicmVwbGFjZSIsImZyYW1lc1RvUG9wIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwicHJvcHMiLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJpc1JlcXVpcmVkIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsImJvb2wiLCJmdW5jIiwibnVtYmVyIiwic3RyaW5nIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJpbnN0YW5jZU9mIiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0T3Bwb3NpdGVDYXJkaW5hbCIsImRpcmVjdGlvbiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfX19kZWZhdWx0IiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNMQVNTX1JFTU9WQUxfUkVHRVgiLCJERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCIsInZpZXdCb3giLCJ4bWxucyIsImNsYXNzTmFtZSIsImZpbGwiLCJwb2ludHMiLCJjb21iaW5hdGlvbnMiLCJheCIsImF5IiwiZHgiLCJkeSIsIlBvcG92ZXIiLCJfUHVyZUNvbXBvbmVudCIsIl9yZWYiLCJfdGVtcCIsIl90aGlzIiwiX3JldCIsIl9sZW4iLCJBcnJheSIsIl9rZXkiLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiY29uY2F0IiwiYWxpZ24iLCJhbmNob3IiLCJjYXJldEFuY2hvciIsImNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeSIsIm1hdGNoQW5jaG9yV2lkdGgiLCJwcmVzZXQiLCJnZXRWYWxpZEFsaWdubWVudFByZXNldCIsImZyYWciLCJnZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50IiwiZGlhbG9nIiwiJHdyYXBwZXIiLCJNYXRoIiwicm91bmQiLCJnZXROZXh0RGlhbG9nWFBvc2l0aW9uIiwiZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbiIsInBwIiwicG9ydGFsUHJvcHMiLCJ0cmFuc2Zvcm1QYXJlbnQiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNhcmRpbmFsIiwibG9uZ2l0dWRpbmFsIiwiJGNhcmV0IiwiZ2V0TmV4dENhcmV0WFBvc2l0aW9uIiwiJGRpYWxvZyIsIndpZHRoIiwiYW5jaG9yUmVjdCIsImJvZHlSZWN0IiwiZG9jdW1lbnQiLCJib2R5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2FyZXRBbmNob3JSZWN0IiwiYm9keUxlZnQiLCJsZWZ0IiwiYm9keVRvcCIsInRvcCIsIl9yZWYyIiwiY2FyZXQiLCJuZXh0WCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiX3JlZjMiLCJfcmVmNCIsIm5leHRZIiwiX3JlZjUiLCJwSGVpZ2h0IiwicFdpZHRoIiwiYm90dG9tIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwicmlnaHQiLCJfdGhpczIiLCJ2YWxpZENvbWJvcyIsImZpbHRlciIsImNvbmZpZyIsImlzUG9zaXRpb25WYWxpZCIsImluZGV4T2YiLCJhdXRvUmVwb3NpdGlvbiIsImJlc3RDb21ib3MiLCJfcmVmNiIsIm9wcG9zaXRlQ2FyZGluYWwiLCJva2F5Q29tYm9zIiwiX3JlZjciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMyIsImludGVybmFsS2V5cyIsInJlZiIsImJlZm9yZSIsImNhcmV0Q29tcG9uZW50IiwiY29uc3RhbnQiLCJyZWR1Y2UiLCJtYXAiLCJkZWYiLCJwcm9wVHlwZXMiLCJIVE1MRWxlbWVudCIsIk5OVyIsIk4iLCJOTkUiLCJFTkUiLCJFIiwiRVNFIiwiU1NFIiwiUyIsIlNTVyIsIldTVyIsIlciLCJXTlciLCJkZWZhdWx0UHJvcHMiLCJjYXB0dXJlRm9jdXMiLCJjbG9zZU9uRXNjS2V5IiwiY2xvc2VPbk91dHNpZGVDbGljayIsImNsb3NlT25PdXRzaWRlU2Nyb2xsIiwiYXJyMSIsImFycjIiLCJpdGVtIiwia2V5cyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFFBQ0UsU0FBVUMsR0NHbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFILE9BR0EsSUFBQUQsR0FBQUssRUFBQUQsSUFDQUUsRUFBQUYsRUFDQUcsR0FBQSxFQUNBTixXQVVBLE9BTkFDLEdBQUFFLEdBQUFJLEtBQUFSLEVBQUFDLFFBQUFELElBQUFDLFFBQUFFLEdBR0FILEVBQUFPLEdBQUEsRUFHQVAsRUFBQUMsUUF2QkEsR0FBQUksS0ErREEsT0FuQ0FGLEdBQUFNLEVBQUFQLEVBR0FDLEVBQUFPLEVBQUFMLEVBR0FGLEVBQUFHLEVBQUEsU0FBQUssR0FBMkMsTUFBQUEsSUFHM0NSLEVBQUFTLEVBQUEsU0FBQVgsRUFBQVksRUFBQUMsR0FDQVgsRUFBQVksRUFBQWQsRUFBQVksSUFDQUcsT0FBQUMsZUFBQWhCLEVBQUFZLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWCxFQUFBa0IsRUFBQSxTQUFBckIsR0FDQSxHQUFBYyxHQUFBZCxLQUFBc0IsV0FDQSxXQUEyQixNQUFBdEIsR0FBQSxTQUMzQixXQUFpQyxNQUFBQSxHQUVqQyxPQURBRyxHQUFBUyxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFYLEVBQUFZLEVBQUEsU0FBQVEsRUFBQUMsR0FBc0QsTUFBQVIsUUFBQVMsVUFBQUMsZUFBQWxCLEtBQUFlLEVBQUFDLElBR3REckIsRUFBQXdCLEVBQUEsR0FHQXhCLElBQUF5QixFQUFBLE1ET00sU0FBVTVCLEVBQVFDLEVBQVNFLEdBRUwsa0JBQVQwQixTQUE0QkEsT0FBT0MsUUUvQ3BEOUIsR0FBT0MsUUFBVUUsRUFBUSxPRm1EckIsU0FBVUgsRUFBUUMsR0c3RXhCRCxFQUFBQyxRQUFBOEIsUUFBQSxxQkhtRk0sU0FBVS9CLEVBQVFDLEdJbkZ4QkQsRUFBQUMsUUFBQThCLFFBQUEscUJKeUZNLFNBQVUvQixFQUFRQyxHS3pGeEJELEVBQUFDLFFBQUE4QixRQUFBLDhCTCtGTSxTQUFVL0IsRUFBUUMsR00vRnhCRCxFQUFBQyxRQUFBOEIsUUFBQSx1Q05xR00sU0FBVS9CLEVBQVFDLEdPckd4QkQsRUFBQUMsUUFBQThCLFFBQUEsZVAyR00sU0FBVS9CLEVBQVFDLEdRM0d4QkQsRUFBQUMsUUFBQThCLFFBQUEsVVJpSE0sU0FBVS9CLEVBQVFDLEdTakh4QkQsRUFBQUMsUUFBQThCLFFBQUEsY1R1SE0sU0FBVS9CLEVBQVFDLEVBQVNFLEdBRWpDLFlVOUdBLFNBQVM2QixHQUFrQkMsR0FDekIsTUFBTyxZQUNMLE1BQU9BLElBU1gsR0FBSUMsR0FBZ0IsWUFFcEJBLEdBQWNDLFlBQWNILEVBQzVCRSxFQUFjRSxpQkFBbUJKLEdBQWtCLEdBQ25ERSxFQUFjRyxnQkFBa0JMLEdBQWtCLEdBQ2xERSxFQUFjSSxnQkFBa0JOLEVBQWtCLE1BQ2xERSxFQUFjSyxnQkFBa0IsV0FDOUIsTUFBT0MsT0FFVE4sRUFBY08sb0JBQXNCLFNBQVVSLEdBQzVDLE1BQU9BLElBR1RqQyxFQUFPQyxRQUFVaUMsR1YyRlgsU0FBVWxDLEVBQVFDLEVBQVNFLEdBRWpDLFlXakdBLFNBQVN1QyxHQUFVQyxFQUFXQyxFQUFRQyxFQUFHQyxFQUFHcEMsRUFBR0UsRUFBR21DLEVBQUdDLEdBR25ELEdBRkFDLEVBQWVMLElBRVZELEVBQVcsQ0FDZCxHQUFJTyxFQUNKLFFBQWVDLEtBQVhQLEVBQ0ZNLEVBQVEsR0FBSUUsT0FBTSxxSUFDYixDQUNMLEdBQUlDLElBQVFSLEVBQUdDLEVBQUdwQyxFQUFHRSxFQUFHbUMsRUFBR0MsR0FDdkJNLEVBQVcsQ0FDZkosR0FBUSxHQUFJRSxPQUFNUixFQUFPVyxRQUFRLE1BQU8sV0FDdEMsTUFBT0YsR0FBS0MsUUFFZEosRUFBTXJDLEtBQU8sc0JBSWYsS0FEQXFDLEdBQU1NLFlBQWMsRUFDZE4sR0EzQlYsR0FBSUQsR0FBaUIsU0FBd0JMLElBK0I3QzVDLEdBQU9DLFFBQVV5QyxHWGlGWCxTQUFVMUMsRUFBUUMsRUFBU0UsR0FFakMsWVk5SEEsSUFBSStCLEdBQWdCL0IsRUFBUSxHQUN4QnVDLEVBQVl2QyxFQUFRLEdBQ3BCc0QsRUFBdUJ0RCxFQUFRLEdBRW5DSCxHQUFPQyxRQUFVLFdBQ2YsUUFBU3lELEdBQUtDLEVBQU9DLEVBQVVDLEVBQWVDLEVBQVVDLEVBQWNDLEdBQ2hFQSxJQUFXUCxHQUlmZixHQUNFLEVBQ0EsbUxBTUosUUFBU3VCLEtBQ1AsTUFBT1AsR0FGVEEsRUFBS1EsV0FBYVIsQ0FNbEIsSUFBSVMsSUFDRkMsTUFBT1YsRUFDUFcsS0FBTVgsRUFDTlksS0FBTVosRUFDTmEsT0FBUWIsRUFDUm5DLE9BQVFtQyxFQUNSYyxPQUFRZCxFQUNSZSxPQUFRZixFQUVSZ0IsSUFBS2hCLEVBQ0xpQixRQUFTVixFQUNUVyxRQUFTbEIsRUFDVG1CLFdBQVlaLEVBQ1phLEtBQU1wQixFQUNOcUIsU0FBVWQsRUFDVmUsTUFBT2YsRUFDUGdCLFVBQVdoQixFQUNYaUIsTUFBT2pCLEVBQ1BrQixNQUFPbEIsRUFNVCxPQUhBRSxHQUFlaUIsZUFBaUJsRCxFQUNoQ2lDLEVBQWVrQixVQUFZbEIsRUFFcEJBLElab0ZILFNBQVVuRSxFQUFRQyxFQUFTRSxHQUVqQyxZYW5JQUgsR0FBT0MsUUFGb0IsZ0RiMElyQixTQUFVRCxFQUFRc0YsRUFBcUJuRixHQUU3QyxZQWtCOHRCLFNBQVNvRixHQUFnQkMsRUFBU0MsR0FBYSxLQUFLRCxZQUFvQkMsSUFBYyxLQUFNLElBQUlDLFdBQVUscUNBQXVDLFFBQVNDLEdBQTJCQyxFQUFLcEYsR0FBTSxJQUFJb0YsRUFBTSxLQUFNLElBQUlDLGdCQUFlLDREQUE4RCxRQUFPckYsR0FBcUIsZ0JBQVBBLElBQStCLGtCQUFQQSxHQUF3Qm9GLEVBQUxwRixFQUFXLFFBQVNzRixHQUFVQyxFQUFTQyxHQUFZLEdBQXVCLGtCQUFiQSxJQUFzQyxPQUFiQSxFQUFtQixLQUFNLElBQUlOLFdBQVUsaUVBQWtFTSxHQUFhRCxHQUFTdEUsVUFBVVQsT0FBT2lGLE9BQU9ELEdBQVlBLEVBQVd2RSxXQUFXeUUsYUFBYXZGLE1BQU1vRixFQUFTNUUsWUFBVyxFQUFNZ0YsVUFBUyxFQUFLakYsY0FBYSxLQUFXOEUsSUFBV2hGLE9BQU9vRixlQUFlcEYsT0FBT29GLGVBQWVMLEVBQVNDLEdBQVlELEVBQVNNLFVBQVVMLEdjN0poZ0QsUUFBU00sR0FBb0JDLEdBQ3pCLE9BQVFBLEVBQVUsSUFDZCxJQUFLLElBQ0QsTUFBTyxHQUNYLEtBQUssSUFDRCxNQUFPLEdBQ1gsS0FBSyxJQUNELE1BQU8sSUFHZixNQUFPLElka0lYdkYsT0FBT0MsZUFBZXFFLEVBQXFCLGNBQWdCM0UsT0FBTyxHQUM3QyxJQUFJNkYsR0FBMkNyRyxFQUFvQixHQUMvRHNHLEVBQW1EdEcsRUFBb0JrQixFQUFFbUYsR0FDekVFLEVBQXNDdkcsRUFBb0IsR0FFMUR3RyxHQUQ4Q3hHLEVBQW9Ca0IsRUFBRXFGLEdBQzFCdkcsRUFBb0IsSUFFOUR5RyxHQURrRHpHLEVBQW9Ca0IsRUFBRXNGLEdBQzdCeEcsRUFBb0IsSUFDL0QwRyxFQUFtRDFHLEVBQW9Ca0IsRUFBRXVGLEdBQ3pFRSxFQUFpRDNHLEVBQW9CLEdBQ3JFNEcsRUFBeUQ1RyxFQUFvQmtCLEVBQUV5RixHQUMvRUUsRUFBaUQ3RyxFQUFvQixHQUNyRThHLEVBQXlEOUcsRUFBb0JrQixFQUFFMkYsR0FDL0VFLEVBQTBEL0csRUFBb0IsR0FDOUVnSCxFQUFrRWhILEVBQW9Ca0IsRUFBRTZGLEdBQ3hGRSxFQUFtRWpILEVBQW9CLEdBQ3ZGa0gsRUFBMkVsSCxFQUFvQmtCLEVBQUUrRixHQUN0SEUsRUFBU3RHLE9BQU91RyxRQUFRLFNBQVNDLEdBQVEsSUFBSSxHQUFJbEgsR0FBRSxFQUFFQSxFQUFFbUgsVUFBVUMsT0FBT3BILElBQUksQ0FBQyxHQUFJcUgsR0FBT0YsVUFBVW5ILEVBQUcsS0FBSSxHQUFJc0gsS0FBT0QsR0FBVzNHLE9BQU9TLFVBQVVDLGVBQWVsQixLQUFLbUgsRUFBT0MsS0FBTUosRUFBT0ksR0FBS0QsRUFBT0MsSUFBUSxNQUFPSixJQUFhSyxFQUFhLFdBQVcsUUFBU0MsR0FBaUJOLEVBQU83RCxHQUFPLElBQUksR0FBSXJELEdBQUUsRUFBRUEsRUFBRXFELEVBQU0rRCxPQUFPcEgsSUFBSSxDQUFDLEdBQUl5SCxHQUFXcEUsRUFBTXJELEVBQUd5SCxHQUFXNUcsV0FBVzRHLEVBQVc1RyxhQUFZLEVBQU00RyxFQUFXN0csY0FBYSxFQUFRLFNBQVU2RyxLQUFXQSxFQUFXNUIsVUFBUyxHQUFLbkYsT0FBT0MsZUFBZXVHLEVBQU9PLEVBQVdILElBQUlHLElBQWMsTUFBTyxVQUFTdEMsRUFBWXVDLEVBQVdDLEdBQXVJLE1BQXZIRCxJQUFXRixFQUFpQnJDLEVBQVloRSxVQUFVdUcsR0FBZUMsR0FBWUgsRUFBaUJyQyxFQUFZd0MsR0FBb0J4QyxNYzlJdHNCeUMsRUFBc0IsaURBRXRCQyxFQUNGaEksRUFBQUcsRUFBQW9HLEVBQUEsc0JBQUswQixRQUFRLGFBQWFDLE1BQU0sOEJBQzVCbEksRUFBQUcsRUFBQW9HLEVBQUEsd0JBQ0l2RyxFQUFBRyxFQUFBb0csRUFBQSwwQkFBUzRCLFVBQVUseUJBQXlCQyxLQUFLLE9BQU9DLE9BQU8sbUJBQy9EckksRUFBQUcsRUFBQW9HLEVBQUEsMEJBQVM0QixVQUFVLHVCQUF1QkMsS0FBSyxPQUFPQyxPQUFPLHVDQVNuRUMsSUFDQTVILEtBQU0sTUFBTzZILEdBTEwsRUFLZ0JDLEdBTGhCLEVBSzJCQyxHQUwzQixFQUtzQ0MsR0FIeEMsSUFJTmhJLEtBQU0sSUFBSzZILEdBTEYsRUFLY0MsR0FOZixFQU0wQkMsR0FMekIsRUFLcUNDLEdBSnhDLElBS05oSSxLQUFNLE1BQU82SCxHQUxQLEVBS2dCQyxHQVBkLEVBT3lCQyxHQUwzQixFQUtvQ0MsR0FMcEMsSUFNTmhJLEtBQU0sTUFBTzZILEdBTlAsRUFNZ0JDLEdBUmQsRUFReUJDLEdBUnpCLEVBUW9DQyxHQVJwQyxJQVNSaEksS0FBTSxJQUFLNkgsR0FQTCxFQU9jQyxHQVJYLEVBUXVCQyxHQVR4QixFQVNtQ0MsR0FSbEMsSUFTVGhJLEtBQU0sTUFBTzZILEdBUlAsRUFRZ0JDLEdBUmhCLEVBUXlCQyxHQVZ2QixFQVVrQ0MsR0FScEMsSUFTTmhJLEtBQU0sTUFBTzZILEdBVFAsRUFTZ0JDLEdBVGhCLEVBU3lCQyxHQVR6QixFQVNrQ0MsR0FYaEMsSUFZUmhJLEtBQU0sSUFBSzZILEdBWEYsRUFXY0MsR0FWakIsRUFVMEJDLEdBWHZCLEVBV21DQyxHQVpwQyxJQWFSaEksS0FBTSxNQUFPNkgsR0FiTCxFQWFnQkMsR0FYbEIsRUFXMkJDLEdBYnpCLEVBYW9DQyxHQWJwQyxJQWNSaEksS0FBTSxNQUFPNkgsR0FkTCxFQWNnQkMsR0FabEIsRUFZMkJDLEdBWjNCLEVBWW9DQyxHQVpwQyxJQWFOaEksS0FBTSxJQUFLNkgsR0FmSCxFQWVjQyxHQWRiLEVBY3lCQyxHQWI1QixFQWFxQ0MsR0FkbEMsSUFlVGhJLEtBQU0sTUFBTzZILEdBaEJMLEVBZ0JnQkMsR0FoQmhCLEVBZ0IyQkMsR0FkN0IsRUFjc0NDLEdBaEJwQyxJQTRDT0MsRWR1RnE5RixTQUFTQyxHQUFrRCxRQUFTRCxLQUFVLEdBQUlFLEdBQVNDLEVBQU1DLEVBQU1DLENBQUs1RCxHQUFnQi9DLEtBQUtzRyxFQUFTLEtBQUksR0FBSU0sR0FBSzNCLFVBQVVDLE9BQU9yRSxFQUFLZ0csTUFBTUQsR0FBTUUsRUFBSyxFQUFFQSxFQUFLRixFQUFLRSxJQUFRakcsRUFBS2lHLEdBQU03QixVQUFVNkIsRUFBTyxPQUFhTCxHQUFPQyxFQUFNdkQsRUFBMkJuRCxNQUFNd0csRUFBS0YsRUFBUXpDLFdBQVdyRixPQUFPdUksZUFBZVQsSUFBVXRJLEtBQUtnSixNQUFNUixHQUFNeEcsTUFBTWlILE9BQU9wRyxLQUFlNkYsRWNnTnAzR1EsTUFBUSxXQUNKLEdBQU1DLEdBQVN4SixFQUFBRyxFQUFBcUcsRUFBQSxhQUFZdUMsRUFBS3ZGLE1BQU1nRyxRQUVoQ0MsRUFBY1YsRUFBS3ZGLE1BQU1pRyxZQUN6QnpKLEVBQUFHLEVBQUFxRyxFQUFBLGFBQVl1QyxFQUFLdkYsTUFBTWlHLGFBQ3ZCRCxDQUVOVCxHQUFLVyx5QkFBeUJGLEVBQVFDLEdBRWxDVixFQUFLdkYsTUFBTW1HLGtCQUFvQlosRUFBS1ksa0JBRXhDLElBQU1DLEdBQVNiLEVBQUtjLDBCQUNkQyxFQUFPbkIsRUFBUW9CLHlCQUVyQmhCLEdBQUtpQixPQUFPQyxTQUFTOUIsVUFBWVksRUFBS2lCLE9BQU9DLFNBQVM5QixVQUFVL0UsUUFBUTJFLEVBQXFCLElBQTVELHVCQUNKK0IsRUFBS0YsRUFBT3JCLElBRFIsdUJBRUp1QixFQUFLRixFQUFPcEIsSUFGUixxQkFHTnNCLEVBQUtGLEVBQU9uQixJQUhOLHFCQUlOcUIsRUFBS0YsRUFBT2xCLEdBRXZDLElBQU1ELEdBQUt5QixLQUFLQyxNQUFNcEIsRUFBS3FCLHVCQUF1QlIsSUFDNUNsQixFQUFLd0IsS0FBS0MsTUFBTXBCLEVBQUtzQix1QkFBdUJULElBQzVDVSxFQUFLdkIsRUFBS3ZGLE1BQU0rRyxXQUN0QnhCLEdBQUt5QixnQkFBa0JGLEdBQU1BLEVBQUdHLFFBQVVILEVBQUdHLE1BQU1DLFdBQWEsSUFDaEUzQixFQUFLaUIsT0FBT0MsU0FBU1EsTUFBTSxvQkFBeUJoQyxFQUFwRCxPQUE2REMsRUFBN0QsS0FDQUssRUFBS2lCLE9BQU9DLFNBQVNRLE1BQU12RCxFQUFBeEUsR0FBb0JxRyxFQUFLeUIsZ0JBQXBELGNBQWlGL0IsRUFBakYsT0FBMEZDLEVBQTFGLEtBRUEsSUFBTWlDLEdBQVdmLEVBQU9sSixLQUFLLEdBQ3ZCa0ssRUFBNEIsTUFBYkQsR0FBaUMsTUFBYkEsQ0FNekM1QixHQUFLOEIsT0FBT0osTUFBTUcsRUFBZSxPQUFTLE9BQVNWLEtBQUtDLE1BQU1wQixFQUFLK0Isc0JBQXNCbEIsSUFBVyxLQUNwR2IsRUFBSzhCLE9BQU9KLE1BQU1HLEVBQWUsTUFBUSxRQUFVLE9kblA2cUo3QixFY3NQcHVKWSxpQkFBbUIsV0FDQVosRUFBS2lCLE9BQU9lLFFBQ3BCTixNQUFNTyxNQUFXakMsRUFBS2tDLFdBQVdELE1BQXhDLE1keFB1dEdoQyxFQUE0bkRGLEVBQU90RCxFQUEyQnVELEVBQU1DLEdBQW0ySyxNQUFudU9yRCxHQUFVZ0QsRUFBUUMsR0FBcTNEbEIsRUFBYWlCLElBQVVsQixJQUFJLDJCQUEyQmpILE1BQU0sU2NlejZKZ0osRUFBUUMsR0FDN0IsR0FBTXlCLEdBQVdDLFNBQVNDLEtBQUtDLHVCQUUvQmhKLE1BQUs0SSxXQUFhekIsRUFBTzZCLHdCQUN6QmhKLEtBQUtpSixnQkFBa0I3QixFQUFZNEIsd0JBS25DaEosS0FBS2tKLFVBQTRCLEVBQWpCTCxFQUFTTSxLQUN6Qm5KLEtBQUtvSixTQUEwQixFQUFoQlAsRUFBU1EsT2R6QnVyS2pFLElBQUksd0JBQXdCakgsTUFBTSxTQUErQm1MLEdjNEIvc0ssR0FBN0NqTCxHQUE2Q2lMLEVBQTdDakwsS0FBVStILEdBQW1Da0QsRUFBdkNwRCxHQUF1Q29ELEVBQW5DbEQsSUFBUUMsR0FBMkJpRCxFQUEvQm5ELEdBQStCbUQsRUFBM0JqRCxJQUFNa0QsRUFBcUJ0RSxVQUFBQyxPQUFBLE9BQUF2RSxLQUFBc0UsVUFBQSxHQUFBQSxVQUFBLEdBQWJqRixLQUFLd0ksT0FDckRnQixFQUFRLENBd0JaLE9BdEJnQixNQUFabkwsRUFBSyxJQUEwQixNQUFaQSxFQUFLLElBRXhCbUwsRUFBUXhKLEtBQUtpSixnQkFBZ0JFLEtBQU9uSixLQUFLNEksV0FBV08sS0FBT25KLEtBQUtpSixnQkFBZ0JOLE1BQVEsRUFuS3JGLElBcUtDdkMsRUFDQW9ELElBQVV4SixLQUFLMkgsT0FBT0MsU0FBUzZCLFlBQWN6SixLQUFLNEksV0FBV0QsT0FBUyxFQXJLMUUsSUFzS1d2QyxJQUNQb0QsR0FBU3hKLEtBQUsySCxPQUFPQyxTQUFTNkIsWUFBY3pKLEtBQUs0SSxXQUFXRCxTQUloRWEsRUFBUXhKLEtBQUtpSixnQkFBZ0JJLElBQU1ySixLQUFLNEksV0FBV1MsSUFBTXJKLEtBQUtpSixnQkFBZ0JTLE9BQVMsRUE1S3BGLElBOEtDckQsRUFDQW1ELElBQVV4SixLQUFLMkgsT0FBT0MsU0FBUytCLGFBQWUzSixLQUFLNEksV0FBV2MsUUFBVSxFQTlLNUUsSUErS1dyRCxJQUNQbUQsR0FBU3hKLEtBQUsySCxPQUFPQyxTQUFTK0IsYUFBZTNKLEtBQUs0SSxXQUFXYyxTQUlyRUYsR0FBU0QsRUFBTUUsWUFBYyxLZG5ENjlMckUsSUFBSSx5QkFBeUJqSCxNQUFNLFNBQWdDeUwsR2N3RC8vTCxHQUF6QzFELEdBQXlDMEQsRUFBekMxRCxHQUFJRSxFQUFxQ3dELEVBQXJDeEQsR0FBTXVCLEVBQStCMUMsVUFBQUMsT0FBQSxPQUFBdkUsS0FBQXNFLFVBQUEsR0FBQUEsVUFBQSxHQUF0QmpGLEtBQUsySCxPQUFPQyxTQUNoRDRCLEVBQVF4SixLQUFLNEksV0FBV08sS0FBT25KLEtBQUtrSixRQUV4QyxRQUFRaEQsR0FDSixJQTlMRyxHQStMQ3NELEdBQVN4SixLQUFLNEksV0FBV0QsTUFBUSxDQUNqQyxNQUVKLEtBak1BLEdBa01JYSxHQUFTeEosS0FBSzRJLFdBQVdELE1BSWpDLE9BQVF2QyxHQUNKLElBeE1HLEdBeU1Db0QsR0FBUzdCLEVBQU84QixZQUFjLENBQzlCLE1BRUosS0EzTUEsR0E0TUlELEdBQVM3QixFQUFPOEIsWUFJeEIsTUFBT0QsTWQvRTY3TXBFLElBQUkseUJBQXlCakgsTUFBTSxTQUFnQzBMLEdja0Z6OE0sR0FBekMxRCxHQUF5QzBELEVBQXpDMUQsR0FBSUUsRUFBcUN3RCxFQUFyQ3hELEdBQU1zQixFQUErQjFDLFVBQUFDLE9BQUEsT0FBQXZFLEtBQUFzRSxVQUFBLEdBQUFBLFVBQUEsR0FBdEJqRixLQUFLMkgsT0FBT0MsU0FDaERrQyxFQUFROUosS0FBSzRJLFdBQVdTLElBQU1ySixLQUFLb0osT0FFdkMsUUFBUWpELEdBQ0osSUF4TkcsR0F5TkMyRCxHQUFTOUosS0FBSzRJLFdBQVdjLE9BQVMsQ0FDbEMsTUFFSixLQTNOQSxHQTROSUksR0FBUzlKLEtBQUs0SSxXQUFXYyxPQUlqQyxPQUFRckQsR0FDSixJQWxPRyxHQW1PQ3lELEdBQVNuQyxFQUFPZ0MsYUFBZSxDQUMvQixNQUVKLEtBck9BLEdBc09JRyxHQUFTbkMsRUFBT2dDLGFBSXhCLE1BQU9HLE1kekd5NE4xRSxJQUFJLGtCQUFrQmpILE1BQU0sU0FBeUI0TCxFY3lILzVOQyxFQUFTQyxHQUFRLEdBQXpDNUwsR0FBeUMwTCxFQUF6QzFMLEtBQU02SCxFQUFtQzZELEVBQW5DN0QsR0FBSUMsRUFBK0I0RCxFQUEvQjVELEdBQ2xCbUMsR0FEaUR5QixFQUEzQjNELEdBQTJCMkQsRUFBdkIxRCxHQUNmaEksRUFBSyxHQUV0QixPQUFpQixNQUFiaUssR0FBaUMsTUFBYkEsSUFDSCxNQUFiQSxHQUFvQnRJLEtBQUs0SSxXQUFXUyxJQUFNVyxFQUFVLE9BRWhDLE1BQWIxQixHQUFvQnRJLEtBQUs0SSxXQUFXc0IsT0FBU0YsRUFBVUcsT0FBT0MsZUFsUXZFLElBc1FFbEUsSUFFS2xHLEtBQUs0SSxXQUFXTyxLQUFPYyxFQUFTRSxPQUFPRSxZQUE2Q3JLLEtBQUs0SSxXQUFXTyxLQUFPLEdBdlFqSCxJQXlRUWpELElBRUZsRyxLQUFLNEksV0FBV08sS0FBT2MsRUFBUyxFQUFJLEdBQStDakssS0FBSzRJLFdBQVdPLEtBQU9jLEVBQVMsRUFBSUUsT0FBT0UsY0FLbElySyxLQUFLNEksV0FBV08sS0FBT2MsRUFBUyxHQUErQ2pLLEtBQUs0SSxXQUFXMEIsTUFBUUgsT0FBT0UsY0FHL0YsTUFBYi9CLEdBQWlDLE1BQWJBLEtBQ1YsTUFBYkEsR0FBb0J0SSxLQUFLNEksV0FBV08sS0FBT2MsRUFBUyxPQUVoQyxNQUFiM0IsR0FBb0J0SSxLQUFLNEksV0FBVzBCLE1BQVFMLEVBQVNFLE9BQU9FLGNBdlJyRSxJQTJSRWxFLElBRUtuRyxLQUFLNEksV0FBV1MsSUFBTVcsRUFBVUcsT0FBT0MsYUFBNENwSyxLQUFLNEksV0FBV1MsSUFBTSxHQTVSL0csSUE4UlFsRCxJQUVGbkcsS0FBSzRJLFdBQVdTLElBQU1ySixLQUFLNEksV0FBV2MsT0FBUyxFQUFJTSxFQUFVLEVBQUksR0FBbURoSyxLQUFLNEksV0FBV1MsSUFBTXJKLEtBQUs0SSxXQUFXYyxPQUFTLEVBQUlNLEVBQVUsRUFBSUcsT0FBT0MsZUFLaE1wSyxLQUFLNEksV0FBV1MsSUFBTVcsRUFBVSxHQUE0Q2hLLEtBQUs0SSxXQUFXc0IsT0FBU0MsT0FBT0Msa0Jkbks4N1BoRixJQUFJLDBCQUEwQmpILE1BQU0sV2MwS2prUSxHQUFBb00sR0FBQXZLLEtBQ2hCMkksRUFBUTNJLEtBQUsySCxPQUFPQyxTQUFTNkIsWUFDN0JDLEVBQVMxSixLQUFLMkgsT0FBT0MsU0FBUytCLGFBSTlCYSxFQUFjdkUsRUFBYXdFLE9BQU8sU0FBQ0MsR0FDckMsTUFBT0gsR0FBS0ksZ0JBQWdCRCxFQUFRaEIsRUFBUWYsSUFNaEQsS0FBZ0QsSUFBNUM2QixFQUFZSSxRQUFRNUssS0FBS21CLE1BQU1vRyxVQUFtQnZILEtBQUttQixNQUFNMEosaUJBQW1CTCxFQUFZdEYsT0FDNUYsTUFBT2xGLE1BQUttQixNQUFNb0csTUFNdEIsSUFBTXVELEdBQWFOLEVBQVlDLE9BQU8sU0FBQU0sR0FBQSxNQUFBQSxHQUFHMU0sS0FBZ0IsS0FBT2tNLEVBQUtwSixNQUFNb0csT0FBT2xKLEtBQUssSUFFdkYsSUFBSXlNLEVBQVc1RixPQUNYLE1BQU80RixHQUFXLEVBSXRCLElBQU1FLEdBQW1CbEgsRUFBb0I5RCxLQUFLbUIsTUFBTW9HLE9BQU9sSixNQUN6RDRNLEVBQWFULEVBQVlDLE9BQU8sU0FBQVMsR0FBQSxNQUFBQSxHQUFHN00sS0FBZ0IsS0FBTzJNLEdBRWhFLE9BQUlDLEdBQVcvRixPQUNKK0YsRUFBVyxHQUlmVCxFQUFZLE1kN015MFJwRixJQUFJLG9CQUFvQmpILE1BQU0sV2M0UDEzUjZCLEtBQUtrSCxRQUNMaUQsT0FBT2dCLGlCQUFpQixTQUFVbkwsS0FBS2tILE9BQU8sTWQ3UDQ2UjlCLElBQUkscUJBQXFCakgsTUFBTSxXY2lRei9SNkIsS0FBS2tILFdkalFtaVM5QixJQUFJLHVCQUF1QmpILE1BQU0sV2NvUXBqU2dNLE9BQU9pQixvQkFBb0IsU0FBVXBMLEtBQUtrSCxPQUFPLE1kcFE0bFM5QixJQUFJLFNBQVNqSCxNQUFNLFdjc1FoclMsR0FBQWtOLEdBQUFyTCxLQUNHbUIsRUFBVW5CLEtBQVZtQixLQUVSLE9BQ0l4RCxHQUFBRyxFQUFBb0csRUFBQSxlQUFDTyxFQUFBcEUsRUFBV2MsRUFBTStHLFlBQ2R2SyxFQUFBRyxFQUFBb0csRUFBQSxlQUFDSyxFQUFBbEUsRUFBRHlFLEtBQ1FILElBQUt4RCxFQUFPbUYsRUFBUWdGLGVBQ3hCQyxJQUFLLFNBQUN2SSxHQUFELE1BQWVxSSxHQUFLMUQsT0FBUzNFLEdBQ2xDd0ksT0FDSTdOLEVBQUFHLEVBQUFvRyxFQUFBLGNBQWEvQyxFQUFNc0ssZ0JBQ2ZGLElBQUssU0FBQ2pKLEdBQUQsTUFBVytJLEdBQUs3QyxPQUFTbEcsR0FDOUJ3RCxVQUFXekIsSUFBRyxrQkFBbUJsRCxFQUFNc0ssZUFBZXRLLE1BQU0yRSxhQUdwRUEsVUFBV3pCLElBQUcsWUFBYWxELEVBQU0yRSxvQmRwUjgvVFYsSUFBSSw0QkFBNEJqSCxNQUFNLFNjRXBqVXVOLEdBQzdCLE9BQVFBLEdBQ0osSUF2SUUsR0F3SUUsTUFBTyxPQUVYLEtBeklHLEdBMElDLE1BQU8sUUFFWCxLQTNJQSxHQTRJSSxNQUFPLFdkWHN0VXBGLEdjdkZ4c1VwQyxFQUFBLGNBQWhCb0MsR0FFVmlCLE9BQVN0QixFQUFhMEYsT0FBTyxTQUFDQyxFQUFLQyxHQUFOLE1BQWdCRCxHQUFJQyxFQUFJeE4sTUFBUXdOLEVBQU1ELE9BRnpEdEYsRUFJVndGLFVkbUY0NFVoSCxLY2xGNTRVUCxFQUFBbEUsRUFBT3lMLFdBS1YzRSxPQUFRbEQsRUFBQTVELEVBQVVvQyxXQUNkd0IsRUFBQTVELEVBQVVnQyxXQUFXMEosYUFDckI5SCxFQUFBNUQsRUFBVXFDLE9BQ052QixNQUFPOEMsRUFBQTVELEVBQVV0QixXQUV0QjJDLFdBS0htSixlQUFnQjVHLEVBQUE1RCxFQUFVd0IsS0FLMUJ5RixpQkFBa0JyRCxFQUFBNUQsRUFBVXdCLEtBTzVCdUYsWUFBYW5ELEVBQUE1RCxFQUFVb0MsV0FDbkJ3QixFQUFBNUQsRUFBVWdDLFdBQVcwSixhQUNyQjlILEVBQUE1RCxFQUFVcUMsT0FDTnZCLE1BQU84QyxFQUFBNUQsRUFBVXRCLFdBT3pCME0sZUFBZ0J4SCxFQUFBNUQsRUFBVStCLFFBRTFCOEYsWUFBYWpFLEVBQUE1RCxFQUFVcUMsTUFBTStCLEVBQUFwRSxFQUFPd0MsV0FZcEMwRSxPQUFRdEQsRUFBQTVELEVBQVVtQyxPQUNkOEQsRUFBUWlCLE9BQU95RSxJQUNmMUYsRUFBUWlCLE9BQU8wRSxFQUNmM0YsRUFBUWlCLE9BQU8yRSxJQUNmNUYsRUFBUWlCLE9BQU80RSxJQUNmN0YsRUFBUWlCLE9BQU82RSxFQUNmOUYsRUFBUWlCLE9BQU84RSxJQUNmL0YsRUFBUWlCLE9BQU8rRSxJQUNmaEcsRUFBUWlCLE9BQU9nRixFQUNmakcsRUFBUWlCLE9BQU9pRixJQUNmbEcsRUFBUWlCLE9BQU9rRixJQUNmbkcsRUFBUWlCLE9BQU9tRixFQUNmcEcsRUFBUWlCLE9BQU9vRixRQXBFTnJHLEVBd0VWc0csYWRlaXFYOUgsS2NkanFYUCxFQUFBbEUsRUFBT3VNLGNBQ1Z6RixXQUFReEcsR0FDUmtLLGdCQUFnQixFQUNoQnZELGtCQUFrQixFQUNsQnVGLGNBQWMsRUFDZHpGLGdCQUFhekcsR0FDYjhLLGVBQWdCOUYsRUFDaEJtSCxlQUFlLEVBQ2ZDLHFCQUFxQixFQUNyQkMsc0JBQXNCLEVBQ3RCOUUsZUFDQVgsT0FBUWpCLEVBQVFpQixPQUFPZ0YsSUFwRlZqRyxFQXVGVmdGLGFBaEpYLFNBQWlCMkIsRUFBTUMsR0FBUSxNQUFPRCxHQUFLeEMsT0FBTyxTQUFDMEMsR0FBRCxPQUFrQyxJQUF4QkQsRUFBS3RDLFFBQVF1QyxNQWdKdkMzTyxPQUFPNE8sS0FBSzlHLEVBQVFzRyxjQUFlckksRUFBQWxFLEVBQU9pTCxjZEFpbFl4SSxFQUE2QixRQUFJIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX3R5cGVvZj10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT09XCJzeW1ib2xcIj9mdW5jdGlvbihvYmope3JldHVybiB0eXBlb2Ygb2JqO306ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZ0eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqO307aWYoZmFsc2Upe3ZhciBSRUFDVF9FTEVNRU5UX1RZUEU9dHlwZW9mIFN5bWJvbD09PSdmdW5jdGlvbicmJlN5bWJvbC5mb3ImJlN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKXx8MHhlYWM3O3ZhciBpc1ZhbGlkRWxlbWVudD1mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3Qpe3JldHVybih0eXBlb2Ygb2JqZWN0PT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihvYmplY3QpKT09PSdvYmplY3QnJiZvYmplY3QhPT1udWxsJiZvYmplY3QuJCR0eXBlb2Y9PT1SRUFDVF9FTEVNRU5UX1RZUEU7fTt2YXIgdGhyb3dPbkRpcmVjdEFjY2Vzcz10cnVlO21vZHVsZS5leHBvcnRzPXJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCx0aHJvd09uRGlyZWN0QWNjZXNzKTt9ZWxzZXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSgpO31cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1kaWFsb2dcIik7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtcG9ydGFsXCIpO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wiKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIik7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGFyZzt9O312YXIgZW1wdHlGdW5jdGlvbj1mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCl7fTtlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zPW1ha2VFbXB0eUZ1bmN0aW9uO2VtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZT1tYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU9bWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw9bWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9O2VtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudD1mdW5jdGlvbihhcmcpe3JldHVybiBhcmc7fTttb2R1bGUuZXhwb3J0cz1lbXB0eUZ1bmN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdmFsaWRhdGVGb3JtYXQ9ZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KXt9O2lmKGZhbHNlKXt2YWxpZGF0ZUZvcm1hdD1mdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpe2lmKGZvcm1hdD09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO319O31mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLGZvcm1hdCxhLGIsYyxkLGUsZil7dmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtpZighY29uZGl0aW9uKXt2YXIgZXJyb3I7aWYoZm9ybWF0PT09dW5kZWZpbmVkKXtlcnJvcj1uZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcrJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7fWVsc2V7dmFyIGFyZ3M9W2EsYixjLGQsZSxmXTt2YXIgYXJnSW5kZXg9MDtlcnJvcj1uZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gYXJnc1thcmdJbmRleCsrXTt9KSk7ZXJyb3IubmFtZT0nSW52YXJpYW50IFZpb2xhdGlvbic7fWVycm9yLmZyYW1lc1RvUG9wPTE7dGhyb3cgZXJyb3I7fX1tb2R1bGUuZXhwb3J0cz1pbnZhcmlhbnQ7XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZW1wdHlGdW5jdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBpbnZhcmlhbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQ9X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzaGltKHByb3BzLHByb3BOYW1lLGNvbXBvbmVudE5hbWUsbG9jYXRpb24scHJvcEZ1bGxOYW1lLHNlY3JldCl7aWYoc2VjcmV0PT09UmVhY3RQcm9wVHlwZXNTZWNyZXQpe3JldHVybjt9aW52YXJpYW50KGZhbHNlLCdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnKydVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnKydSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJyk7fTtzaGltLmlzUmVxdWlyZWQ9c2hpbTtmdW5jdGlvbiBnZXRTaGltKCl7cmV0dXJuIHNoaW07fTt2YXIgUmVhY3RQcm9wVHlwZXM9e2FycmF5OnNoaW0sYm9vbDpzaGltLGZ1bmM6c2hpbSxudW1iZXI6c2hpbSxvYmplY3Q6c2hpbSxzdHJpbmc6c2hpbSxzeW1ib2w6c2hpbSxhbnk6c2hpbSxhcnJheU9mOmdldFNoaW0sZWxlbWVudDpzaGltLGluc3RhbmNlT2Y6Z2V0U2hpbSxub2RlOnNoaW0sb2JqZWN0T2Y6Z2V0U2hpbSxvbmVPZjpnZXRTaGltLG9uZU9mVHlwZTpnZXRTaGltLHNoYXBlOmdldFNoaW0sZXhhY3Q6Z2V0U2hpbX07UmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXM9ZW1wdHlGdW5jdGlvbjtSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXM9UmVhY3RQcm9wVHlwZXM7cmV0dXJuIFJlYWN0UHJvcFR5cGVzO307XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQ9J1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJzttb2R1bGUuZXhwb3J0cz1SZWFjdFByb3BUeXBlc1NlY3JldDtcblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fXyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X2RvbV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X2RvbV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2NsYXNzbmFtZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X18pO1xudmFyIF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHRhcmdldCl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIHNvdXJjZT1hcmd1bWVudHNbaV07Zm9yKHZhciBrZXkgaW4gc291cmNlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLGtleSkpe3RhcmdldFtrZXldPXNvdXJjZVtrZXldO319fXJldHVybiB0YXJnZXQ7fTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZihcInZhbHVlXCJpbiBkZXNjcmlwdG9yKWRlc2NyaXB0b3Iud3JpdGFibGU9dHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe2lmKHByb3RvUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO307fSgpO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTt9fWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTt9cmV0dXJuIGNhbGwmJih0eXBlb2YgY2FsbD09PVwib2JqZWN0XCJ8fHR5cGVvZiBjYWxsPT09XCJmdW5jdGlvblwiKT9jYWxsOnNlbGY7fWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZih0eXBlb2Ygc3VwZXJDbGFzcyE9PVwiZnVuY3Rpb25cIiYmc3VwZXJDbGFzcyE9PW51bGwpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTt9c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7aWYoc3VwZXJDbGFzcylPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzO31mdW5jdGlvbiBnZXRPcHBvc2l0ZUNhcmRpbmFsKGRpcmVjdGlvbil7c3dpdGNoKGRpcmVjdGlvblswXSl7Y2FzZSdOJzpyZXR1cm4nUyc7Y2FzZSdTJzpyZXR1cm4nTic7Y2FzZSdFJzpyZXR1cm4nVyc7fXJldHVybidFJzt9ZnVuY3Rpb24gd2l0aG91dChhcnIxLGFycjIpe3JldHVybiBhcnIxLmZpbHRlcihmdW5jdGlvbihpdGVtKXtyZXR1cm4gYXJyMi5pbmRleE9mKGl0ZW0pPT09LTE7fSk7fXZhciBDTEFTU19SRU1PVkFMX1JFR0VYPS9cXHM/Yi1wb3BvdmVyLShhbmNob3J8c2VsZiktKHN0YXJ0fG1pZGRsZXxlbmQpL2c7dmFyIERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5UPV9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdzdmcnLHt2aWV3Qm94OicwIDAgMTQgOS41Jyx4bWxuczonaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnfSxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKSgnZycsbnVsbCxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKSgncG9seWdvbicse2NsYXNzTmFtZTonYi1wb3BvdmVyLWNhcmV0LWJvcmRlcicsZmlsbDonIzAwMCcscG9pbnRzOic3IDAgMTQgMTAgMCAxMCd9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKSgncG9seWdvbicse2NsYXNzTmFtZTonYi1wb3BvdmVyLWNhcmV0LWZpbGwnLGZpbGw6JyNGRkYnLHBvaW50czonNi45ODIzMDQ0NCAxLjc1IDEyLjc1IDEwIDEuMjUgMTAnfSkpKTt2YXIgU1RBUlQ9MDt2YXIgTUlERExFPTE7dmFyIEVORD0yO3ZhciBjb21iaW5hdGlvbnM9W3tuYW1lOidOTlcnLGF4OlNUQVJULGF5OlNUQVJULGR4OlNUQVJULGR5OkVORH0se25hbWU6J04nLGF4Ok1JRERMRSxheTpTVEFSVCxkeDpNSURETEUsZHk6RU5EfSx7bmFtZTonTk5FJyxheDpFTkQsYXk6U1RBUlQsZHg6RU5ELGR5OkVORH0se25hbWU6J0VORScsYXg6RU5ELGF5OlNUQVJULGR4OlNUQVJULGR5OlNUQVJUfSx7bmFtZTonRScsYXg6RU5ELGF5Ok1JRERMRSxkeDpTVEFSVCxkeTpNSURETEV9LHtuYW1lOidFU0UnLGF4OkVORCxheTpFTkQsZHg6U1RBUlQsZHk6RU5EfSx7bmFtZTonU1NFJyxheDpFTkQsYXk6RU5ELGR4OkVORCxkeTpTVEFSVH0se25hbWU6J1MnLGF4Ok1JRERMRSxheTpFTkQsZHg6TUlERExFLGR5OlNUQVJUfSx7bmFtZTonU1NXJyxheDpTVEFSVCxheTpFTkQsZHg6U1RBUlQsZHk6U1RBUlR9LHtuYW1lOidXU1cnLGF4OlNUQVJULGF5OkVORCxkeDpFTkQsZHk6RU5EfSx7bmFtZTonVycsYXg6U1RBUlQsYXk6TUlERExFLGR4OkVORCxkeTpNSURETEV9LHtuYW1lOidXTlcnLGF4OlNUQVJULGF5OlNUQVJULGR4OkVORCxkeTpTVEFSVH1dO3ZhciBQb3BvdmVyPWZ1bmN0aW9uKF9QdXJlQ29tcG9uZW50KXtfaW5oZXJpdHMoUG9wb3ZlcixfUHVyZUNvbXBvbmVudCk7ZnVuY3Rpb24gUG9wb3Zlcigpe3ZhciBfcmVmO3ZhciBfdGVtcCxfdGhpcyxfcmV0O19jbGFzc0NhbGxDaGVjayh0aGlzLFBvcG92ZXIpO2Zvcih2YXIgX2xlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkoX2xlbiksX2tleT0wO19rZXk8X2xlbjtfa2V5Kyspe2FyZ3NbX2tleV09YXJndW1lbnRzW19rZXldO31yZXR1cm4gX3JldD0oX3RlbXA9KF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKF9yZWY9UG9wb3Zlci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3BvdmVyKSkuY2FsbC5hcHBseShfcmVmLFt0aGlzXS5jb25jYXQoYXJncykpKSxfdGhpcyksX3RoaXMuYWxpZ249ZnVuY3Rpb24oKXt2YXIgYW5jaG9yPV9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfZG9tX19bXCJmaW5kRE9NTm9kZVwiXSkoX3RoaXMucHJvcHMuYW5jaG9yKTt2YXIgY2FyZXRBbmNob3I9X3RoaXMucHJvcHMuY2FyZXRBbmNob3I/X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fX1tcImZpbmRET01Ob2RlXCJdKShfdGhpcy5wcm9wcy5jYXJldEFuY2hvcik6YW5jaG9yO190aGlzLmNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsY2FyZXRBbmNob3IpO2lmKF90aGlzLnByb3BzLm1hdGNoQW5jaG9yV2lkdGgpe190aGlzLm1hdGNoQW5jaG9yV2lkdGgoKTt9dmFyIHByZXNldD1fdGhpcy5nZXRWYWxpZEFsaWdubWVudFByZXNldCgpO3ZhciBmcmFnPVBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtfdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xhc3NOYW1lPV90aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCcnKSsoJyBiLXBvcG92ZXItYW5jaG9yLXgtJytmcmFnKHByZXNldC5heCkpKygnIGItcG9wb3Zlci1hbmNob3IteS0nK2ZyYWcocHJlc2V0LmF5KSkrKCcgYi1wb3BvdmVyLXNlbGYteC0nK2ZyYWcocHJlc2V0LmR4KSkrKCcgYi1wb3BvdmVyLXNlbGYteS0nK2ZyYWcocHJlc2V0LmR5KSk7dmFyIGR4PU1hdGgucm91bmQoX3RoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihwcmVzZXQpKTt2YXIgZHk9TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0RGlhbG9nWVBvc2l0aW9uKHByZXNldCkpO3ZhciBwcD1fdGhpcy5wcm9wcy5wb3J0YWxQcm9wcztfdGhpcy50cmFuc2Zvcm1QYXJlbnQ9cHAmJnBwLnN0eWxlJiYocHAuc3R5bGUudHJhbnNmb3JtfHwnJyk7X3RoaXMuZGlhbG9nLiR3cmFwcGVyLnN0eWxlWyd0cmFuc2Zvcm0tb3JpZ2luJ109ZHgrJ3B4LCAnK2R5KydweCc7X3RoaXMuZGlhbG9nLiR3cmFwcGVyLnN0eWxlW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X19fZGVmYXVsdC5hXT1fdGhpcy50cmFuc2Zvcm1QYXJlbnQrJyB0cmFuc2xhdGUoJytkeCsncHgsICcrZHkrJ3B4KSc7dmFyIGNhcmRpbmFsPXByZXNldC5uYW1lWzBdO3ZhciBsb25naXR1ZGluYWw9Y2FyZGluYWw9PT0nTid8fGNhcmRpbmFsPT09J1MnO190aGlzLiRjYXJldC5zdHlsZVtsb25naXR1ZGluYWw/J2xlZnQnOid0b3AnXT1NYXRoLnJvdW5kKF90aGlzLmdldE5leHRDYXJldFhQb3NpdGlvbihwcmVzZXQpKSsncHgnO190aGlzLiRjYXJldC5zdHlsZVtsb25naXR1ZGluYWw/J3RvcCc6J2xlZnQnXT0nMHB4Jzt9LF90aGlzLm1hdGNoQW5jaG9yV2lkdGg9ZnVuY3Rpb24oKXt2YXIgZGlhbG9nPV90aGlzLmRpYWxvZy4kZGlhbG9nO2RpYWxvZy5zdHlsZS53aWR0aD1fdGhpcy5hbmNob3JSZWN0LndpZHRoKydweCc7fSxfdGVtcCksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsX3JldCk7fV9jcmVhdGVDbGFzcyhQb3BvdmVyLFt7a2V5OidjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHknLHZhbHVlOmZ1bmN0aW9uIGNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsY2FyZXRBbmNob3Ipe3ZhciBib2R5UmVjdD1kb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuYW5jaG9yUmVjdD1hbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5jYXJldEFuY2hvclJlY3Q9Y2FyZXRBbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5ib2R5TGVmdD1ib2R5UmVjdC5sZWZ0Ki0xO3RoaXMuYm9keVRvcD1ib2R5UmVjdC50b3AqLTE7fX0se2tleTonZ2V0TmV4dENhcmV0WFBvc2l0aW9uJyx2YWx1ZTpmdW5jdGlvbiBnZXROZXh0Q2FyZXRYUG9zaXRpb24oX3JlZjIpe3ZhciBuYW1lPV9yZWYyLm5hbWUsYXg9X3JlZjIuYXgsZHg9X3JlZjIuZHgsYXk9X3JlZjIuYXksZHk9X3JlZjIuZHk7dmFyIGNhcmV0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLiRjYXJldDt2YXIgbmV4dFg9MDtpZihuYW1lWzBdPT09J04nfHxuYW1lWzBdPT09J1MnKXtuZXh0WD10aGlzLmNhcmV0QW5jaG9yUmVjdC5sZWZ0LXRoaXMuYW5jaG9yUmVjdC5sZWZ0K3RoaXMuY2FyZXRBbmNob3JSZWN0LndpZHRoLzI7aWYoZHg9PT1NSURETEUpe25leHRYKz0odGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGgtdGhpcy5hbmNob3JSZWN0LndpZHRoKS8yO31lbHNlIGlmKGR4PT09RU5EKXtuZXh0WCs9dGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGgtdGhpcy5hbmNob3JSZWN0LndpZHRoO319ZWxzZXtuZXh0WD10aGlzLmNhcmV0QW5jaG9yUmVjdC50b3AtdGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmNhcmV0QW5jaG9yUmVjdC5oZWlnaHQvMjtpZihkeT09PU1JRERMRSl7bmV4dFgrPSh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQtdGhpcy5hbmNob3JSZWN0LmhlaWdodCkvMjt9ZWxzZSBpZihkeT09PUVORCl7bmV4dFgrPXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodC10aGlzLmFuY2hvclJlY3QuaGVpZ2h0O319bmV4dFgtPWNhcmV0LmNsaWVudFdpZHRoLzI7cmV0dXJuIG5leHRYO319LHtrZXk6J2dldE5leHREaWFsb2dYUG9zaXRpb24nLHZhbHVlOmZ1bmN0aW9uIGdldE5leHREaWFsb2dYUG9zaXRpb24oX3JlZjMpe3ZhciBheD1fcmVmMy5heCxkeD1fcmVmMy5keDt2YXIgZGlhbG9nPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLmRpYWxvZy4kd3JhcHBlcjt2YXIgbmV4dFg9dGhpcy5hbmNob3JSZWN0LmxlZnQrdGhpcy5ib2R5TGVmdDtzd2l0Y2goYXgpe2Nhc2UgTUlERExFOm5leHRYKz10aGlzLmFuY2hvclJlY3Qud2lkdGgvMjticmVhaztjYXNlIEVORDpuZXh0WCs9dGhpcy5hbmNob3JSZWN0LndpZHRoO2JyZWFrO31zd2l0Y2goZHgpe2Nhc2UgTUlERExFOm5leHRYLT1kaWFsb2cuY2xpZW50V2lkdGgvMjticmVhaztjYXNlIEVORDpuZXh0WC09ZGlhbG9nLmNsaWVudFdpZHRoO2JyZWFrO31yZXR1cm4gbmV4dFg7fX0se2tleTonZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbicsdmFsdWU6ZnVuY3Rpb24gZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihfcmVmNCl7dmFyIGF5PV9yZWY0LmF5LGR5PV9yZWY0LmR5O3ZhciBkaWFsb2c9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOnRoaXMuZGlhbG9nLiR3cmFwcGVyO3ZhciBuZXh0WT10aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuYm9keVRvcDtzd2l0Y2goYXkpe2Nhc2UgTUlERExFOm5leHRZKz10aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFkrPXRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7YnJlYWs7fXN3aXRjaChkeSl7Y2FzZSBNSURETEU6bmV4dFktPWRpYWxvZy5jbGllbnRIZWlnaHQvMjticmVhaztjYXNlIEVORDpuZXh0WS09ZGlhbG9nLmNsaWVudEhlaWdodDticmVhazt9cmV0dXJuIG5leHRZO319LHtrZXk6J2lzUG9zaXRpb25WYWxpZCcsdmFsdWU6ZnVuY3Rpb24gaXNQb3NpdGlvblZhbGlkKF9yZWY1LHBIZWlnaHQscFdpZHRoKXt2YXIgbmFtZT1fcmVmNS5uYW1lLGF4PV9yZWY1LmF4LGF5PV9yZWY1LmF5LGR4PV9yZWY1LmR4LGR5PV9yZWY1LmR5O3ZhciBjYXJkaW5hbD1uYW1lWzBdO2lmKGNhcmRpbmFsPT09J04nfHxjYXJkaW5hbD09PSdTJyl7aWYoY2FyZGluYWw9PT0nTicmJnRoaXMuYW5jaG9yUmVjdC50b3AtcEhlaWdodDwwKXtyZXR1cm4gZmFsc2U7fWVsc2UgaWYoY2FyZGluYWw9PT0nUycmJnRoaXMuYW5jaG9yUmVjdC5ib3R0b20rcEhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHQpe3JldHVybiBmYWxzZTt9aWYoYXg9PT1TVEFSVCl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdCtwV2lkdGg+d2luZG93LmlubmVyV2lkdGh8fHRoaXMuYW5jaG9yUmVjdC5sZWZ0PDApO31lbHNlIGlmKGF4PT09TUlERExFKXtyZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC5sZWZ0LXBXaWR0aC8yPDB8fHRoaXMuYW5jaG9yUmVjdC5sZWZ0K3BXaWR0aC8yPndpbmRvdy5pbm5lcldpZHRoKTt9cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGg8MHx8dGhpcy5hbmNob3JSZWN0LnJpZ2h0PndpbmRvdy5pbm5lcldpZHRoKTt9ZWxzZSBpZihjYXJkaW5hbD09PSdXJ3x8Y2FyZGluYWw9PT0nRScpe2lmKGNhcmRpbmFsPT09J1cnJiZ0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGg8MCl7cmV0dXJuIGZhbHNlO31lbHNlIGlmKGNhcmRpbmFsPT09J0UnJiZ0aGlzLmFuY2hvclJlY3QucmlnaHQrcFdpZHRoPndpbmRvdy5pbm5lcldpZHRoKXtyZXR1cm4gZmFsc2U7fWlmKGF5PT09U1RBUlQpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcCtwSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodHx8dGhpcy5hbmNob3JSZWN0LnRvcDwwKTt9ZWxzZSBpZihheT09PU1JRERMRSl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuYW5jaG9yUmVjdC5oZWlnaHQvMi1wSGVpZ2h0LzI8MHx8dGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzIrcEhlaWdodC8yPndpbmRvdy5pbm5lckhlaWdodCk7fXJldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcC1wSGVpZ2h0PDB8fHRoaXMuYW5jaG9yUmVjdC5ib3R0b20+d2luZG93LmlubmVySGVpZ2h0KTt9cmV0dXJuIHRydWU7fX0se2tleTonZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQnLHZhbHVlOmZ1bmN0aW9uIGdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCl7dmFyIF90aGlzMj10aGlzO3ZhciB3aWR0aD10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aDt2YXIgaGVpZ2h0PXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDt2YXIgdmFsaWRDb21ib3M9Y29tYmluYXRpb25zLmZpbHRlcihmdW5jdGlvbihjb25maWcpe3JldHVybiBfdGhpczIuaXNQb3NpdGlvblZhbGlkKGNvbmZpZyxoZWlnaHQsd2lkdGgpO30pO2lmKHZhbGlkQ29tYm9zLmluZGV4T2YodGhpcy5wcm9wcy5wcmVzZXQpIT09LTF8fCF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9ufHwhdmFsaWRDb21ib3MubGVuZ3RoKXtyZXR1cm4gdGhpcy5wcm9wcy5wcmVzZXQ7fXZhciBiZXN0Q29tYm9zPXZhbGlkQ29tYm9zLmZpbHRlcihmdW5jdGlvbihfcmVmNil7dmFyIG5hbWU9X3JlZjYubmFtZTtyZXR1cm4gbmFtZVswXT09PV90aGlzMi5wcm9wcy5wcmVzZXQubmFtZVswXTt9KTtpZihiZXN0Q29tYm9zLmxlbmd0aCl7cmV0dXJuIGJlc3RDb21ib3NbMF07fXZhciBvcHBvc2l0ZUNhcmRpbmFsPWdldE9wcG9zaXRlQ2FyZGluYWwodGhpcy5wcm9wcy5wcmVzZXQubmFtZSk7dmFyIG9rYXlDb21ib3M9dmFsaWRDb21ib3MuZmlsdGVyKGZ1bmN0aW9uKF9yZWY3KXt2YXIgbmFtZT1fcmVmNy5uYW1lO3JldHVybiBuYW1lWzBdPT09b3Bwb3NpdGVDYXJkaW5hbDt9KTtpZihva2F5Q29tYm9zLmxlbmd0aCl7cmV0dXJuIG9rYXlDb21ib3NbMF07fXJldHVybiB2YWxpZENvbWJvc1swXTt9fSx7a2V5Oidjb21wb25lbnREaWRNb3VudCcsdmFsdWU6ZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKXt0aGlzLmFsaWduKCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsdGhpcy5hbGlnbix0cnVlKTt9fSx7a2V5Oidjb21wb25lbnREaWRVcGRhdGUnLHZhbHVlOmZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpe3RoaXMuYWxpZ24oKTt9fSx7a2V5Oidjb21wb25lbnRXaWxsVW5tb3VudCcsdmFsdWU6ZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJyx0aGlzLmFsaWduLHRydWUpO319LHtrZXk6J3JlbmRlcicsdmFsdWU6ZnVuY3Rpb24gcmVuZGVyKCl7dmFyIF90aGlzMz10aGlzO3ZhciBwcm9wcz10aGlzLnByb3BzO3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQuYSxwcm9wcy5wb3J0YWxQcm9wcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYSxfZXh0ZW5kcyh7fSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQoKShwcm9wcyxQb3BvdmVyLmludGVybmFsS2V5cykse3JlZjpmdW5jdGlvbiByZWYoaW5zdGFuY2Upe3JldHVybiBfdGhpczMuZGlhbG9nPWluc3RhbmNlO30sYmVmb3JlOl9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNsb25lRWxlbWVudFwiXSkocHJvcHMuY2FyZXRDb21wb25lbnQse3JlZjpmdW5jdGlvbiByZWYobm9kZSl7cmV0dXJuIF90aGlzMy4kY2FyZXQ9bm9kZTt9LGNsYXNzTmFtZTpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKSgnYi1wb3BvdmVyLWNhcmV0Jyxwcm9wcy5jYXJldENvbXBvbmVudC5wcm9wcy5jbGFzc05hbWUpfSksY2xhc3NOYW1lOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKCdiLXBvcG92ZXInLHByb3BzLmNsYXNzTmFtZSl9KSkpO319XSxbe2tleTonZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudCcsdmFsdWU6ZnVuY3Rpb24gZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudChjb25zdGFudCl7c3dpdGNoKGNvbnN0YW50KXtjYXNlIFNUQVJUOnJldHVybidzdGFydCc7Y2FzZSBNSURETEU6cmV0dXJuJ21pZGRsZSc7Y2FzZSBFTkQ6cmV0dXJuJ2VuZCc7fX19XSk7cmV0dXJuIFBvcG92ZXI7fShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1BvcG92ZXIucHJlc2V0PWNvbWJpbmF0aW9ucy5yZWR1Y2UoZnVuY3Rpb24obWFwLGRlZil7cmV0dXJuIG1hcFtkZWYubmFtZV09ZGVmLG1hcDt9LHt9KTtQb3BvdmVyLnByb3BUeXBlcz1fZXh0ZW5kcyh7fSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYS5wcm9wVHlwZXMse2FuY2hvcjpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vbmVPZlR5cGUoW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLnNoYXBlKHtwcm9wczpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vYmplY3R9KV0pLmlzUmVxdWlyZWQsYXV0b1JlcG9zaXRpb246X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuYm9vbCxtYXRjaEFuY2hvcldpZHRoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmJvb2wsY2FyZXRBbmNob3I6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEub25lT2ZUeXBlKFtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5zaGFwZSh7cHJvcHM6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEub2JqZWN0fSldKSxjYXJldENvbXBvbmVudDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5lbGVtZW50LHBvcnRhbFByb3BzOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLnNoYXBlKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdC5hLlByb3BUeXBlcykscHJlc2V0Ol9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLm9uZU9mKFtQb3BvdmVyLnByZXNldC5OTlcsUG9wb3Zlci5wcmVzZXQuTixQb3BvdmVyLnByZXNldC5OTkUsUG9wb3Zlci5wcmVzZXQuRU5FLFBvcG92ZXIucHJlc2V0LkUsUG9wb3Zlci5wcmVzZXQuRVNFLFBvcG92ZXIucHJlc2V0LlNTRSxQb3BvdmVyLnByZXNldC5TLFBvcG92ZXIucHJlc2V0LlNTVyxQb3BvdmVyLnByZXNldC5XU1csUG9wb3Zlci5wcmVzZXQuVyxQb3BvdmVyLnByZXNldC5XTlddKX0pO1BvcG92ZXIuZGVmYXVsdFByb3BzPV9leHRlbmRzKHt9LF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdC5hLmRlZmF1bHRQcm9wcyx7YW5jaG9yOnVuZGVmaW5lZCxhdXRvUmVwb3NpdGlvbjp0cnVlLG1hdGNoQW5jaG9yV2lkdGg6ZmFsc2UsY2FwdHVyZUZvY3VzOmZhbHNlLGNhcmV0QW5jaG9yOnVuZGVmaW5lZCxjYXJldENvbXBvbmVudDpERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCxjbG9zZU9uRXNjS2V5OnRydWUsY2xvc2VPbk91dHNpZGVDbGljazp0cnVlLGNsb3NlT25PdXRzaWRlU2Nyb2xsOnRydWUscG9ydGFsUHJvcHM6e30scHJlc2V0OlBvcG92ZXIucHJlc2V0LlN9KTtQb3BvdmVyLmludGVybmFsS2V5cz13aXRob3V0KE9iamVjdC5rZXlzKFBvcG92ZXIuZGVmYXVsdFByb3BzKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYS5pbnRlcm5hbEtleXMpOy8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoUG9wb3Zlcik7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaW5kZXguanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBjYjIzNjFhMDVkYzkzMzg4NWFkMSIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcHJvcC10eXBlcy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1kaWFsb2dcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtZGlhbG9nXCJ9XG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1wb3J0YWxcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtcG9ydGFsXCJ9XG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy1vbWl0LWtleXNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCJ9XG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCJ9XG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNsYXNzbmFtZXNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJjbGFzc25hbWVzXCJ9XG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3RcIn1cbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCJ9XG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICovXG5cbmZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhcmc7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIGFuZCBkaXNjYXJkcyBpbnB1dHM7IGl0IGhhcyBubyBzaWRlIGVmZmVjdHMuIFRoaXMgaXNcbiAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG4gKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuICovXG52YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblxuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucyA9IG1ha2VFbXB0eUZ1bmN0aW9uO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsID0gbWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gYXJnO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBjbG9uZUVsZW1lbnQsIGNyZWF0ZUVsZW1lbnQsIFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBEaWFsb2cgZnJvbSAnYm91bmRsZXNzLWRpYWxvZyc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJ2JvdW5kbGVzcy1wb3J0YWwnO1xuaW1wb3J0IG9taXQgZnJvbSAnYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cyc7XG5pbXBvcnQgdHJhbnNmb3JtUHJvcCBmcm9tICdib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5JztcblxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVDYXJkaW5hbChkaXJlY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvblswXSkge1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgIHJldHVybiAnUyc7XG4gICAgICAgIGNhc2UgJ1MnOlxuICAgICAgICAgICAgcmV0dXJuICdOJztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICByZXR1cm4gJ1cnO1xuICAgIH1cblxuICAgIHJldHVybiAnRSc7XG59XG5cbmZ1bmN0aW9uIHdpdGhvdXQoYXJyMSwgYXJyMikgeyByZXR1cm4gYXJyMS5maWx0ZXIoKGl0ZW0pID0+IGFycjIuaW5kZXhPZihpdGVtKSA9PT0gLTEpOyB9XG5cbmNvbnN0IENMQVNTX1JFTU9WQUxfUkVHRVggPSAvXFxzP2ItcG9wb3Zlci0oYW5jaG9yfHNlbGYpLShzdGFydHxtaWRkbGV8ZW5kKS9nO1xuXG5jb25zdCBERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCA9IChcbiAgICA8c3ZnIHZpZXdCb3g9JzAgMCAxNCA5LjUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+XG4gICAgICAgIDxnPlxuICAgICAgICAgICAgPHBvbHlnb24gY2xhc3NOYW1lPSdiLXBvcG92ZXItY2FyZXQtYm9yZGVyJyBmaWxsPScjMDAwJyBwb2ludHM9JzcgMCAxNCAxMCAwIDEwJyAvPlxuICAgICAgICAgICAgPHBvbHlnb24gY2xhc3NOYW1lPSdiLXBvcG92ZXItY2FyZXQtZmlsbCcgZmlsbD0nI0ZGRicgcG9pbnRzPSc2Ljk4MjMwNDQ0IDEuNzUgMTIuNzUgMTAgMS4yNSAxMCcgLz5cbiAgICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuKTtcblxuY29uc3QgU1RBUlQgPSAwO1xuY29uc3QgTUlERExFID0gMTtcbmNvbnN0IEVORCA9IDI7XG5cbmNvbnN0IGNvbWJpbmF0aW9ucyA9IFtcbiAgICB7IG5hbWU6ICdOTlcnLCBheDogU1RBUlQsIGF5OiBTVEFSVCwgZHg6IFNUQVJULCBkeTogRU5EIH0sXG4gICAgeyBuYW1lOiAnTicsIGF4OiBNSURETEUsIGF5OiBTVEFSVCwgZHg6IE1JRERMRSwgZHk6IEVORCB9LFxuICAgIHsgbmFtZTogJ05ORScsIGF4OiBFTkQsIGF5OiBTVEFSVCwgZHg6IEVORCwgZHk6IEVORCB9LFxuICAgIHsgbmFtZTogJ0VORScsIGF4OiBFTkQsIGF5OiBTVEFSVCwgZHg6IFNUQVJULCBkeTogU1RBUlQgfSxcbiAgICB7IG5hbWU6ICdFJywgYXg6IEVORCwgYXk6IE1JRERMRSwgZHg6IFNUQVJULCBkeTogTUlERExFIH0sXG4gICAgeyBuYW1lOiAnRVNFJywgYXg6IEVORCwgYXk6IEVORCwgZHg6IFNUQVJULCBkeTogRU5EIH0sXG4gICAgeyBuYW1lOiAnU1NFJywgYXg6IEVORCwgYXk6IEVORCwgZHg6IEVORCwgZHk6IFNUQVJUIH0sXG4gICAgeyBuYW1lOiAnUycsIGF4OiBNSURETEUsIGF5OiBFTkQsIGR4OiBNSURETEUsIGR5OiBTVEFSVCB9LFxuICAgIHsgbmFtZTogJ1NTVycsIGF4OiBTVEFSVCwgYXk6IEVORCwgZHg6IFNUQVJULCBkeTogU1RBUlQgfSxcbiAgICB7IG5hbWU6ICdXU1cnLCBheDogU1RBUlQsIGF5OiBFTkQsIGR4OiBFTkQsIGR5OiBFTkQgfSxcbiAgICB7IG5hbWU6ICdXJywgYXg6IFNUQVJULCBheTogTUlERExFLCBkeDogRU5ELCBkeTogTUlERExFIH0sXG4gICAgeyBuYW1lOiAnV05XJywgYXg6IFNUQVJULCBheTogU1RBUlQsIGR4OiBFTkQsIGR5OiBTVEFSVCB9LFxuXTtcblxuLyoqXG5BIHBvcG92ZXIgaXMgYSB0eXBlIG9mIFtEaWFsb2ddKGh0dHBzOi8vZ2l0aHViLmNvbS9lbmlnbWEtaW8vYm91bmRsZXNzL3RyZWUvbWFzdGVyL3BhY2thZ2VzL2JvdW5kbGVzcy1kaWFsb2cpIHRoYXQgaXMgbWVhbnQgdG8gcHJvdmlkZSBhZGRpdGlvbmFsIGNvbnRleHQgdG8gY29udGVudCAoYW4gXCJhbmNob3JcIikgY3VycmVudGx5IG9uLXNjcmVlbi4gVHlwaWNhbGx5LCBhIHBvcG92ZXIgaXMgc3Bhd25lZCBieSBpbnRlcmFjdGluZyB3aXRoIHRoZSBjb250ZW50IGl0IGVucmljaGVzIGFuZCBpcyBkaXNtaXNzZWQgYnkgY2xpY2tpbmcgb3Igc2hpZnRpbmcgZm9jdXMgdG8gYW4gYWx0ZXJuYXRlIGxvY2F0aW9uLlxuXG5BbGlnbm1lbnQgb3B0aW9ucyBmb3IgdGhlIHBvcG92ZXIgYXJlIGRlc2lnbmVkIHRvIG1pcnJvciBjb21wYXNzIGRpcmVjdGlvbnM6XG5cbmBgYFxuICAgICAgIOKGkiAgICAgICDihpBcbiAgICAgIE5OVyAgTiAgTk5FXG7ihpMgV05XICAgICAgICAgICAgIEVORSDihpNcbiAgICBXICAgQU5DSE9SICAgIEVcbuKGkSBXU1cgICAgICAgICAgICAgRVNFIOKGkVxuICAgICAgU1NXICBTICBTU0VcbiAgICAgICDihpIgICAgICAg4oaQXG5gYGBcblxuVGhlIGFycm93cyBpbmRpY2F0ZSB3aGljaCB3YXkgdGhlIHBvcG92ZXIgd2lsbCBleHRlbmQsIGUuZy4g4oaSIG1lYW5zIHRoZSBwb3BvdmVyIGlzIGFsaWduZWQgdG8gdGhlIGxlZnQgZWRnZSBhbmQgZXh0ZW5kcyBpbiB0aGF0IGRpcmVjdGlvbi4gRGlhZ29uYWwgY29ybmVycyAoTlcsIE5FLCBTRSwgU1cpIGFyZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC5cblxuYGBganN4XG48UG9wb3ZlclxuICAgIGFuY2hvcj17ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbWUtYW5jaG9yLWVsZW1lbnQnKX1cbiAgICBwcmVzZXQ9e1BvcG92ZXIucHJlc2V0Lk59PlxuICAgIE15IHBvcG92ZXIgY29udGVudCFcbjwvUG9wb3Zlcj5cbmBgYFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BvdmVyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlcXVlbmNlc1xuICAgIHN0YXRpYyBwcmVzZXQgPSBjb21iaW5hdGlvbnMucmVkdWNlKChtYXAsIGRlZikgPT4gKChtYXBbZGVmLm5hbWVdID0gZGVmKSwgbWFwKSwge30pXG5cbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAuLi5EaWFsb2cucHJvcFR5cGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIERPTSBlbGVtZW50IG9yIFJlYWN0IHJlZmVyZW5jZSAocmVmKSB0byBvbmUgZm9yIHBvc2l0aW9uaW5nIHB1cnBvc2VzXG4gICAgICAgICAqL1xuICAgICAgICBhbmNob3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgUHJvcFR5cGVzLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICBwcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKS5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiB0aGUgZ2l2ZW4gYWxpZ25tZW50IHNldHRpbmdzIHdvdWxkIHRha2UgdGhlIHBvcG92ZXIgb3V0IG9mIGJvdW5kcywgY2hhbmdlIHRoZSBhbGlnbm1lbnQgYXMgbmVjZXNzYXJ5IHRvIHJlbWFpbiBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICovXG4gICAgICAgIGF1dG9SZXBvc2l0aW9uOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogIGlmIHBvcG92ZXIgZWxlbWVudCBzaG91bGQgbWF0Y2ggdGhlIGFuY2hvclxuICAgICAgICAgKi9cbiAgICAgICAgbWF0Y2hBbmNob3JXaWR0aDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgRE9NIGVsZW1lbnQgb3IgUmVhY3QgcmVmZXJlbmNlIChyZWYpIHRvIG9uZSBmb3IgcG9zaXRpb25pbmcgcHVycG9zZXMsIHRoZSBjYXJldCBjb21wb25lbnQgd2lsbFxuICAgICAgICAgKiBiZSBhdXRvbWF0aWNhbGx5IHBvc2l0aW9uZWQgdG8gY2VudGVyIG9uIHRoaXMgcHJvdmlkZWQgYW5jaG9yOyBieSBkZWZhdWx0IGl0IHdpbGwgY2VudGVyXG4gICAgICAgICAqIG9uIGBwcm9wcy5hbmNob3JgXG4gICAgICAgICAqL1xuICAgICAgICBjYXJldEFuY2hvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuaW5zdGFuY2VPZihIVE1MRWxlbWVudCksXG4gICAgICAgICAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgICAgIHByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgSlNYIHRoYXQgaXMgcmVuZGVyZWQgYW5kIHVzZWQgdG8gcG9pbnQgYXQgdGhlIG1pZGRsZSBvZiB0aGUgYW5jaG9yIGVsZW1lbnQgYW5kIGluZGljYXRlIHRoZSBjb250ZXh0IG9mIHRoZSBwb3BvdmVyXG4gICAgICAgICAqL1xuICAgICAgICBjYXJldENvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnQsXG5cbiAgICAgICAgcG9ydGFsUHJvcHM6IFByb3BUeXBlcy5zaGFwZShQb3J0YWwuUHJvcFR5cGVzKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXhhbXBsZTpcbiAgICAgICAgICogYGBganN4XG4gICAgICAgICAqIDxQb3BvdmVyXG4gICAgICAgICAqICAgICBhbmNob3I9e2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb21lLWFuY2hvci1lbGVtZW50Jyl9XG4gICAgICAgICAqICAgICBwcmVzZXQ9e1BvcG92ZXIucHJlc2V0Lk5ORX0+XG4gICAgICAgICAqICAgICBNeSBwb3BvdmVyIGNvbnRlbnQhXG4gICAgICAgICAqIDwvUG9wb3Zlcj5cbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBwcmVzZXQ6IFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5OTlcsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5OLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTk5FLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuRU5FLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuRSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkVTRSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlNTRSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlMsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TU1csXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5XU1csXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5XLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuV05XLFxuICAgICAgICBdKSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5EaWFsb2cuZGVmYXVsdFByb3BzLFxuICAgICAgICBhbmNob3I6IHVuZGVmaW5lZCxcbiAgICAgICAgYXV0b1JlcG9zaXRpb246IHRydWUsXG4gICAgICAgIG1hdGNoQW5jaG9yV2lkdGg6IGZhbHNlLFxuICAgICAgICBjYXB0dXJlRm9jdXM6IGZhbHNlLFxuICAgICAgICBjYXJldEFuY2hvcjogdW5kZWZpbmVkLFxuICAgICAgICBjYXJldENvbXBvbmVudDogREVGQVVMVF9DQVJFVF9DT01QT05FTlQsXG4gICAgICAgIGNsb3NlT25Fc2NLZXk6IHRydWUsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlU2Nyb2xsOiB0cnVlLFxuICAgICAgICBwb3J0YWxQcm9wczoge30sXG4gICAgICAgIHByZXNldDogUG9wb3Zlci5wcmVzZXQuUyxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gd2l0aG91dChPYmplY3Qua2V5cyhQb3BvdmVyLmRlZmF1bHRQcm9wcyksIERpYWxvZy5pbnRlcm5hbEtleXMpXG5cbiAgICBzdGF0aWMgZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudChjb25zdGFudCkge1xuICAgICAgICBzd2l0Y2ggKGNvbnN0YW50KSB7XG4gICAgICAgICAgICBjYXNlIFNUQVJUOlxuICAgICAgICAgICAgICAgIHJldHVybiAnc3RhcnQnO1xuXG4gICAgICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ21pZGRsZSc7XG5cbiAgICAgICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgICAgIHJldHVybiAnZW5kJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsIGNhcmV0QW5jaG9yKSB7XG4gICAgICAgIGNvbnN0IGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB0aGlzLmFuY2hvclJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuY2FyZXRBbmNob3JSZWN0ID0gY2FyZXRBbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgLy8gbm9ybWFsbHkgd2UnZCB1c2Ugc2Nyb2xsVG9wL3Njcm9sbExlZnQsIGJ1dCBzY3JvbGwgYmVoYXZpb3IgY2hhbmdlcyB3aGVuIHBvc2l0aW9uOiBzdGlja3lcbiAgICAgICAgLy8gaXMgZW5hYmxlZCBpbiBDaHJvbWUgYW5kIGludmVydGluZyB0aGUgbmVnYXRpdmUgdmlld3BvcnQgcmVjdCB2YWx1ZSBzZWVtcyB0byB3b3JrIG1vcmVcbiAgICAgICAgLy8gY29uc2lzdGVudGx5XG4gICAgICAgIHRoaXMuYm9keUxlZnQgPSBib2R5UmVjdC5sZWZ0ICogLTE7XG4gICAgICAgIHRoaXMuYm9keVRvcCA9IGJvZHlSZWN0LnRvcCAqIC0xO1xuICAgIH1cblxuICAgIGdldE5leHRDYXJldFhQb3NpdGlvbih7IG5hbWUsIGF4LCBkeCwgYXksIGR5IH0sIGNhcmV0ID0gdGhpcy4kY2FyZXQpIHtcbiAgICAgICAgbGV0IG5leHRYID0gMDtcblxuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ04nIHx8IG5hbWVbMF0gPT09ICdTJykge1xuICAgICAgICAgICAgLy8gcG9wb3ZlciBpcyBhYm92ZS9iZWxvdywgc28gd2UgbmVlZCB0byBkZXRlY3QgdGhlIFggcG9zaXRpb24gb2YgdGhlIGNhcmV0IGFuY2hvclxuICAgICAgICAgICAgbmV4dFggPSB0aGlzLmNhcmV0QW5jaG9yUmVjdC5sZWZ0IC0gdGhpcy5hbmNob3JSZWN0LmxlZnQgKyB0aGlzLmNhcmV0QW5jaG9yUmVjdC53aWR0aCAvIDI7XG5cbiAgICAgICAgICAgIGlmIChkeCA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gKHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoIC0gdGhpcy5hbmNob3JSZWN0LndpZHRoKSAvIDI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGR4ID09PSBFTkQpIHtcbiAgICAgICAgICAgICAgICBuZXh0WCArPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aCAtIHRoaXMuYW5jaG9yUmVjdC53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHBvcG92ZXIgaXMgbGVmdC9yaWdodCwgc28gd2UgbmVlZCB0byBkZXRlY3QgdGhlIFkgcG9zaXRpb24gb2YgdGhlIGNhcmV0IGFuY2hvciAoY2FyZXQgaXMgcm90YXRlZCB2aWEgQ1NTKVxuICAgICAgICAgICAgbmV4dFggPSB0aGlzLmNhcmV0QW5jaG9yUmVjdC50b3AgLSB0aGlzLmFuY2hvclJlY3QudG9wICsgdGhpcy5jYXJldEFuY2hvclJlY3QuaGVpZ2h0IC8gMjtcblxuICAgICAgICAgICAgaWYgKGR5ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICBuZXh0WCArPSAodGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0IC0gdGhpcy5hbmNob3JSZWN0LmhlaWdodCkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkeSA9PT0gRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0IC0gdGhpcy5hbmNob3JSZWN0LmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5leHRYIC09IGNhcmV0LmNsaWVudFdpZHRoIC8gMjtcblxuICAgICAgICByZXR1cm4gbmV4dFg7XG4gICAgfVxuXG4gICAgZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbih7IGF4LCBkeCB9LCBkaWFsb2cgPSB0aGlzLmRpYWxvZy4kd3JhcHBlcikge1xuICAgICAgICBsZXQgbmV4dFggPSB0aGlzLmFuY2hvclJlY3QubGVmdCArIHRoaXMuYm9keUxlZnQ7XG5cbiAgICAgICAgc3dpdGNoIChheCkge1xuICAgICAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5hbmNob3JSZWN0LndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5hbmNob3JSZWN0LndpZHRoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChkeCkge1xuICAgICAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICAgICAgbmV4dFggLT0gZGlhbG9nLmNsaWVudFdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICAgICAgbmV4dFggLT0gZGlhbG9nLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5leHRYO1xuICAgIH1cblxuICAgIGdldE5leHREaWFsb2dZUG9zaXRpb24oeyBheSwgZHkgfSwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgbGV0IG5leHRZID0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYm9keVRvcDtcblxuICAgICAgICBzd2l0Y2ggKGF5KSB7XG4gICAgICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgICAgICBuZXh0WSArPSB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICAgICAgbmV4dFkgKz0gdGhpcy5hbmNob3JSZWN0LmhlaWdodDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZHkpIHtcbiAgICAgICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgICAgIG5leHRZIC09IGRpYWxvZy5jbGllbnRIZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgICAgICBuZXh0WSAtPSBkaWFsb2cuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5leHRZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9zaXRpb24gY29tYmluYXRpb24sIHdpbGwgdGhlIHBvcG92ZXIgZml0IGludG8gdGhlIHNwYWNlIHdpdGhvdXQgb2NjbHVzaW9uP1xuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgY29uZmlnXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmF4XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmF5XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmR4XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmR5XG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgcEhlaWdodFxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIHBXaWR0aFxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1Bvc2l0aW9uVmFsaWQoeyBuYW1lLCBheCwgYXksIGR4LCBkeSB9LCBwSGVpZ2h0LCBwV2lkdGgpIHtcbiAgICAgICAgY29uc3QgY2FyZGluYWwgPSBuYW1lWzBdO1xuXG4gICAgICAgIGlmIChjYXJkaW5hbCA9PT0gJ04nIHx8IGNhcmRpbmFsID09PSAnUycpIHtcbiAgICAgICAgICAgIGlmIChjYXJkaW5hbCA9PT0gJ04nICYmIHRoaXMuYW5jaG9yUmVjdC50b3AgLSBwSGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIGFib3ZlICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhcmRpbmFsID09PSAnUycgJiYgdGhpcy5hbmNob3JSZWN0LmJvdHRvbSArIHBIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBiZWxvdyAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXggPT09IFNUQVJUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QubGVmdCArIHBXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoICAgICAgLyogd291bGQgb2NjbHVkZSByaWdodCAqLyB8fCB0aGlzLmFuY2hvclJlY3QubGVmdCA8IDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIHRvIHRoZSBsZWZ0ICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgLSBwV2lkdGggLyAyIDwgMCAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgbGVmdCAqLyB8fCB0aGlzLmFuY2hvclJlY3QubGVmdCArIHBXaWR0aCAvIDIgPiB3aW5kb3cuaW5uZXJXaWR0aCkgIC8qIHdvdWxkIG9jY2x1ZGUgcmlnaHQgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgLSBwV2lkdGggPCAwICAgICAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBsZWZ0ICovIHx8IHRoaXMuYW5jaG9yUmVjdC5yaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoKSAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiB0byB0aGUgcmlnaHQgKi9cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1cnIHx8IGNhcmRpbmFsID09PSAnRScpIHtcbiAgICAgICAgICAgIGlmIChjYXJkaW5hbCA9PT0gJ1cnICYmIHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi9cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FyZGluYWwgPT09ICdFJyAmJiB0aGlzLmFuY2hvclJlY3QucmlnaHQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChheSA9PT0gU1RBUlQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC50b3AgKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0ICAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi8gfHwgdGhpcy5hbmNob3JSZWN0LnRvcCA8IDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIGFib3ZlICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXkgPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyIC0gcEhlaWdodCAvIDIgPCAwICAgICAgICAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqLyB8fCB0aGlzLmFuY2hvclJlY3QudG9wICsgdGhpcy5hbmNob3JSZWN0LmhlaWdodCAvIDIgKyBwSGVpZ2h0IC8gMiA+IHdpbmRvdy5pbm5lckhlaWdodCkgICAgLyogd291bGQgb2NjbHVkZSBiZWxvdyAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QudG9wIC0gcEhlaWdodCA8IDAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgYWJvdmUgKi8gfHwgdGhpcy5hbmNob3JSZWN0LmJvdHRvbSA+IHdpbmRvdy5pbm5lckhlaWdodCkgICAgLyogYW5jaG9yIGlzIHBhcnRpYWxseSBvZmZzY3JlZW4gYmVsb3cgKi9cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRWYWxpZEFsaWdubWVudFByZXNldCgpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIC8vIGdpdmVuIHRoZSBjdXJyZW50IHZpZXdwb3J0IGNhcnRvZ3JhcGh5LCB3aGVyZSBjYW4gd2Ugc3RpY2sgdGhlIHBvcG92ZXJcbiAgICAgICAgLy8gc28gaXQgd29uJ3QgYmUgcGFydGlhbGx5IG9jY2x1ZGVkP1xuICAgICAgICBjb25zdCB2YWxpZENvbWJvcyA9IGNvbWJpbmF0aW9ucy5maWx0ZXIoKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNQb3NpdGlvblZhbGlkKGNvbmZpZywgaGVpZ2h0LCB3aWR0aCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIDEuIGlzIHRoZSByZXF1ZXN0ZWQgcHJlc2V0IGluIHRoZSBsaXN0P1xuICAgICAgICAvLyAyLiBkb2VzIHRoZSBjb25zdW1lciBub3Qgd2FudCB1cyBhdXRvLXJlcG9zaXRpb25pbmc/XG4gICAgICAgIC8vIDMuIGFyZSBubyBjb21ib3MgdmFsaWQ/XG4gICAgICAgIGlmICh2YWxpZENvbWJvcy5pbmRleE9mKHRoaXMucHJvcHMucHJlc2V0KSAhPT0gLTEgfHwgIXRoaXMucHJvcHMuYXV0b1JlcG9zaXRpb24gfHwgIXZhbGlkQ29tYm9zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMucHJlc2V0OyAvLyBqdXN0IGdvIHdpdGggdGhlIHJlcXVlc3RlZCBwcmVzZXRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG90aGVyd2lzZS4uLiB3ZSB0cnkgdG8gZmluZCB0aGUgYmVzdCBwb3NzaWJsZSBmYWxsYmFjayBvcHRpb25cblxuICAgICAgICAvLyBvcHRpbWl6ZSBmb3IgdGhlIHJlcXVlc3RlZCBwcmVzZXQgaGVtaXNwaGVyZVxuICAgICAgICBjb25zdCBiZXN0Q29tYm9zID0gdmFsaWRDb21ib3MuZmlsdGVyKCh7IG5hbWUgfSkgPT4gbmFtZVswXSA9PT0gdGhpcy5wcm9wcy5wcmVzZXQubmFtZVswXSk7XG5cbiAgICAgICAgaWYgKGJlc3RDb21ib3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVzdENvbWJvc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZW4gdGhlIG9wcG9zaXRlIChlLmcuIHRoZSBlbGVtZW50IGlzIHRvbyBsb3cgaW4gdGhlIHZpZXdwb3J0IHNvIGZsaXAgdXAgaW5zdGVhZCBvZiBkb3duKVxuICAgICAgICBjb25zdCBvcHBvc2l0ZUNhcmRpbmFsID0gZ2V0T3Bwb3NpdGVDYXJkaW5hbCh0aGlzLnByb3BzLnByZXNldC5uYW1lKTtcbiAgICAgICAgY29uc3Qgb2theUNvbWJvcyA9IHZhbGlkQ29tYm9zLmZpbHRlcigoeyBuYW1lIH0pID0+IG5hbWVbMF0gPT09IG9wcG9zaXRlQ2FyZGluYWwpO1xuXG4gICAgICAgIGlmIChva2F5Q29tYm9zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG9rYXlDb21ib3NbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGF0ZXZlcidzIGxlZnQgd2lsbCBoYXZlIHRvIGRvXG4gICAgICAgIHJldHVybiB2YWxpZENvbWJvc1swXTtcbiAgICB9XG5cbiAgICBhbGlnbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gZmluZERPTU5vZGUodGhpcy5wcm9wcy5hbmNob3IpO1xuXG4gICAgICAgIGNvbnN0IGNhcmV0QW5jaG9yID0gdGhpcy5wcm9wcy5jYXJldEFuY2hvclxuICAgICAgICAgICAgPyBmaW5kRE9NTm9kZSh0aGlzLnByb3BzLmNhcmV0QW5jaG9yKVxuICAgICAgICAgICAgOiBhbmNob3I7XG5cbiAgICAgICAgdGhpcy5jYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLCBjYXJldEFuY2hvcik7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWF0Y2hBbmNob3JXaWR0aCkgeyB0aGlzLm1hdGNoQW5jaG9yV2lkdGgoKTsgfVxuXG4gICAgICAgIGNvbnN0IHByZXNldCA9IHRoaXMuZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKTtcbiAgICAgICAgY29uc3QgZnJhZyA9IFBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUgPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCAnJylcbiAgICAgICAgICAgICsgYCBiLXBvcG92ZXItYW5jaG9yLXgtJHtmcmFnKHByZXNldC5heCl9YFxuICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1hbmNob3IteS0ke2ZyYWcocHJlc2V0LmF5KX1gXG4gICAgICAgICAgICArIGAgYi1wb3BvdmVyLXNlbGYteC0ke2ZyYWcocHJlc2V0LmR4KX1gXG4gICAgICAgICAgICArIGAgYi1wb3BvdmVyLXNlbGYteS0ke2ZyYWcocHJlc2V0LmR5KX1gO1xuXG4gICAgICAgIGNvbnN0IGR4ID0gTWF0aC5yb3VuZCh0aGlzLmdldE5leHREaWFsb2dYUG9zaXRpb24ocHJlc2V0KSk7XG4gICAgICAgIGNvbnN0IGR5ID0gTWF0aC5yb3VuZCh0aGlzLmdldE5leHREaWFsb2dZUG9zaXRpb24ocHJlc2V0KSk7XG4gICAgICAgIGNvbnN0IHBwID0gdGhpcy5wcm9wcy5wb3J0YWxQcm9wcztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QYXJlbnQgPSBwcCAmJiBwcC5zdHlsZSAmJiAocHAuc3R5bGUudHJhbnNmb3JtIHx8ICcnKTtcbiAgICAgICAgdGhpcy5kaWFsb2cuJHdyYXBwZXIuc3R5bGVbJ3RyYW5zZm9ybS1vcmlnaW4nXSA9IGAke2R4fXB4LCAke2R5fXB4YDtcbiAgICAgICAgdGhpcy5kaWFsb2cuJHdyYXBwZXIuc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBgJHt0aGlzLnRyYW5zZm9ybVBhcmVudH0gdHJhbnNsYXRlKCR7ZHh9cHgsICR7ZHl9cHgpYDtcblxuICAgICAgICBjb25zdCBjYXJkaW5hbCA9IHByZXNldC5uYW1lWzBdO1xuICAgICAgICBjb25zdCBsb25naXR1ZGluYWwgPSBjYXJkaW5hbCA9PT0gJ04nIHx8IGNhcmRpbmFsID09PSAnUyc7XG5cbiAgICAgICAgLy8gdGhlIGNhcmV0IGlzIGluaXRpYWxseSBwb3NpdGlvbmVkIGF0IDAsMCBpbnNpZGUgdGhlIGRpYWxvZ1xuICAgICAgICAvLyB3aGljaCBpcyBhbHJlYWR5IHBvc2l0aW9uZWQgYXQgdGhlIGFuY2hvciwgc28gd2UganVzdCBuZWVkIHRvXG4gICAgICAgIC8vIG1ha2Ugc21hbGwgYWRqdXN0bWVudHMgYXMgbmVjZXNzYXJ5IHRvIGxpbmUgdXAgdGhlIGNhcmV0XG4gICAgICAgIC8vIHdpdGggdGhlIHZpc3VhbCBjZW50ZXIgb2YgdGhlIGFuY2hvclxuICAgICAgICB0aGlzLiRjYXJldC5zdHlsZVtsb25naXR1ZGluYWwgPyAnbGVmdCcgOiAndG9wJ10gPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dENhcmV0WFBvc2l0aW9uKHByZXNldCkpICsgJ3B4JztcbiAgICAgICAgdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsID8gJ3RvcCcgOiAnbGVmdCddID0gJzBweCc7XG4gICAgfVxuXG4gICAgbWF0Y2hBbmNob3JXaWR0aCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZGlhbG9nID0gdGhpcy5kaWFsb2cuJGRpYWxvZztcbiAgICAgICAgZGlhbG9nLnN0eWxlLndpZHRoID0gYCR7dGhpcy5hbmNob3JSZWN0LndpZHRofXB4YDtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5hbGlnbigpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5hbGlnbiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFsaWduKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTsgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UG9ydGFsIHsuLi5wcm9wcy5wb3J0YWxQcm9wc30+XG4gICAgICAgICAgICAgICAgPERpYWxvZ1xuICAgICAgICAgICAgICAgICAgICB7Li4ub21pdChwcm9wcywgUG9wb3Zlci5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhpbnN0YW5jZSkgPT4gKHRoaXMuZGlhbG9nID0gaW5zdGFuY2UpfVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVFbGVtZW50KHByb3BzLmNhcmV0Q29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAobm9kZSkgPT4gKHRoaXMuJGNhcmV0ID0gbm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi1wb3BvdmVyLWNhcmV0JywgcHJvcHMuY2FyZXRDb21wb25lbnQucHJvcHMuY2xhc3NOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wb3BvdmVyJywgcHJvcHMuY2xhc3NOYW1lKX0gLz5cbiAgICAgICAgICAgIDwvUG9ydGFsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3BvdmVyL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==