module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"function"==typeof Symbol&&Symbol.iterator;e.exports=n(10)()},function(e,t){e.exports=require("boundless-dialog")},function(e,t){e.exports=require("boundless-portal")},function(e,t){e.exports=require("boundless-utils-omit-keys")},function(e,t){e.exports=require("boundless-utils-transform-property")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,c,s){if(o(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,r,i,a,c,s],l=0;p=new Error(t.replace(/%s/g,function(){return h[l++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(8),o=n(9),i=n(11);e.exports=function(){function e(e,t,n,r,a,c){c!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){switch(e[0]){case"N":return"S";case"S":return"N";case"E":return"W"}return"E"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),s=n.n(c),p=n(6),h=(n.n(p),n(7)),l=(n.n(h),n(5)),u=n.n(l),d=n(1),f=n.n(d),y=n(2),g=n.n(y),m=n(3),x=n.n(m),v=n(4),w=n.n(v),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=/\s?b-popover-(anchor|self)-(start|middle|end)/g,O=n.i(p.createElement)("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},n.i(p.createElement)("g",null,n.i(p.createElement)("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),n.i(p.createElement)("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"}))),N=[{name:"NNW",ax:0,ay:0,dx:0,dy:2},{name:"N",ax:1,ay:0,dx:1,dy:2},{name:"NNE",ax:2,ay:0,dx:2,dy:2},{name:"ENE",ax:2,ay:0,dx:0,dy:0},{name:"E",ax:2,ay:1,dx:0,dy:1},{name:"ESE",ax:2,ay:2,dx:0,dy:2},{name:"SSE",ax:2,ay:2,dx:2,dy:0},{name:"S",ax:1,ay:2,dx:1,dy:0},{name:"SSW",ax:0,ay:2,dx:0,dy:0},{name:"WSW",ax:0,ay:2,dx:2,dy:2},{name:"W",ax:0,ay:1,dx:2,dy:1},{name:"WNW",ax:0,ay:0,dx:2,dy:0}],P=function(e){function t(){var e,i,a,c;r(this,t);for(var s=arguments.length,p=Array(s),l=0;l<s;l++)p[l]=arguments[l];return i=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),a.align=function(){var e=n.i(h.findDOMNode)(a.props.anchor),r=a.props.caretAnchor?n.i(h.findDOMNode)(a.props.caretAnchor):e;a.cacheViewportCartography(e,r),a.props.matchAnchorWidth&&a.matchAnchorWidth();var o=a.getValidAlignmentPreset(),i=t.getAlignmentClassFragment;a.dialog.$wrapper.className=a.dialog.$wrapper.className.replace(E,"")+" b-popover-anchor-x-"+i(o.ax)+" b-popover-anchor-y-"+i(o.ay)+" b-popover-self-x-"+i(o.dx)+" b-popover-self-y-"+i(o.dy);var c=Math.round(a.getNextDialogXPosition(o)),s=Math.round(a.getNextDialogYPosition(o)),p=a.props.portalProps;console.log(r),a.transformParent=p&&p.style&&(p.style.transform||""),a.dialog.$wrapper.style["transform-origin"]=c+"px, "+s+"px",a.dialog.$wrapper.style[w.a]=a.transformParent+" translate("+c+"px, "+s+"px)";var l=o.name[0],u="N"===l||"S"===l;a.$caret.style[u?"left":"top"]=Math.round(a.getNextCaretXPosition(o))+"px",a.$caret.style[u?"top":"left"]="0px"},a.matchAnchorWidth=function(){a.dialog.$dialog.style.width=a.anchorRect.width+"px"},c=i,o(a,c)}return i(t,e),R(t,[{key:"cacheViewportCartography",value:function(e,t){var n=document.body.getBoundingClientRect();this.anchorRect=e.getBoundingClientRect(),this.caretAnchorRect=t.getBoundingClientRect(),this.bodyLeft=-1*n.left,this.bodyTop=-1*n.top}},{key:"getNextCaretXPosition",value:function(e){var t=e.name,n=(e.ax,e.dx),r=(e.ay,e.dy),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$caret,i=0;return"N"===t[0]||"S"===t[0]?(i=this.caretAnchorRect.left-this.anchorRect.left+this.caretAnchorRect.width/2,1===n?i+=(this.dialog.$wrapper.clientWidth-this.anchorRect.width)/2:2===n&&(i+=this.dialog.$wrapper.clientWidth-this.anchorRect.width)):(i=this.caretAnchorRect.top-this.anchorRect.top+this.caretAnchorRect.height/2,1===r?i+=(this.dialog.$wrapper.clientHeight-this.anchorRect.height)/2:2===r&&(i+=this.dialog.$wrapper.clientHeight-this.anchorRect.height)),i-=o.clientWidth/2}},{key:"getNextDialogXPosition",value:function(e){var t=e.ax,n=e.dx,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.left+this.bodyLeft;switch(t){case 1:o+=this.anchorRect.width/2;break;case 2:o+=this.anchorRect.width}switch(n){case 1:o-=r.clientWidth/2;break;case 2:o-=r.clientWidth}return o}},{key:"getNextDialogYPosition",value:function(e){var t=e.ay,n=e.dy,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.top+this.bodyTop;switch(t){case 1:o+=this.anchorRect.height/2;break;case 2:o+=this.anchorRect.height}switch(n){case 1:o-=r.clientHeight/2;break;case 2:o-=r.clientHeight}return o}},{key:"isPositionValid",value:function(e,t,n){var r=e.name,o=e.ax,i=e.ay,a=(e.dx,e.dy,r[0]);return"N"===a||"S"===a?!("N"===a&&this.anchorRect.top-t<0)&&(!("S"===a&&this.anchorRect.bottom+t>window.innerHeight)&&(0===o?!(this.anchorRect.left+n>window.innerWidth||this.anchorRect.left<0):1===o?!(this.anchorRect.left-n/2<0||this.anchorRect.left+n/2>window.innerWidth):!(this.anchorRect.left-n<0||this.anchorRect.right>window.innerWidth))):"W"!==a&&"E"!==a||!("W"===a&&this.anchorRect.left-n<0)&&(!("E"===a&&this.anchorRect.right+n>window.innerWidth)&&(0===i?!(this.anchorRect.top+t>window.innerHeight||this.anchorRect.top<0):1===i?!(this.anchorRect.top+this.anchorRect.height/2-t/2<0||this.anchorRect.top+this.anchorRect.height/2+t/2>window.innerHeight):!(this.anchorRect.top-t<0||this.anchorRect.bottom>window.innerHeight)))}},{key:"getValidAlignmentPreset",value:function(){var e=this,t=this.dialog.$wrapper.clientWidth,n=this.dialog.$wrapper.clientHeight,r=N.filter(function(r){return e.isPositionValid(r,n,t)});if(-1!==r.indexOf(this.props.preset)||!this.props.autoReposition||!r.length)return this.props.preset;var o=r.filter(function(t){return t.name[0]===e.props.preset.name[0]});if(o.length)return o[0];var i=a(this.props.preset.name),c=r.filter(function(e){return e.name[0]===i});return c.length?c[0]:r[0]}},{key:"componentDidMount",value:function(){this.align(),window.addEventListener("resize",this.align,!0)}},{key:"componentDidUpdate",value:function(){this.align()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.align,!0)}},{key:"render",value:function(){var e=this,r=this.props;return n.i(p.createElement)(g.a,r.portalProps,n.i(p.createElement)(f.a,b({},x()(r,t.internalKeys),{ref:function(t){return e.dialog=t},before:n.i(p.cloneElement)(r.caretComponent,{ref:function(t){return e.$caret=t},className:u()("b-popover-caret",r.caretComponent.props.className)}),className:u()("b-popover",r.className)})))}}],[{key:"getAlignmentClassFragment",value:function(e){switch(e){case 0:return"start";case 1:return"middle";case 2:return"end"}}}]),t}(p.PureComponent);P.preset=N.reduce(function(e,t){return e[t.name]=t,e},{}),P.propTypes=b({},f.a.propTypes,{anchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]).isRequired,autoReposition:s.a.bool,matchAnchorWidth:s.a.bool,caretAnchor:s.a.oneOfType([s.a.instanceOf(HTMLElement),s.a.shape({props:s.a.object})]),caretComponent:s.a.element,portalProps:s.a.shape(g.a.PropTypes),preset:s.a.oneOf([P.preset.NNW,P.preset.N,P.preset.NNE,P.preset.ENE,P.preset.E,P.preset.ESE,P.preset.SSE,P.preset.S,P.preset.SSW,P.preset.WSW,P.preset.W,P.preset.WNW])}),P.defaultProps=b({},f.a.defaultProps,{anchor:void 0,autoReposition:!0,matchAnchorWidth:!1,captureFocus:!1,caretAnchor:void 0,caretComponent:O,closeOnEscKey:!0,closeOnOutsideClick:!0,closeOnOutsideScroll:!0,portalProps:{},preset:P.preset.S}),P.internalKeys=function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}(Object.keys(P.defaultProps),f.a.internalKeys),t.default=P}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGYwNGNmYTYzZjVlOGJjMWQwZTkyIiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtZGlhbG9nXCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1wb3J0YWxcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImNsYXNzbmFtZXNcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3RcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCJ9Iiwid2VicGFjazovLy8uL34vZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL34vcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvaW5kZXguanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJ2YWx1ZSIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJyZXF1aXJlIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJmb3JtYXQiLCJhIiwiYiIsImUiLCJmIiwidmFsaWRhdGVGb3JtYXQiLCJlcnJvciIsInVuZGVmaW5lZCIsIkVycm9yIiwiYXJncyIsImFyZ0luZGV4IiwicmVwbGFjZSIsImZyYW1lc1RvUG9wIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwicHJvcHMiLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJpc1JlcXVpcmVkIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsImJvb2wiLCJmdW5jIiwibnVtYmVyIiwic3RyaW5nIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJpbnN0YW5jZU9mIiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0T3Bwb3NpdGVDYXJkaW5hbCIsImRpcmVjdGlvbiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19jbGFzc25hbWVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfX19kZWZhdWx0IiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNMQVNTX1JFTU9WQUxfUkVHRVgiLCJERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCIsInZpZXdCb3giLCJ4bWxucyIsImNsYXNzTmFtZSIsImZpbGwiLCJwb2ludHMiLCJjb21iaW5hdGlvbnMiLCJheCIsImF5IiwiZHgiLCJkeSIsIlBvcG92ZXIiLCJfUHVyZUNvbXBvbmVudCIsIl9yZWYiLCJfdGVtcCIsIl90aGlzIiwiX3JldCIsIl9sZW4iLCJBcnJheSIsIl9rZXkiLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiY29uY2F0IiwiYWxpZ24iLCJhbmNob3IiLCJjYXJldEFuY2hvciIsImNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeSIsIm1hdGNoQW5jaG9yV2lkdGgiLCJwcmVzZXQiLCJnZXRWYWxpZEFsaWdubWVudFByZXNldCIsImZyYWciLCJnZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50IiwiZGlhbG9nIiwiJHdyYXBwZXIiLCJNYXRoIiwicm91bmQiLCJnZXROZXh0RGlhbG9nWFBvc2l0aW9uIiwiZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbiIsInBwIiwicG9ydGFsUHJvcHMiLCJjb25zb2xlIiwibG9nIiwidHJhbnNmb3JtUGFyZW50Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJjYXJkaW5hbCIsImxvbmdpdHVkaW5hbCIsIiRjYXJldCIsImdldE5leHRDYXJldFhQb3NpdGlvbiIsIiRkaWFsb2ciLCJ3aWR0aCIsImFuY2hvclJlY3QiLCJib2R5UmVjdCIsImRvY3VtZW50IiwiYm9keSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNhcmV0QW5jaG9yUmVjdCIsImJvZHlMZWZ0IiwibGVmdCIsImJvZHlUb3AiLCJ0b3AiLCJfcmVmMiIsImNhcmV0IiwibmV4dFgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImNsaWVudEhlaWdodCIsIl9yZWYzIiwiX3JlZjQiLCJuZXh0WSIsIl9yZWY1IiwicEhlaWdodCIsInBXaWR0aCIsImJvdHRvbSIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsInJpZ2h0IiwiX3RoaXMyIiwidmFsaWRDb21ib3MiLCJmaWx0ZXIiLCJjb25maWciLCJpc1Bvc2l0aW9uVmFsaWQiLCJpbmRleE9mIiwiYXV0b1JlcG9zaXRpb24iLCJiZXN0Q29tYm9zIiwiX3JlZjYiLCJvcHBvc2l0ZUNhcmRpbmFsIiwib2theUNvbWJvcyIsIl9yZWY3IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfdGhpczMiLCJpbnRlcm5hbEtleXMiLCJyZWYiLCJiZWZvcmUiLCJjYXJldENvbXBvbmVudCIsImNvbnN0YW50IiwicmVkdWNlIiwibWFwIiwiZGVmIiwicHJvcFR5cGVzIiwiSFRNTEVsZW1lbnQiLCJOTlciLCJOIiwiTk5FIiwiRU5FIiwiRSIsIkVTRSIsIlNTRSIsIlMiLCJTU1ciLCJXU1ciLCJXIiwiV05XIiwiZGVmYXVsdFByb3BzIiwiY2FwdHVyZUZvY3VzIiwiY2xvc2VPbkVzY0tleSIsImNsb3NlT25PdXRzaWRlQ2xpY2siLCJjbG9zZU9uT3V0c2lkZVNjcm9sbCIsImFycjEiLCJhcnIyIiwiaXRlbSIsImtleXMiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxRQUNFLFNBQVVDLEdDR25CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBSCxPQUdBLElBQUFELEdBQUFLLEVBQUFELElBQ0FFLEVBQUFGLEVBQ0FHLEdBQUEsRUFDQU4sV0FVQSxPQU5BQyxHQUFBRSxHQUFBSSxLQUFBUixFQUFBQyxRQUFBRCxJQUFBQyxRQUFBRSxHQUdBSCxFQUFBTyxHQUFBLEVBR0FQLEVBQUFDLFFBdkJBLEdBQUFJLEtBK0RBLE9B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QU9pRixJQUNmbEcsRUFBUWlCLE9BQU9rRixFQUNmbkcsRUFBUWlCLE9BQU9tRixJQUNmcEcsRUFBUWlCLE9BQU9vRixJQUNmckcsRUFBUWlCLE9BQU9xRixFQUNmdEcsRUFBUWlCLE9BQU9zRixRQXBFTnZHLEVBd0VWd0csYWRlMHJYaEksS2NkMXJYUCxFQUFBbEUsRUFBT3lNLGNBQ1YzRixXQUFReEcsR0FDUm9LLGdCQUFnQixFQUNoQnpELGtCQUFrQixFQUNsQnlGLGNBQWMsRUFDZDNGLGdCQUFhekcsR0FDYmdMLGVBQWdCaEcsRUFDaEJxSCxlQUFlLEVBQ2ZDLHFCQUFxQixFQUNyQkMsc0JBQXNCLEVBQ3RCaEYsZUFDQVgsT0FBUWpCLEVBQVFpQixPQUFPa0YsSUFwRlZuRyxFQXVGVmtGLGFBaEpYLFNBQWlCMkIsRUFBTUMsR0FBUSxNQUFPRCxHQUFLeEMsT0FBTyxTQUFDMEMsR0FBRCxPQUFrQyxJQUF4QkQsRUFBS3RDLFFBQVF1QyxNQWdKdkM3TyxPQUFPOE8sS0FBS2hILEVBQVF3RyxjQUFldkksRUFBQWxFLEVBQU9tTCxjZEEwbVkxSSxFQUE2QixRQUFJIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX3R5cGVvZj10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT09XCJzeW1ib2xcIj9mdW5jdGlvbihvYmope3JldHVybiB0eXBlb2Ygb2JqO306ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZ0eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqO307aWYoZmFsc2Upe3ZhciBSRUFDVF9FTEVNRU5UX1RZUEU9dHlwZW9mIFN5bWJvbD09PSdmdW5jdGlvbicmJlN5bWJvbC5mb3ImJlN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKXx8MHhlYWM3O3ZhciBpc1ZhbGlkRWxlbWVudD1mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3Qpe3JldHVybih0eXBlb2Ygb2JqZWN0PT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihvYmplY3QpKT09PSdvYmplY3QnJiZvYmplY3QhPT1udWxsJiZvYmplY3QuJCR0eXBlb2Y9PT1SRUFDVF9FTEVNRU5UX1RZUEU7fTt2YXIgdGhyb3dPbkRpcmVjdEFjY2Vzcz10cnVlO21vZHVsZS5leHBvcnRzPXJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCx0aHJvd09uRGlyZWN0QWNjZXNzKTt9ZWxzZXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSgpO31cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1kaWFsb2dcIik7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtcG9ydGFsXCIpO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wiKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIik7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGFyZzt9O312YXIgZW1wdHlGdW5jdGlvbj1mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCl7fTtlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zPW1ha2VFbXB0eUZ1bmN0aW9uO2VtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZT1tYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU9bWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw9bWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9O2VtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudD1mdW5jdGlvbihhcmcpe3JldHVybiBhcmc7fTttb2R1bGUuZXhwb3J0cz1lbXB0eUZ1bmN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdmFsaWRhdGVGb3JtYXQ9ZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KXt9O2lmKGZhbHNlKXt2YWxpZGF0ZUZvcm1hdD1mdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpe2lmKGZvcm1hdD09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO319O31mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLGZvcm1hdCxhLGIsYyxkLGUsZil7dmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtpZighY29uZGl0aW9uKXt2YXIgZXJyb3I7aWYoZm9ybWF0PT09dW5kZWZpbmVkKXtlcnJvcj1uZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcrJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7fWVsc2V7dmFyIGFyZ3M9W2EsYixjLGQsZSxmXTt2YXIgYXJnSW5kZXg9MDtlcnJvcj1uZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gYXJnc1thcmdJbmRleCsrXTt9KSk7ZXJyb3IubmFtZT0nSW52YXJpYW50IFZpb2xhdGlvbic7fWVycm9yLmZyYW1lc1RvUG9wPTE7dGhyb3cgZXJyb3I7fX1tb2R1bGUuZXhwb3J0cz1pbnZhcmlhbnQ7XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZW1wdHlGdW5jdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBpbnZhcmlhbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQ9X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzaGltKHByb3BzLHByb3BOYW1lLGNvbXBvbmVudE5hbWUsbG9jYXRpb24scHJvcEZ1bGxOYW1lLHNlY3JldCl7aWYoc2VjcmV0PT09UmVhY3RQcm9wVHlwZXNTZWNyZXQpe3JldHVybjt9aW52YXJpYW50KGZhbHNlLCdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnKydVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnKydSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJyk7fTtzaGltLmlzUmVxdWlyZWQ9c2hpbTtmdW5jdGlvbiBnZXRTaGltKCl7cmV0dXJuIHNoaW07fTt2YXIgUmVhY3RQcm9wVHlwZXM9e2FycmF5OnNoaW0sYm9vbDpzaGltLGZ1bmM6c2hpbSxudW1iZXI6c2hpbSxvYmplY3Q6c2hpbSxzdHJpbmc6c2hpbSxzeW1ib2w6c2hpbSxhbnk6c2hpbSxhcnJheU9mOmdldFNoaW0sZWxlbWVudDpzaGltLGluc3RhbmNlT2Y6Z2V0U2hpbSxub2RlOnNoaW0sb2JqZWN0T2Y6Z2V0U2hpbSxvbmVPZjpnZXRTaGltLG9uZU9mVHlwZTpnZXRTaGltLHNoYXBlOmdldFNoaW0sZXhhY3Q6Z2V0U2hpbX07UmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXM9ZW1wdHlGdW5jdGlvbjtSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXM9UmVhY3RQcm9wVHlwZXM7cmV0dXJuIFJlYWN0UHJvcFR5cGVzO307XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQ9J1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJzttb2R1bGUuZXhwb3J0cz1SZWFjdFByb3BUeXBlc1NlY3JldDtcblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fXyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X2RvbV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X2RvbV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2NsYXNzbmFtZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfZGlhbG9nX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X18pO1xudmFyIF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHRhcmdldCl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIHNvdXJjZT1hcmd1bWVudHNbaV07Zm9yKHZhciBrZXkgaW4gc291cmNlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLGtleSkpe3RhcmdldFtrZXldPXNvdXJjZVtrZXldO319fXJldHVybiB0YXJnZXQ7fTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZihcInZhbHVlXCJpbiBkZXNjcmlwdG9yKWRlc2NyaXB0b3Iud3JpdGFibGU9dHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe2lmKHByb3RvUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO307fSgpO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTt9fWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTt9cmV0dXJuIGNhbGwmJih0eXBlb2YgY2FsbD09PVwib2JqZWN0XCJ8fHR5cGVvZiBjYWxsPT09XCJmdW5jdGlvblwiKT9jYWxsOnNlbGY7fWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZih0eXBlb2Ygc3VwZXJDbGFzcyE9PVwiZnVuY3Rpb25cIiYmc3VwZXJDbGFzcyE9PW51bGwpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTt9c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7aWYoc3VwZXJDbGFzcylPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzO31mdW5jdGlvbiBnZXRPcHBvc2l0ZUNhcmRpbmFsKGRpcmVjdGlvbil7c3dpdGNoKGRpcmVjdGlvblswXSl7Y2FzZSdOJzpyZXR1cm4nUyc7Y2FzZSdTJzpyZXR1cm4nTic7Y2FzZSdFJzpyZXR1cm4nVyc7fXJldHVybidFJzt9ZnVuY3Rpb24gd2l0aG91dChhcnIxLGFycjIpe3JldHVybiBhcnIxLmZpbHRlcihmdW5jdGlvbihpdGVtKXtyZXR1cm4gYXJyMi5pbmRleE9mKGl0ZW0pPT09LTE7fSk7fXZhciBDTEFTU19SRU1PVkFMX1JFR0VYPS9cXHM/Yi1wb3BvdmVyLShhbmNob3J8c2VsZiktKHN0YXJ0fG1pZGRsZXxlbmQpL2c7dmFyIERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5UPV9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdzdmcnLHt2aWV3Qm94OicwIDAgMTQgOS41Jyx4bWxuczonaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnfSxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKSgnZycsbnVsbCxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKSgncG9seWdvbicse2NsYXNzTmFtZTonYi1wb3BvdmVyLWNhcmV0LWJvcmRlcicsZmlsbDonIzAwMCcscG9pbnRzOic3IDAgMTQgMTAgMCAxMCd9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKSgncG9seWdvbicse2NsYXNzTmFtZTonYi1wb3BvdmVyLWNhcmV0LWZpbGwnLGZpbGw6JyNGRkYnLHBvaW50czonNi45ODIzMDQ0NCAxLjc1IDEyLjc1IDEwIDEuMjUgMTAnfSkpKTt2YXIgU1RBUlQ9MDt2YXIgTUlERExFPTE7dmFyIEVORD0yO3ZhciBjb21iaW5hdGlvbnM9W3tuYW1lOidOTlcnLGF4OlNUQVJULGF5OlNUQVJULGR4OlNUQVJULGR5OkVORH0se25hbWU6J04nLGF4Ok1JRERMRSxheTpTVEFSVCxkeDpNSURETEUsZHk6RU5EfSx7bmFtZTonTk5FJyxheDpFTkQsYXk6U1RBUlQsZHg6RU5ELGR5OkVORH0se25hbWU6J0VORScsYXg6RU5ELGF5OlNUQVJULGR4OlNUQVJULGR5OlNUQVJUfSx7bmFtZTonRScsYXg6RU5ELGF5Ok1JRERMRSxkeDpTVEFSVCxkeTpNSURETEV9LHtuYW1lOidFU0UnLGF4OkVORCxheTpFTkQsZHg6U1RBUlQsZHk6RU5EfSx7bmFtZTonU1NFJyxheDpFTkQsYXk6RU5ELGR4OkVORCxkeTpTVEFSVH0se25hbWU6J1MnLGF4Ok1JRERMRSxheTpFTkQsZHg6TUlERExFLGR5OlNUQVJUfSx7bmFtZTonU1NXJyxheDpTVEFSVCxheTpFTkQsZHg6U1RBUlQsZHk6U1RBUlR9LHtuYW1lOidXU1cnLGF4OlNUQVJULGF5OkVORCxkeDpFTkQsZHk6RU5EfSx7bmFtZTonVycsYXg6U1RBUlQsYXk6TUlERExFLGR4OkVORCxkeTpNSURETEV9LHtuYW1lOidXTlcnLGF4OlNUQVJULGF5OlNUQVJULGR4OkVORCxkeTpTVEFSVH1dO3ZhciBQb3BvdmVyPWZ1bmN0aW9uKF9QdXJlQ29tcG9uZW50KXtfaW5oZXJpdHMoUG9wb3ZlcixfUHVyZUNvbXBvbmVudCk7ZnVuY3Rpb24gUG9wb3Zlcigpe3ZhciBfcmVmO3ZhciBfdGVtcCxfdGhpcyxfcmV0O19jbGFzc0NhbGxDaGVjayh0aGlzLFBvcG92ZXIpO2Zvcih2YXIgX2xlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkoX2xlbiksX2tleT0wO19rZXk8X2xlbjtfa2V5Kyspe2FyZ3NbX2tleV09YXJndW1lbnRzW19rZXldO31yZXR1cm4gX3JldD0oX3RlbXA9KF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKF9yZWY9UG9wb3Zlci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3BvdmVyKSkuY2FsbC5hcHBseShfcmVmLFt0aGlzXS5jb25jYXQoYXJncykpKSxfdGhpcyksX3RoaXMuYWxpZ249ZnVuY3Rpb24oKXt2YXIgYW5jaG9yPV9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfZG9tX19bXCJmaW5kRE9NTm9kZVwiXSkoX3RoaXMucHJvcHMuYW5jaG9yKTt2YXIgY2FyZXRBbmNob3I9X3RoaXMucHJvcHMuY2FyZXRBbmNob3I/X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9kb21fX1tcImZpbmRET01Ob2RlXCJdKShfdGhpcy5wcm9wcy5jYXJldEFuY2hvcik6YW5jaG9yO190aGlzLmNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsY2FyZXRBbmNob3IpO2lmKF90aGlzLnByb3BzLm1hdGNoQW5jaG9yV2lkdGgpe190aGlzLm1hdGNoQW5jaG9yV2lkdGgoKTt9dmFyIHByZXNldD1fdGhpcy5nZXRWYWxpZEFsaWdubWVudFByZXNldCgpO3ZhciBmcmFnPVBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtfdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xhc3NOYW1lPV90aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCcnKSsoJyBiLXBvcG92ZXItYW5jaG9yLXgtJytmcmFnKHByZXNldC5heCkpKygnIGItcG9wb3Zlci1hbmNob3IteS0nK2ZyYWcocHJlc2V0LmF5KSkrKCcgYi1wb3BvdmVyLXNlbGYteC0nK2ZyYWcocHJlc2V0LmR4KSkrKCcgYi1wb3BvdmVyLXNlbGYteS0nK2ZyYWcocHJlc2V0LmR5KSk7dmFyIGR4PU1hdGgucm91bmQoX3RoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihwcmVzZXQpKTt2YXIgZHk9TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0RGlhbG9nWVBvc2l0aW9uKHByZXNldCkpO3ZhciBwcD1fdGhpcy5wcm9wcy5wb3J0YWxQcm9wcztjb25zb2xlLmxvZyhjYXJldEFuY2hvcik7X3RoaXMudHJhbnNmb3JtUGFyZW50PXBwJiZwcC5zdHlsZSYmKHBwLnN0eWxlLnRyYW5zZm9ybXx8JycpO190aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZVsndHJhbnNmb3JtLW9yaWdpbiddPWR4KydweCwgJytkeSsncHgnO190aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZVtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fX2RlZmF1bHQuYV09X3RoaXMudHJhbnNmb3JtUGFyZW50KycgdHJhbnNsYXRlKCcrZHgrJ3B4LCAnK2R5KydweCknO3ZhciBjYXJkaW5hbD1wcmVzZXQubmFtZVswXTt2YXIgbG9uZ2l0dWRpbmFsPWNhcmRpbmFsPT09J04nfHxjYXJkaW5hbD09PSdTJztfdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsPydsZWZ0JzondG9wJ109TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0Q2FyZXRYUG9zaXRpb24ocHJlc2V0KSkrJ3B4JztfdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsPyd0b3AnOidsZWZ0J109JzBweCc7fSxfdGhpcy5tYXRjaEFuY2hvcldpZHRoPWZ1bmN0aW9uKCl7dmFyIGRpYWxvZz1fdGhpcy5kaWFsb2cuJGRpYWxvZztkaWFsb2cuc3R5bGUud2lkdGg9X3RoaXMuYW5jaG9yUmVjdC53aWR0aCsncHgnO30sX3RlbXApLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLF9yZXQpO31fY3JlYXRlQ2xhc3MoUG9wb3Zlcixbe2tleTonY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5Jyx2YWx1ZTpmdW5jdGlvbiBjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLGNhcmV0QW5jaG9yKXt2YXIgYm9keVJlY3Q9ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmFuY2hvclJlY3Q9YW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuY2FyZXRBbmNob3JSZWN0PWNhcmV0QW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuYm9keUxlZnQ9Ym9keVJlY3QubGVmdCotMTt0aGlzLmJvZHlUb3A9Ym9keVJlY3QudG9wKi0xO319LHtrZXk6J2dldE5leHRDYXJldFhQb3NpdGlvbicsdmFsdWU6ZnVuY3Rpb24gZ2V0TmV4dENhcmV0WFBvc2l0aW9uKF9yZWYyKXt2YXIgbmFtZT1fcmVmMi5uYW1lLGF4PV9yZWYyLmF4LGR4PV9yZWYyLmR4LGF5PV9yZWYyLmF5LGR5PV9yZWYyLmR5O3ZhciBjYXJldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06dGhpcy4kY2FyZXQ7dmFyIG5leHRYPTA7aWYobmFtZVswXT09PSdOJ3x8bmFtZVswXT09PSdTJyl7bmV4dFg9dGhpcy5jYXJldEFuY2hvclJlY3QubGVmdC10aGlzLmFuY2hvclJlY3QubGVmdCt0aGlzLmNhcmV0QW5jaG9yUmVjdC53aWR0aC8yO2lmKGR4PT09TUlERExFKXtuZXh0WCs9KHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoLXRoaXMuYW5jaG9yUmVjdC53aWR0aCkvMjt9ZWxzZSBpZihkeD09PUVORCl7bmV4dFgrPXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoLXRoaXMuYW5jaG9yUmVjdC53aWR0aDt9fWVsc2V7bmV4dFg9dGhpcy5jYXJldEFuY2hvclJlY3QudG9wLXRoaXMuYW5jaG9yUmVjdC50b3ArdGhpcy5jYXJldEFuY2hvclJlY3QuaGVpZ2h0LzI7aWYoZHk9PT1NSURETEUpe25leHRYKz0odGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0LXRoaXMuYW5jaG9yUmVjdC5oZWlnaHQpLzI7fWVsc2UgaWYoZHk9PT1FTkQpe25leHRYKz10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQtdGhpcy5hbmNob3JSZWN0LmhlaWdodDt9fW5leHRYLT1jYXJldC5jbGllbnRXaWR0aC8yO3JldHVybiBuZXh0WDt9fSx7a2V5OidnZXROZXh0RGlhbG9nWFBvc2l0aW9uJyx2YWx1ZTpmdW5jdGlvbiBnZXROZXh0RGlhbG9nWFBvc2l0aW9uKF9yZWYzKXt2YXIgYXg9X3JlZjMuYXgsZHg9X3JlZjMuZHg7dmFyIGRpYWxvZz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06dGhpcy5kaWFsb2cuJHdyYXBwZXI7dmFyIG5leHRYPXRoaXMuYW5jaG9yUmVjdC5sZWZ0K3RoaXMuYm9keUxlZnQ7c3dpdGNoKGF4KXtjYXNlIE1JRERMRTpuZXh0WCs9dGhpcy5hbmNob3JSZWN0LndpZHRoLzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFgrPXRoaXMuYW5jaG9yUmVjdC53aWR0aDticmVhazt9c3dpdGNoKGR4KXtjYXNlIE1JRERMRTpuZXh0WC09ZGlhbG9nLmNsaWVudFdpZHRoLzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFgtPWRpYWxvZy5jbGllbnRXaWR0aDticmVhazt9cmV0dXJuIG5leHRYO319LHtrZXk6J2dldE5leHREaWFsb2dZUG9zaXRpb24nLHZhbHVlOmZ1bmN0aW9uIGdldE5leHREaWFsb2dZUG9zaXRpb24oX3JlZjQpe3ZhciBheT1fcmVmNC5heSxkeT1fcmVmNC5keTt2YXIgZGlhbG9nPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLmRpYWxvZy4kd3JhcHBlcjt2YXIgbmV4dFk9dGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmJvZHlUb3A7c3dpdGNoKGF5KXtjYXNlIE1JRERMRTpuZXh0WSs9dGhpcy5hbmNob3JSZWN0LmhlaWdodC8yO2JyZWFrO2Nhc2UgRU5EOm5leHRZKz10aGlzLmFuY2hvclJlY3QuaGVpZ2h0O2JyZWFrO31zd2l0Y2goZHkpe2Nhc2UgTUlERExFOm5leHRZLT1kaWFsb2cuY2xpZW50SGVpZ2h0LzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFktPWRpYWxvZy5jbGllbnRIZWlnaHQ7YnJlYWs7fXJldHVybiBuZXh0WTt9fSx7a2V5Oidpc1Bvc2l0aW9uVmFsaWQnLHZhbHVlOmZ1bmN0aW9uIGlzUG9zaXRpb25WYWxpZChfcmVmNSxwSGVpZ2h0LHBXaWR0aCl7dmFyIG5hbWU9X3JlZjUubmFtZSxheD1fcmVmNS5heCxheT1fcmVmNS5heSxkeD1fcmVmNS5keCxkeT1fcmVmNS5keTt2YXIgY2FyZGluYWw9bmFtZVswXTtpZihjYXJkaW5hbD09PSdOJ3x8Y2FyZGluYWw9PT0nUycpe2lmKGNhcmRpbmFsPT09J04nJiZ0aGlzLmFuY2hvclJlY3QudG9wLXBIZWlnaHQ8MCl7cmV0dXJuIGZhbHNlO31lbHNlIGlmKGNhcmRpbmFsPT09J1MnJiZ0aGlzLmFuY2hvclJlY3QuYm90dG9tK3BIZWlnaHQ+d2luZG93LmlubmVySGVpZ2h0KXtyZXR1cm4gZmFsc2U7fWlmKGF4PT09U1RBUlQpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LmxlZnQrcFdpZHRoPndpbmRvdy5pbm5lcldpZHRofHx0aGlzLmFuY2hvclJlY3QubGVmdDwwKTt9ZWxzZSBpZihheD09PU1JRERMRSl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGgvMjwwfHx0aGlzLmFuY2hvclJlY3QubGVmdCtwV2lkdGgvMj53aW5kb3cuaW5uZXJXaWR0aCk7fXJldHVybiEodGhpcy5hbmNob3JSZWN0LmxlZnQtcFdpZHRoPDB8fHRoaXMuYW5jaG9yUmVjdC5yaWdodD53aW5kb3cuaW5uZXJXaWR0aCk7fWVsc2UgaWYoY2FyZGluYWw9PT0nVyd8fGNhcmRpbmFsPT09J0UnKXtpZihjYXJkaW5hbD09PSdXJyYmdGhpcy5hbmNob3JSZWN0LmxlZnQtcFdpZHRoPDApe3JldHVybiBmYWxzZTt9ZWxzZSBpZihjYXJkaW5hbD09PSdFJyYmdGhpcy5hbmNob3JSZWN0LnJpZ2h0K3BXaWR0aD53aW5kb3cuaW5uZXJXaWR0aCl7cmV0dXJuIGZhbHNlO31pZihheT09PVNUQVJUKXtyZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC50b3ArcEhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHR8fHRoaXMuYW5jaG9yUmVjdC50b3A8MCk7fWVsc2UgaWYoYXk9PT1NSURETEUpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzItcEhlaWdodC8yPDB8fHRoaXMuYW5jaG9yUmVjdC50b3ArdGhpcy5hbmNob3JSZWN0LmhlaWdodC8yK3BIZWlnaHQvMj53aW5kb3cuaW5uZXJIZWlnaHQpO31yZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC50b3AtcEhlaWdodDwwfHx0aGlzLmFuY2hvclJlY3QuYm90dG9tPndpbmRvdy5pbm5lckhlaWdodCk7fXJldHVybiB0cnVlO319LHtrZXk6J2dldFZhbGlkQWxpZ25tZW50UHJlc2V0Jyx2YWx1ZTpmdW5jdGlvbiBnZXRWYWxpZEFsaWdubWVudFByZXNldCgpe3ZhciBfdGhpczI9dGhpczt2YXIgd2lkdGg9dGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGg7dmFyIGhlaWdodD10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQ7dmFyIHZhbGlkQ29tYm9zPWNvbWJpbmF0aW9ucy5maWx0ZXIoZnVuY3Rpb24oY29uZmlnKXtyZXR1cm4gX3RoaXMyLmlzUG9zaXRpb25WYWxpZChjb25maWcsaGVpZ2h0LHdpZHRoKTt9KTtpZih2YWxpZENvbWJvcy5pbmRleE9mKHRoaXMucHJvcHMucHJlc2V0KSE9PS0xfHwhdGhpcy5wcm9wcy5hdXRvUmVwb3NpdGlvbnx8IXZhbGlkQ29tYm9zLmxlbmd0aCl7cmV0dXJuIHRoaXMucHJvcHMucHJlc2V0O312YXIgYmVzdENvbWJvcz12YWxpZENvbWJvcy5maWx0ZXIoZnVuY3Rpb24oX3JlZjYpe3ZhciBuYW1lPV9yZWY2Lm5hbWU7cmV0dXJuIG5hbWVbMF09PT1fdGhpczIucHJvcHMucHJlc2V0Lm5hbWVbMF07fSk7aWYoYmVzdENvbWJvcy5sZW5ndGgpe3JldHVybiBiZXN0Q29tYm9zWzBdO312YXIgb3Bwb3NpdGVDYXJkaW5hbD1nZXRPcHBvc2l0ZUNhcmRpbmFsKHRoaXMucHJvcHMucHJlc2V0Lm5hbWUpO3ZhciBva2F5Q29tYm9zPXZhbGlkQ29tYm9zLmZpbHRlcihmdW5jdGlvbihfcmVmNyl7dmFyIG5hbWU9X3JlZjcubmFtZTtyZXR1cm4gbmFtZVswXT09PW9wcG9zaXRlQ2FyZGluYWw7fSk7aWYob2theUNvbWJvcy5sZW5ndGgpe3JldHVybiBva2F5Q29tYm9zWzBdO31yZXR1cm4gdmFsaWRDb21ib3NbMF07fX0se2tleTonY29tcG9uZW50RGlkTW91bnQnLHZhbHVlOmZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCl7dGhpcy5hbGlnbigpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLHRoaXMuYWxpZ24sdHJ1ZSk7fX0se2tleTonY29tcG9uZW50RGlkVXBkYXRlJyx2YWx1ZTpmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKXt0aGlzLmFsaWduKCk7fX0se2tleTonY29tcG9uZW50V2lsbFVubW91bnQnLHZhbHVlOmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsdGhpcy5hbGlnbix0cnVlKTt9fSx7a2V5OidyZW5kZXInLHZhbHVlOmZ1bmN0aW9uIHJlbmRlcigpe3ZhciBfdGhpczM9dGhpczt2YXIgcHJvcHM9dGhpcy5wcm9wcztyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc19wb3J0YWxfX19kZWZhdWx0LmEscHJvcHMucG9ydGFsUHJvcHMsX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEsX2V4dGVuZHMoe30sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfX19kZWZhdWx0KCkocHJvcHMsUG9wb3Zlci5pbnRlcm5hbEtleXMpLHtyZWY6ZnVuY3Rpb24gcmVmKGluc3RhbmNlKXtyZXR1cm4gX3RoaXMzLmRpYWxvZz1pbnN0YW5jZTt9LGJlZm9yZTpfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJjbG9uZUVsZW1lbnRcIl0pKHByb3BzLmNhcmV0Q29tcG9uZW50LHtyZWY6ZnVuY3Rpb24gcmVmKG5vZGUpe3JldHVybiBfdGhpczMuJGNhcmV0PW5vZGU7fSxjbGFzc05hbWU6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoJ2ItcG9wb3Zlci1jYXJldCcscHJvcHMuY2FyZXRDb21wb25lbnQucHJvcHMuY2xhc3NOYW1lKX0pLGNsYXNzTmFtZTpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKSgnYi1wb3BvdmVyJyxwcm9wcy5jbGFzc05hbWUpfSkpKTt9fV0sW3trZXk6J2dldEFsaWdubWVudENsYXNzRnJhZ21lbnQnLHZhbHVlOmZ1bmN0aW9uIGdldEFsaWdubWVudENsYXNzRnJhZ21lbnQoY29uc3RhbnQpe3N3aXRjaChjb25zdGFudCl7Y2FzZSBTVEFSVDpyZXR1cm4nc3RhcnQnO2Nhc2UgTUlERExFOnJldHVybidtaWRkbGUnO2Nhc2UgRU5EOnJldHVybidlbmQnO319fV0pO3JldHVybiBQb3BvdmVyO30oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtQb3BvdmVyLnByZXNldD1jb21iaW5hdGlvbnMucmVkdWNlKGZ1bmN0aW9uKG1hcCxkZWYpe3JldHVybiBtYXBbZGVmLm5hbWVdPWRlZixtYXA7fSx7fSk7UG9wb3Zlci5wcm9wVHlwZXM9X2V4dGVuZHMoe30sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEucHJvcFR5cGVzLHthbmNob3I6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEub25lT2ZUeXBlKFtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5zaGFwZSh7cHJvcHM6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEub2JqZWN0fSldKS5pc1JlcXVpcmVkLGF1dG9SZXBvc2l0aW9uOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmJvb2wsbWF0Y2hBbmNob3JXaWR0aDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5ib29sLGNhcmV0QW5jaG9yOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLm9uZU9mVHlwZShbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuaW5zdGFuY2VPZihIVE1MRWxlbWVudCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuc2hhcGUoe3Byb3BzOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLm9iamVjdH0pXSksY2FyZXRDb21wb25lbnQ6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuZWxlbWVudCxwb3J0YWxQcm9wczpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5zaGFwZShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQuYS5Qcm9wVHlwZXMpLHByZXNldDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQuYS5vbmVPZihbUG9wb3Zlci5wcmVzZXQuTk5XLFBvcG92ZXIucHJlc2V0Lk4sUG9wb3Zlci5wcmVzZXQuTk5FLFBvcG92ZXIucHJlc2V0LkVORSxQb3BvdmVyLnByZXNldC5FLFBvcG92ZXIucHJlc2V0LkVTRSxQb3BvdmVyLnByZXNldC5TU0UsUG9wb3Zlci5wcmVzZXQuUyxQb3BvdmVyLnByZXNldC5TU1csUG9wb3Zlci5wcmVzZXQuV1NXLFBvcG92ZXIucHJlc2V0LlcsUG9wb3Zlci5wcmVzZXQuV05XXSl9KTtQb3BvdmVyLmRlZmF1bHRQcm9wcz1fZXh0ZW5kcyh7fSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYS5kZWZhdWx0UHJvcHMse2FuY2hvcjp1bmRlZmluZWQsYXV0b1JlcG9zaXRpb246dHJ1ZSxtYXRjaEFuY2hvcldpZHRoOmZhbHNlLGNhcHR1cmVGb2N1czpmYWxzZSxjYXJldEFuY2hvcjp1bmRlZmluZWQsY2FyZXRDb21wb25lbnQ6REVGQVVMVF9DQVJFVF9DT01QT05FTlQsY2xvc2VPbkVzY0tleTp0cnVlLGNsb3NlT25PdXRzaWRlQ2xpY2s6dHJ1ZSxjbG9zZU9uT3V0c2lkZVNjcm9sbDp0cnVlLHBvcnRhbFByb3BzOnt9LHByZXNldDpQb3BvdmVyLnByZXNldC5TfSk7UG9wb3Zlci5pbnRlcm5hbEtleXM9d2l0aG91dChPYmplY3Qua2V5cyhQb3BvdmVyLmRlZmF1bHRQcm9wcyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEuaW50ZXJuYWxLZXlzKTsvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFBvcG92ZXIpO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGluZGV4LmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZjA0Y2ZhNjNmNWU4YmMxZDBlOTIiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3Byb3AtdHlwZXMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtZGlhbG9nXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLWRpYWxvZ1wifVxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtcG9ydGFsXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXBvcnRhbFwifVxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wifVxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eVwifVxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiY2xhc3NuYW1lc1wifVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcInJlYWN0XCJ9XG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcInJlYWN0LWRvbVwifVxuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG4gKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cbiAqL1xudmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9mYmpzL2xpYi9pbnZhcmlhbnQuanMiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgZmFsc2UsXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZmluZERPTU5vZGUgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgRGlhbG9nIGZyb20gJ2JvdW5kbGVzcy1kaWFsb2cnO1xuaW1wb3J0IFBvcnRhbCBmcm9tICdib3VuZGxlc3MtcG9ydGFsJztcbmltcG9ydCBvbWl0IGZyb20gJ2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMnO1xuaW1wb3J0IHRyYW5zZm9ybVByb3AgZnJvbSAnYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eSc7XG5cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQ2FyZGluYWwoZGlyZWN0aW9uKSB7XG4gICAgc3dpdGNoIChkaXJlY3Rpb25bMF0pIHtcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICByZXR1cm4gJ1MnO1xuICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICAgIHJldHVybiAnTic7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgcmV0dXJuICdXJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ0UnO1xufVxuXG5mdW5jdGlvbiB3aXRob3V0KGFycjEsIGFycjIpIHsgcmV0dXJuIGFycjEuZmlsdGVyKChpdGVtKSA9PiBhcnIyLmluZGV4T2YoaXRlbSkgPT09IC0xKTsgfVxuXG5jb25zdCBDTEFTU19SRU1PVkFMX1JFR0VYID0gL1xccz9iLXBvcG92ZXItKGFuY2hvcnxzZWxmKS0oc3RhcnR8bWlkZGxlfGVuZCkvZztcblxuY29uc3QgREVGQVVMVF9DQVJFVF9DT01QT05FTlQgPSAoXG4gICAgPHN2ZyB2aWV3Qm94PScwIDAgMTQgOS41JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPlxuICAgICAgICA8Zz5cbiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzTmFtZT0nYi1wb3BvdmVyLWNhcmV0LWJvcmRlcicgZmlsbD0nIzAwMCcgcG9pbnRzPSc3IDAgMTQgMTAgMCAxMCcgLz5cbiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzTmFtZT0nYi1wb3BvdmVyLWNhcmV0LWZpbGwnIGZpbGw9JyNGRkYnIHBvaW50cz0nNi45ODIzMDQ0NCAxLjc1IDEyLjc1IDEwIDEuMjUgMTAnIC8+XG4gICAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbik7XG5cbmNvbnN0IFNUQVJUID0gMDtcbmNvbnN0IE1JRERMRSA9IDE7XG5jb25zdCBFTkQgPSAyO1xuXG5jb25zdCBjb21iaW5hdGlvbnMgPSBbXG4gICAgeyBuYW1lOiAnTk5XJywgYXg6IFNUQVJULCBheTogU1RBUlQsIGR4OiBTVEFSVCwgZHk6IEVORCB9LFxuICAgIHsgbmFtZTogJ04nLCBheDogTUlERExFLCBheTogU1RBUlQsIGR4OiBNSURETEUsIGR5OiBFTkQgfSxcbiAgICB7IG5hbWU6ICdOTkUnLCBheDogRU5ELCBheTogU1RBUlQsIGR4OiBFTkQsIGR5OiBFTkQgfSxcbiAgICB7IG5hbWU6ICdFTkUnLCBheDogRU5ELCBheTogU1RBUlQsIGR4OiBTVEFSVCwgZHk6IFNUQVJUIH0sXG4gICAgeyBuYW1lOiAnRScsIGF4OiBFTkQsIGF5OiBNSURETEUsIGR4OiBTVEFSVCwgZHk6IE1JRERMRSB9LFxuICAgIHsgbmFtZTogJ0VTRScsIGF4OiBFTkQsIGF5OiBFTkQsIGR4OiBTVEFSVCwgZHk6IEVORCB9LFxuICAgIHsgbmFtZTogJ1NTRScsIGF4OiBFTkQsIGF5OiBFTkQsIGR4OiBFTkQsIGR5OiBTVEFSVCB9LFxuICAgIHsgbmFtZTogJ1MnLCBheDogTUlERExFLCBheTogRU5ELCBkeDogTUlERExFLCBkeTogU1RBUlQgfSxcbiAgICB7IG5hbWU6ICdTU1cnLCBheDogU1RBUlQsIGF5OiBFTkQsIGR4OiBTVEFSVCwgZHk6IFNUQVJUIH0sXG4gICAgeyBuYW1lOiAnV1NXJywgYXg6IFNUQVJULCBheTogRU5ELCBkeDogRU5ELCBkeTogRU5EIH0sXG4gICAgeyBuYW1lOiAnVycsIGF4OiBTVEFSVCwgYXk6IE1JRERMRSwgZHg6IEVORCwgZHk6IE1JRERMRSB9LFxuICAgIHsgbmFtZTogJ1dOVycsIGF4OiBTVEFSVCwgYXk6IFNUQVJULCBkeDogRU5ELCBkeTogU1RBUlQgfSxcbl07XG5cbi8qKlxuQSBwb3BvdmVyIGlzIGEgdHlwZSBvZiBbRGlhbG9nXShodHRwczovL2dpdGh1Yi5jb20vZW5pZ21hLWlvL2JvdW5kbGVzcy90cmVlL21hc3Rlci9wYWNrYWdlcy9ib3VuZGxlc3MtZGlhbG9nKSB0aGF0IGlzIG1lYW50IHRvIHByb3ZpZGUgYWRkaXRpb25hbCBjb250ZXh0IHRvIGNvbnRlbnQgKGFuIFwiYW5jaG9yXCIpIGN1cnJlbnRseSBvbi1zY3JlZW4uIFR5cGljYWxseSwgYSBwb3BvdmVyIGlzIHNwYXduZWQgYnkgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgY29udGVudCBpdCBlbnJpY2hlcyBhbmQgaXMgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIG9yIHNoaWZ0aW5nIGZvY3VzIHRvIGFuIGFsdGVybmF0ZSBsb2NhdGlvbi5cblxuQWxpZ25tZW50IG9wdGlvbnMgZm9yIHRoZSBwb3BvdmVyIGFyZSBkZXNpZ25lZCB0byBtaXJyb3IgY29tcGFzcyBkaXJlY3Rpb25zOlxuXG5gYGBcbiAgICAgICDihpIgICAgICAg4oaQXG4gICAgICBOTlcgIE4gIE5ORVxu4oaTIFdOVyAgICAgICAgICAgICBFTkUg4oaTXG4gICAgVyAgIEFOQ0hPUiAgICBFXG7ihpEgV1NXICAgICAgICAgICAgIEVTRSDihpFcbiAgICAgIFNTVyAgUyAgU1NFXG4gICAgICAg4oaSICAgICAgIOKGkFxuYGBgXG5cblRoZSBhcnJvd3MgaW5kaWNhdGUgd2hpY2ggd2F5IHRoZSBwb3BvdmVyIHdpbGwgZXh0ZW5kLCBlLmcuIOKGkiBtZWFucyB0aGUgcG9wb3ZlciBpcyBhbGlnbmVkIHRvIHRoZSBsZWZ0IGVkZ2UgYW5kIGV4dGVuZHMgaW4gdGhhdCBkaXJlY3Rpb24uIERpYWdvbmFsIGNvcm5lcnMgKE5XLCBORSwgU0UsIFNXKSBhcmUgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuXG5cbmBgYGpzeFxuPFBvcG92ZXJcbiAgICBhbmNob3I9e2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb21lLWFuY2hvci1lbGVtZW50Jyl9XG4gICAgcHJlc2V0PXtQb3BvdmVyLnByZXNldC5OfT5cbiAgICBNeSBwb3BvdmVyIGNvbnRlbnQhXG48L1BvcG92ZXI+XG5gYGBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wb3ZlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZXF1ZW5jZXNcbiAgICBzdGF0aWMgcHJlc2V0ID0gY29tYmluYXRpb25zLnJlZHVjZSgobWFwLCBkZWYpID0+ICgobWFwW2RlZi5uYW1lXSA9IGRlZiksIG1hcCksIHt9KVxuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLi4uRGlhbG9nLnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBET00gZWxlbWVudCBvciBSZWFjdCByZWZlcmVuY2UgKHJlZikgdG8gb25lIGZvciBwb3NpdGlvbmluZyBwdXJwb3Nlc1xuICAgICAgICAgKi9cbiAgICAgICAgYW5jaG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgcHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXSkuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogaWYgdGhlIGdpdmVuIGFsaWdubWVudCBzZXR0aW5ncyB3b3VsZCB0YWtlIHRoZSBwb3BvdmVyIG91dCBvZiBib3VuZHMsIGNoYW5nZSB0aGUgYWxpZ25tZW50IGFzIG5lY2Vzc2FyeSB0byByZW1haW4gaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAqL1xuICAgICAgICBhdXRvUmVwb3NpdGlvbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICBpZiBwb3BvdmVyIGVsZW1lbnQgc2hvdWxkIG1hdGNoIHRoZSBhbmNob3JcbiAgICAgICAgICovXG4gICAgICAgIG1hdGNoQW5jaG9yV2lkdGg6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIERPTSBlbGVtZW50IG9yIFJlYWN0IHJlZmVyZW5jZSAocmVmKSB0byBvbmUgZm9yIHBvc2l0aW9uaW5nIHB1cnBvc2VzLCB0aGUgY2FyZXQgY29tcG9uZW50IHdpbGxcbiAgICAgICAgICogYmUgYXV0b21hdGljYWxseSBwb3NpdGlvbmVkIHRvIGNlbnRlciBvbiB0aGlzIHByb3ZpZGVkIGFuY2hvcjsgYnkgZGVmYXVsdCBpdCB3aWxsIGNlbnRlclxuICAgICAgICAgKiBvbiBgcHJvcHMuYW5jaG9yYFxuICAgICAgICAgKi9cbiAgICAgICAgY2FyZXRBbmNob3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgUHJvcFR5cGVzLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICBwcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIEpTWCB0aGF0IGlzIHJlbmRlcmVkIGFuZCB1c2VkIHRvIHBvaW50IGF0IHRoZSBtaWRkbGUgb2YgdGhlIGFuY2hvciBlbGVtZW50IGFuZCBpbmRpY2F0ZSB0aGUgY29udGV4dCBvZiB0aGUgcG9wb3ZlclxuICAgICAgICAgKi9cbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50LFxuXG4gICAgICAgIHBvcnRhbFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoUG9ydGFsLlByb3BUeXBlcyksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4YW1wbGU6XG4gICAgICAgICAqIGBgYGpzeFxuICAgICAgICAgKiA8UG9wb3ZlclxuICAgICAgICAgKiAgICAgYW5jaG9yPXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc29tZS1hbmNob3ItZWxlbWVudCcpfVxuICAgICAgICAgKiAgICAgcHJlc2V0PXtQb3BvdmVyLnByZXNldC5OTkV9PlxuICAgICAgICAgKiAgICAgTXkgcG9wb3ZlciBjb250ZW50IVxuICAgICAgICAgKiA8L1BvcG92ZXI+XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgcHJlc2V0OiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTk5XLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTixcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0Lk5ORSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkVORSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkUsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5FU0UsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TU0UsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuU1NXLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuV1NXLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LldOVyxcbiAgICAgICAgXSksXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgLi4uRGlhbG9nLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgYW5jaG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGF1dG9SZXBvc2l0aW9uOiB0cnVlLFxuICAgICAgICBtYXRjaEFuY2hvcldpZHRoOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZUZvY3VzOiBmYWxzZSxcbiAgICAgICAgY2FyZXRBbmNob3I6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5ULFxuICAgICAgICBjbG9zZU9uRXNjS2V5OiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZUNsaWNrOiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZVNjcm9sbDogdHJ1ZSxcbiAgICAgICAgcG9ydGFsUHJvcHM6IHt9LFxuICAgICAgICBwcmVzZXQ6IFBvcG92ZXIucHJlc2V0LlMsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IHdpdGhvdXQoT2JqZWN0LmtleXMoUG9wb3Zlci5kZWZhdWx0UHJvcHMpLCBEaWFsb2cuaW50ZXJuYWxLZXlzKVxuXG4gICAgc3RhdGljIGdldEFsaWdubWVudENsYXNzRnJhZ21lbnQoY29uc3RhbnQpIHtcbiAgICAgICAgc3dpdGNoIChjb25zdGFudCkge1xuICAgICAgICAgICAgY2FzZSBTVEFSVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3N0YXJ0JztcblxuICAgICAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdtaWRkbGUnO1xuXG4gICAgICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLCBjYXJldEFuY2hvcikge1xuICAgICAgICBjb25zdCBib2R5UmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdGhpcy5hbmNob3JSZWN0ID0gYW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmNhcmV0QW5jaG9yUmVjdCA9IGNhcmV0QW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIG5vcm1hbGx5IHdlJ2QgdXNlIHNjcm9sbFRvcC9zY3JvbGxMZWZ0LCBidXQgc2Nyb2xsIGJlaGF2aW9yIGNoYW5nZXMgd2hlbiBwb3NpdGlvbjogc3RpY2t5XG4gICAgICAgIC8vIGlzIGVuYWJsZWQgaW4gQ2hyb21lIGFuZCBpbnZlcnRpbmcgdGhlIG5lZ2F0aXZlIHZpZXdwb3J0IHJlY3QgdmFsdWUgc2VlbXMgdG8gd29yayBtb3JlXG4gICAgICAgIC8vIGNvbnNpc3RlbnRseVxuICAgICAgICB0aGlzLmJvZHlMZWZ0ID0gYm9keVJlY3QubGVmdCAqIC0xO1xuICAgICAgICB0aGlzLmJvZHlUb3AgPSBib2R5UmVjdC50b3AgKiAtMTtcbiAgICB9XG5cbiAgICBnZXROZXh0Q2FyZXRYUG9zaXRpb24oeyBuYW1lLCBheCwgZHgsIGF5LCBkeSB9LCBjYXJldCA9IHRoaXMuJGNhcmV0KSB7XG4gICAgICAgIGxldCBuZXh0WCA9IDA7XG5cbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdOJyB8fCBuYW1lWzBdID09PSAnUycpIHtcbiAgICAgICAgICAgIC8vIHBvcG92ZXIgaXMgYWJvdmUvYmVsb3csIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBYIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3JcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QubGVmdCAtIHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgdGhpcy5jYXJldEFuY2hvclJlY3Qud2lkdGggLyAyO1xuXG4gICAgICAgICAgICBpZiAoZHggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9ICh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aCAtIHRoaXMuYW5jaG9yUmVjdC53aWR0aCkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkeCA9PT0gRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGggLSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwb3BvdmVyIGlzIGxlZnQvcmlnaHQsIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBZIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3IgKGNhcmV0IGlzIHJvdGF0ZWQgdmlhIENTUylcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QudG9wIC0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuY2FyZXRBbmNob3JSZWN0LmhlaWdodCAvIDI7XG5cbiAgICAgICAgICAgIGlmIChkeSA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gKHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZHkgPT09IEVORCkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0WCAtPSBjYXJldC5jbGllbnRXaWR0aCAvIDI7XG5cbiAgICAgICAgcmV0dXJuIG5leHRYO1xuICAgIH1cblxuICAgIGdldE5leHREaWFsb2dYUG9zaXRpb24oeyBheCwgZHggfSwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgbGV0IG5leHRYID0gdGhpcy5hbmNob3JSZWN0LmxlZnQgKyB0aGlzLmJvZHlMZWZ0O1xuXG4gICAgICAgIHN3aXRjaCAoYXgpIHtcbiAgICAgICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgICAgIG5leHRYICs9IHRoaXMuYW5jaG9yUmVjdC53aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgICAgIG5leHRYICs9IHRoaXMuYW5jaG9yUmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZHgpIHtcbiAgICAgICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgICAgIG5leHRYIC09IGRpYWxvZy5jbGllbnRXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgICAgIG5leHRYIC09IGRpYWxvZy5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WDtcbiAgICB9XG5cbiAgICBnZXROZXh0RGlhbG9nWVBvc2l0aW9uKHsgYXksIGR5IH0sIGRpYWxvZyA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyKSB7XG4gICAgICAgIGxldCBuZXh0WSA9IHRoaXMuYW5jaG9yUmVjdC50b3AgKyB0aGlzLmJvZHlUb3A7XG5cbiAgICAgICAgc3dpdGNoIChheSkge1xuICAgICAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICAgICAgbmV4dFkgKz0gdGhpcy5hbmNob3JSZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgICAgIG5leHRZICs9IHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGR5KSB7XG4gICAgICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgICAgICBuZXh0WSAtPSBkaWFsb2cuY2xpZW50SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICAgICAgbmV4dFkgLT0gZGlhbG9nLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvc2l0aW9uIGNvbWJpbmF0aW9uLCB3aWxsIHRoZSBwb3BvdmVyIGZpdCBpbnRvIHRoZSBzcGFjZSB3aXRob3V0IG9jY2x1c2lvbj9cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGNvbmZpZ1xuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5heFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5heVxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5keFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGNvbmZpZy5keVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIHBIZWlnaHRcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwV2lkdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNQb3NpdGlvblZhbGlkKHsgbmFtZSwgYXgsIGF5LCBkeCwgZHkgfSwgcEhlaWdodCwgcFdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gbmFtZVswXTtcblxuICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyB8fCBjYXJkaW5hbCA9PT0gJ1MnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyAmJiB0aGlzLmFuY2hvclJlY3QudG9wIC0gcEhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1MnICYmIHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF4ID09PSBTVEFSVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgcmlnaHQgKi8gfHwgdGhpcy5hbmNob3JSZWN0LmxlZnQgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiB0byB0aGUgbGVmdCAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF4ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIC8gMiA8IDAgICAgICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi8gfHwgdGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggLyAyID4gd2luZG93LmlubmVyV2lkdGgpICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIDwgMCAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgbGVmdCAqLyB8fCB0aGlzLmFuY2hvclJlY3QucmlnaHQgPiB3aW5kb3cuaW5uZXJXaWR0aCkgICAgICAgICAgLyogYW5jaG9yIGlzIHBhcnRpYWxseSBvZmZzY3JlZW4gdG8gdGhlIHJpZ2h0ICovXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY2FyZGluYWwgPT09ICdXJyB8fCBjYXJkaW5hbCA9PT0gJ0UnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdXJyAmJiB0aGlzLmFuY2hvclJlY3QubGVmdCAtIHBXaWR0aCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBsZWZ0ICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhcmRpbmFsID09PSAnRScgJiYgdGhpcy5hbmNob3JSZWN0LnJpZ2h0ICsgcFdpZHRoID4gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSByaWdodCAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXkgPT09IFNUQVJUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QudG9wICsgcEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAgICAvKiB3b3VsZCBvY2NsdWRlIGJlbG93ICovIHx8IHRoaXMuYW5jaG9yUmVjdC50b3AgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF5ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC50b3AgKyB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0IC8gMiAtIHBIZWlnaHQgLyAyIDwgMCAgICAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgYWJvdmUgKi8gfHwgdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyICsgcEhlaWdodCAvIDIgPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LnRvcCAtIHBIZWlnaHQgPCAwICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGFib3ZlICovIHx8IHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIGJlbG93ICovXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBnaXZlbiB0aGUgY3VycmVudCB2aWV3cG9ydCBjYXJ0b2dyYXBoeSwgd2hlcmUgY2FuIHdlIHN0aWNrIHRoZSBwb3BvdmVyXG4gICAgICAgIC8vIHNvIGl0IHdvbid0IGJlIHBhcnRpYWxseSBvY2NsdWRlZD9cbiAgICAgICAgY29uc3QgdmFsaWRDb21ib3MgPSBjb21iaW5hdGlvbnMuZmlsdGVyKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUG9zaXRpb25WYWxpZChjb25maWcsIGhlaWdodCwgd2lkdGgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAxLiBpcyB0aGUgcmVxdWVzdGVkIHByZXNldCBpbiB0aGUgbGlzdD9cbiAgICAgICAgLy8gMi4gZG9lcyB0aGUgY29uc3VtZXIgbm90IHdhbnQgdXMgYXV0by1yZXBvc2l0aW9uaW5nP1xuICAgICAgICAvLyAzLiBhcmUgbm8gY29tYm9zIHZhbGlkP1xuICAgICAgICBpZiAodmFsaWRDb21ib3MuaW5kZXhPZih0aGlzLnByb3BzLnByZXNldCkgIT09IC0xIHx8ICF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9uIHx8ICF2YWxpZENvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNldDsgLy8ganVzdCBnbyB3aXRoIHRoZSByZXF1ZXN0ZWQgcHJlc2V0XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdGhlcndpc2UuLi4gd2UgdHJ5IHRvIGZpbmQgdGhlIGJlc3QgcG9zc2libGUgZmFsbGJhY2sgb3B0aW9uXG5cbiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSByZXF1ZXN0ZWQgcHJlc2V0IGhlbWlzcGhlcmVcbiAgICAgICAgY29uc3QgYmVzdENvbWJvcyA9IHZhbGlkQ29tYm9zLmZpbHRlcigoeyBuYW1lIH0pID0+IG5hbWVbMF0gPT09IHRoaXMucHJvcHMucHJlc2V0Lm5hbWVbMF0pO1xuXG4gICAgICAgIGlmIChiZXN0Q29tYm9zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGJlc3RDb21ib3NbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGVuIHRoZSBvcHBvc2l0ZSAoZS5nLiB0aGUgZWxlbWVudCBpcyB0b28gbG93IGluIHRoZSB2aWV3cG9ydCBzbyBmbGlwIHVwIGluc3RlYWQgb2YgZG93bilcbiAgICAgICAgY29uc3Qgb3Bwb3NpdGVDYXJkaW5hbCA9IGdldE9wcG9zaXRlQ2FyZGluYWwodGhpcy5wcm9wcy5wcmVzZXQubmFtZSk7XG4gICAgICAgIGNvbnN0IG9rYXlDb21ib3MgPSB2YWxpZENvbWJvcy5maWx0ZXIoKHsgbmFtZSB9KSA9PiBuYW1lWzBdID09PSBvcHBvc2l0ZUNhcmRpbmFsKTtcblxuICAgICAgICBpZiAob2theUNvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBva2F5Q29tYm9zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hhdGV2ZXIncyBsZWZ0IHdpbGwgaGF2ZSB0byBkb1xuICAgICAgICByZXR1cm4gdmFsaWRDb21ib3NbMF07XG4gICAgfVxuXG4gICAgYWxpZ24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGZpbmRET01Ob2RlKHRoaXMucHJvcHMuYW5jaG9yKTtcblxuICAgICAgICBjb25zdCBjYXJldEFuY2hvciA9IHRoaXMucHJvcHMuY2FyZXRBbmNob3JcbiAgICAgICAgICAgID8gZmluZERPTU5vZGUodGhpcy5wcm9wcy5jYXJldEFuY2hvcilcbiAgICAgICAgICAgIDogYW5jaG9yO1xuXG4gICAgICAgIHRoaXMuY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvciwgY2FyZXRBbmNob3IpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1hdGNoQW5jaG9yV2lkdGgpIHsgdGhpcy5tYXRjaEFuY2hvcldpZHRoKCk7IH1cblxuICAgICAgICBjb25zdCBwcmVzZXQgPSB0aGlzLmdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCk7XG4gICAgICAgIGNvbnN0IGZyYWcgPSBQb3BvdmVyLmdldEFsaWdubWVudENsYXNzRnJhZ21lbnQ7XG5cbiAgICAgICAgdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xhc3NOYW1lID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xhc3NOYW1lLnJlcGxhY2UoQ0xBU1NfUkVNT1ZBTF9SRUdFWCwgJycpXG4gICAgICAgICAgICArIGAgYi1wb3BvdmVyLWFuY2hvci14LSR7ZnJhZyhwcmVzZXQuYXgpfWBcbiAgICAgICAgICAgICsgYCBiLXBvcG92ZXItYW5jaG9yLXktJHtmcmFnKHByZXNldC5heSl9YFxuICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1zZWxmLXgtJHtmcmFnKHByZXNldC5keCl9YFxuICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1zZWxmLXktJHtmcmFnKHByZXNldC5keSl9YDtcblxuICAgICAgICBjb25zdCBkeCA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0RGlhbG9nWFBvc2l0aW9uKHByZXNldCkpO1xuICAgICAgICBjb25zdCBkeSA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0RGlhbG9nWVBvc2l0aW9uKHByZXNldCkpO1xuICAgICAgICBjb25zdCBwcCA9IHRoaXMucHJvcHMucG9ydGFsUHJvcHM7XG4gICAgICAgIGNvbnNvbGUubG9nKGNhcmV0QW5jaG9yKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QYXJlbnQgPSBwcCAmJiBwcC5zdHlsZSAmJiAocHAuc3R5bGUudHJhbnNmb3JtIHx8ICcnKTtcbiAgICAgICAgdGhpcy5kaWFsb2cuJHdyYXBwZXIuc3R5bGVbJ3RyYW5zZm9ybS1vcmlnaW4nXSA9IGAke2R4fXB4LCAke2R5fXB4YDtcbiAgICAgICAgdGhpcy5kaWFsb2cuJHdyYXBwZXIuc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBgJHt0aGlzLnRyYW5zZm9ybVBhcmVudH0gdHJhbnNsYXRlKCR7ZHh9cHgsICR7ZHl9cHgpYDtcblxuICAgICAgICBjb25zdCBjYXJkaW5hbCA9IHByZXNldC5uYW1lWzBdO1xuICAgICAgICBjb25zdCBsb25naXR1ZGluYWwgPSBjYXJkaW5hbCA9PT0gJ04nIHx8IGNhcmRpbmFsID09PSAnUyc7XG5cbiAgICAgICAgLy8gdGhlIGNhcmV0IGlzIGluaXRpYWxseSBwb3NpdGlvbmVkIGF0IDAsMCBpbnNpZGUgdGhlIGRpYWxvZ1xuICAgICAgICAvLyB3aGljaCBpcyBhbHJlYWR5IHBvc2l0aW9uZWQgYXQgdGhlIGFuY2hvciwgc28gd2UganVzdCBuZWVkIHRvXG4gICAgICAgIC8vIG1ha2Ugc21hbGwgYWRqdXN0bWVudHMgYXMgbmVjZXNzYXJ5IHRvIGxpbmUgdXAgdGhlIGNhcmV0XG4gICAgICAgIC8vIHdpdGggdGhlIHZpc3VhbCBjZW50ZXIgb2YgdGhlIGFuY2hvclxuICAgICAgICB0aGlzLiRjYXJldC5zdHlsZVtsb25naXR1ZGluYWwgPyAnbGVmdCcgOiAndG9wJ10gPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dENhcmV0WFBvc2l0aW9uKHByZXNldCkpICsgJ3B4JztcbiAgICAgICAgdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsID8gJ3RvcCcgOiAnbGVmdCddID0gJzBweCc7XG4gICAgfVxuXG4gICAgbWF0Y2hBbmNob3JXaWR0aCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZGlhbG9nID0gdGhpcy5kaWFsb2cuJGRpYWxvZztcbiAgICAgICAgZGlhbG9nLnN0eWxlLndpZHRoID0gYCR7dGhpcy5hbmNob3JSZWN0LndpZHRofXB4YDtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5hbGlnbigpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5hbGlnbiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFsaWduKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTsgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UG9ydGFsIHsuLi5wcm9wcy5wb3J0YWxQcm9wc30+XG4gICAgICAgICAgICAgICAgPERpYWxvZ1xuICAgICAgICAgICAgICAgICAgICB7Li4ub21pdChwcm9wcywgUG9wb3Zlci5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhpbnN0YW5jZSkgPT4gKHRoaXMuZGlhbG9nID0gaW5zdGFuY2UpfVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVFbGVtZW50KHByb3BzLmNhcmV0Q29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAobm9kZSkgPT4gKHRoaXMuJGNhcmV0ID0gbm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi1wb3BvdmVyLWNhcmV0JywgcHJvcHMuY2FyZXRDb21wb25lbnQucHJvcHMuY2xhc3NOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wb3BvdmVyJywgcHJvcHMuY2xhc3NOYW1lKX0gLz5cbiAgICAgICAgICAgIDwvUG9ydGFsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3BvdmVyL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==